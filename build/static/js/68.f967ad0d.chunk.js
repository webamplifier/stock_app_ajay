(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[68],{671:function(e,t,a){"use strict";t.a=a.p+"static/media/add.b7874215.svg"},829:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return f}));var c=a(673),s=a(664),n=a(128),r=a(665),o=a.n(r),l=a(1),i=a.n(l),u=a(671),d=a(670),j=a(663),p=a(100),b=a(667),m=a(24),h=a(18);function f(){var e=Object(m.i)().id,t=Object(m.g)(),a=i.a.useContext(p.b),r=a.user,l=a.setLoad,f=i.a.useState(""),x=Object(n.a)(f,2),O=x[0],v=x[1],_=i.a.useState(""),y=Object(n.a)(_,2),g=y[0],k=y[1],w=i.a.useState(!1),F=Object(n.a)(w,2),S=F[0],N=F[1],C=i.a.useState(""),q=Object(n.a)(C,2),T=q[0],A=q[1],P=i.a.useState(""),B=Object(n.a)(P,2),D=B[0],I=B[1],G=i.a.useState("None"),z=Object(n.a)(G,2),V=z[0],E=z[1],J=i.a.useState(0),M=Object(n.a)(J,2),R=M[0],L=M[1],Q=i.a.useState("percent"),W=Object(n.a)(Q,2),H=W[0],K=W[1],U=i.a.useState(""),X=Object(n.a)(U,2),Y=X[0],Z=X[1],$=i.a.useState({label:"cash"}),ee=Object(n.a)($,2),te=ee[0],ae=ee[1],ce=i.a.useState(0),se=Object(n.a)(ce,2),ne=se[0],re=se[1],oe=i.a.useState("percent"),le=Object(n.a)(oe,2),ie=le[0],ue=le[1],de=i.a.useState(0),je=Object(n.a)(de,2),pe=je[0],be=je[1],me=i.a.useState({value:0,label:0}),he=Object(n.a)(me,2),fe=he[0],xe=he[1],Oe=i.a.useState(1),ve=Object(n.a)(Oe,2),_e=ve[0],ye=ve[1],ge=i.a.useState([]),ke=Object(n.a)(ge,2),we=ke[0],Fe=ke[1],Se=i.a.useState(""),Ne=Object(n.a)(Se,2),Ce=Ne[0],qe=Ne[1],Te=i.a.useState([]),Ae=Object(n.a)(Te,2),Pe=Ae[0],Be=Ae[1],De=i.a.useState([]),Ie=Object(n.a)(De,2),Ge=Ie[0],ze=Ie[1],Ve=i.a.useState([]),Ee=Object(n.a)(Ve,2),Je=Ee[0],Me=Ee[1],Re=i.a.useState([]),Le=Object(n.a)(Re,2),Qe=Le[0],We=Le[1],He=i.a.useState([]),Ke=Object(n.a)(He,2),Ue=Ke[0],Xe=Ke[1],Ye=0,Ze=0,$e=0,et=0,tt=i.a.useState(0),at=Object(n.a)(tt,2),ct=at[0],st=at[1],nt=i.a.useState(0),rt=Object(n.a)(nt,2),ot=rt[0],lt=rt[1],it=i.a.useState(0),ut=Object(n.a)(it,2),dt=ut[0],jt=ut[1],pt=i.a.useState(0),bt=Object(n.a)(pt,2),mt=bt[0],ht=bt[1],ft=i.a.useState(""),xt=Object(n.a)(ft,2),Ot=xt[0],vt=xt[1],_t=0,yt=0,gt=0,kt=0,wt=0,Ft=0,St=0;function Nt(e){return Ct.apply(this,arguments)}function Ct(){return(Ct=Object(s.a)(o.a.mark((function e(t){var a,c,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,fetch(j.c+"fetchProducts?warehouse=".concat(t),{method:"GET",headers:{Authorization:null===r||void 0===r?void 0:r.token}});case 3:if(!0!==(a=e.sent).ok){e.next=10;break}return e.next=7,a.json();case 7:c=e.sent,l(!1),200===c.status?(s=[],c.inventory_list&&c.inventory_list.map((function(e){s.push({value:e.product_id,label:e.product_name,type:"product",price:e.sale_unit_price,unit:e.product_unit,hsbn:e.product_hsbn,serial_no:e.product_serial_no})})),c.product_list&&c.product_list.map((function(e){s.push({value:e.id,label:e.name,type:e.type,unit:e.unit,price:e.price,hsbn:e.hsbn,serial_no:e.serial_no})})),Xe(s)):b.b.error(c.message);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i.a.useEffect((function(){function t(){return(t=Object(s.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,fetch(j.c+"getPaymentMethods",{method:"GET",headers:{Authorization:null===r||void 0===r?void 0:r.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,l(!1),ze(null===a||void 0===a?void 0:a.payment_methods.map((function(e){return{label:e}})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=Object(s.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,fetch(j.c+"clientlist",{method:"GET",headers:{Authorization:null===r||void 0===r?void 0:r.token}});case 3:if(!0!==(t=e.sent).ok){e.next=10;break}return e.next=7,t.json();case 7:a=e.sent,l(!1),200===a.status?Be(null===a||void 0===a?void 0:a.client_list.map((function(e){return{value:e.id,label:e.name,amount:e.due_amount}}))):b.b.error(a.message);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function c(){return(c=Object(s.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,fetch(j.c+"getGSTList",{method:"GET",headers:{Authorization:null===r||void 0===r?void 0:r.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,l(!1),Fe(null===a||void 0===a?void 0:a.gst.map((function(e){return{value:e,label:e}})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(s.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,fetch(j.c+"warehouselist",{method:"GET",headers:{Authorization:null===r||void 0===r?void 0:r.token}});case 3:if(!0!==(t=e.sent).ok){e.next=10;break}return e.next=7,t.json();case 7:a=e.sent,l(!1),200===a.status?Me(null===a||void 0===a?void 0:a.warehouse_list.map((function(e){return{value:e.id,label:e.name}}))):b.b.error(a.message);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function i(){return(i=Object(s.a)(o.a.mark((function t(){var a,c,s,n,i,u,d,p,m,h,f,x,O,_,y;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.next=3,fetch(j.c+"getSaleById/"+e,{headers:{Authorization:r.token}});case 3:if(!0!==(a=t.sent).ok){t.next=10;break}return t.next=7,a.json();case 7:if(c=t.sent,l(!1),200===c.status){for(s=c.sale_header,n="",i=0,parseFloat(s.bill_discount_percentage)>0?(n="percent",i=s.bill_discount_percentage):parseFloat(s.bill_discount_amount)>0&&(n="amount",i=s.bill_discount_amount),u=c.sale_items,v(s.invoice_number),k(s.sale_date),A({value:s.customer_id,label:s.customer_name}),I({value:s.warehouse_id,label:s.warehouse_name}),Nt(s.warehouse_id),E(s.discount_type),d=[],p=0;p<u.length;p++)m=u[p],h="",f=0,m.discount_percent&&parseFloat(m.discount_percent)>0?(h="percent",f=m.discount_percent):m.discount_amount&&(h="amount",f=m.discount_amount),x={},"true"===s.default_gst?(N(!0),x={item:{value:m.product_id,label:m.product_name,type:m.product_type,unit:m.product_unit,price:m.sale_price,hsbn:m.product_hsbn,serial_no:m.product_serial_no},item_id:m.id,sale_price:m.sale_price,qty:m.qty,discount_type:h,discountValue:f,warehouse_id:m.warehouse_id,warehouse_name:m.warehouse_name,gst:{label:m.tax_percent,value:m.tax_percent},total:m.total,amount_item:m.total,amount_after_tax:m.amount_after_tax,amount_before_discount:m.amount_before_discount,tax_amount:m.tax_amount,discount_amount:m.discount_amount,amount_after_discount:m.amount_after_discount}):(N(!1),x={item:{value:m.product_id,label:m.product_name,type:m.product_type,unit:m.product_unit,price:m.sale_price,hsbn:m.product_hsbn,serial_no:m.product_serial_no},item_id:m.id,sale_price:m.sale_price,qty:m.qty,discount_type:h,discountValue:f,total:m.total,warehouse_id:m.warehouse_id,warehouse_name:m.warehouse_name,gst:{value:0,label:0},amount_item:m.total,amount_after_tax:m.amount_after_tax,amount_before_discount:m.amount_before_discount,tax_amount:m.tax_amount,discount_amount:m.discount_amount,amount_after_discount:m.amount_after_discount}),d.push(x);We(d),O=0,_=0,y=0,d.map((function(e){O=parseFloat(O)+parseFloat(e.total),_=parseFloat(_)+parseFloat(e.discount_amount),y=parseFloat(y)+parseFloat(e.tax_amount)})),lt(O),jt(_),ht(y),re(i),ue(n),st(s.amount_paid),ae({label:s.payment_type}),qe(s.remarks)}else b.b.error(c.message);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}(),function(){a.apply(this,arguments)}(),function(){c.apply(this,arguments)}(),function(){n.apply(this,arguments)}(),function(){i.apply(this,arguments)}()}),[]);pe>0&&_e>0&&(gt=parseFloat(pe)*parseFloat(_e),yt=0,S&&fe&&(yt=parseFloat(gt)/100*parseFloat(fe.value)),_t=Ft=gt+yt,"Item"!==V&&"Both"!==V||(kt=Ft,"percent"===H&&(St=parseFloat(kt)/100*parseFloat(R),_t=wt=kt-St),"amount"===H&&(St=parseFloat(R),_t=wt=kt-St)));ot>0&&("Bill"===V||"Both"===V?("percent"===ie&&($e=ot/100*parseFloat(ne),ot,et=ot-$e),"amount"===ie&&($e=parseFloat(ne),ot,et=ot-$e),Ze=(Ye=et)-parseFloat(ct)):Ze=(Ye=ot)-parseFloat(ct));return Object(h.jsxs)("div",{className:"container full-size-create-page-main-section",children:[Object(h.jsx)(b.a,{}),Object(h.jsxs)("form",{children:[Object(h.jsxs)("div",{className:"p-sm-5 px-md-3 create-form-field create-purchase-page",children:[Object(h.jsxs)("div",{class:"py-4 px-2 form-row create-purchase-header",children:[Object(h.jsxs)("div",{class:"form-group col-md-3",children:[Object(h.jsxs)("label",{for:"invoice-number",children:["Invoice No.",Object(h.jsx)("span",{className:"required-label",children:"*"})]}),Object(h.jsx)("input",{readOnly:!0,value:O,type:"text",class:"form-control",id:"invoice-number"})]}),Object(h.jsxs)("div",{class:"form-group col-md-4",children:[Object(h.jsxs)("label",{for:"input-party",children:["Warehouse",Object(h.jsx)("span",{className:"required-label",children:"*"})]}),Object(h.jsx)(d.a,{readOnly:!0,options:Je,value:D})]}),Object(h.jsxs)("div",{class:"form-group col-md-4",children:[Object(h.jsx)("label",{for:"date",children:"Sale Date"}),Object(h.jsx)("input",{value:g,onChange:function(e){return k(e.target.value)},type:"date",class:"form-control",id:"date",required:!0})]}),Object(h.jsxs)("div",{class:"form-group col-md-4",children:[Object(h.jsxs)("label",{for:"input-party",children:["Customer",Object(h.jsx)("span",{className:"required-label",children:"*"})]}),Object(h.jsx)(d.a,{options:Pe,value:T})]}),Object(h.jsxs)("div",{class:"form-group my-md-3 col-md-4",children:[Object(h.jsx)("div",{className:"text-center mb-2 font-weight-bold",children:Object(h.jsxs)("label",{for:"input-party",children:["Discount Type",Object(h.jsx)("span",{className:"required-label",children:"*"})]})}),Object(h.jsxs)("div",{className:"row px-3",children:[Object(h.jsxs)("div",{class:"form-check col-sm-3",children:[Object(h.jsx)("input",{checked:"None"===V&&!0,onClick:function(){return E("None")},class:"form-check-input",name:"discount",type:"radio",value:"",id:"defaultCheck1"}),Object(h.jsx)("label",{class:"form-check-label",for:"defaultCheck1",children:"None"})]}),Object(h.jsxs)("div",{class:"form-check col-sm-3",children:[Object(h.jsx)("input",{checked:"Item"===V&&!0,onClick:function(){return E("Item")},class:"form-check-input",name:"discount",type:"radio",value:"",id:"defaultCheck2"}),Object(h.jsx)("label",{class:"form-check-label",for:"defaultCheck2",children:"Item"})]}),Object(h.jsxs)("div",{class:"form-check col-sm-3",children:[Object(h.jsx)("input",{checked:"Bill"===V&&!0,onClick:function(){return E("Bill")},class:"form-check-input",name:"discount",type:"radio",value:"",id:"defaultCheck3"}),Object(h.jsx)("label",{class:"form-check-label",for:"defaultCheck3",children:"Bill"})]}),Object(h.jsxs)("div",{class:"form-check col-sm-3",children:[Object(h.jsx)("input",{checked:"Both"===V&&!0,onClick:function(){return E("Both")},class:"form-check-input",name:"discount",type:"radio",value:"",id:"defaultCheck3"}),Object(h.jsx)("label",{class:"form-check-label",for:"defaultCheck3",children:"Both"})]})]})]}),Object(h.jsxs)("div",{class:"form-group col-md-2",children:[Object(h.jsx)("label",{for:"inputPassword",class:"col-sm-2 col-form-label",children:"GST:"}),Object(h.jsx)("div",{class:"d-flex b-0 col-sm-1",children:Object(h.jsx)("input",{readOnly:!0,checked:S,type:"checkbox",id:"inputPassword"})})]})]}),Object(h.jsxs)("div",{class:"my-4 form-row",children:[Object(h.jsxs)("div",{class:"form-group col-md-4",children:[Object(h.jsxs)("label",{for:"invoice-number",children:["Item",Object(h.jsx)("span",{className:"required-label",children:"*"})]}),Object(h.jsx)(d.a,{options:Ue,value:Y,onChange:function(e){return function(e){Z(e),be(e.price)}(e)}})]}),Object(h.jsxs)("div",{class:"form-group col-md-4",children:[Object(h.jsxs)("label",{for:"invoice-number",children:["Price",Object(h.jsx)("span",{className:"required-label",children:"*"})]}),Object(h.jsx)("input",{value:pe,onChange:function(e){return be(e.target.value)},type:"text",class:"form-control",id:""})]}),Object(h.jsxs)("div",{class:"form-group col-md-4",children:[Object(h.jsxs)("label",{for:"invoice-number",children:["Quantity",Y?" (".concat(Y.unit,")"):null,Object(h.jsx)("span",{className:"required-label",children:"*"})]}),Object(h.jsx)("input",{value:_e,onChange:function(e){return ye(e.target.value)},type:"text",class:"form-control",id:""})]}),S&&Object(h.jsxs)("div",{class:"form-group col-md-4",children:[Object(h.jsxs)("label",{for:"invoice-number",children:["GST:",Object(h.jsx)("span",{className:"required-label",children:"*"})]}),Object(h.jsx)(d.a,{options:we,value:fe,onChange:xe})]}),"Item"===V&&Object(h.jsxs)("div",{className:"form-group col-md-4",children:[Object(h.jsx)("label",{htmlFor:"",children:"Discount"}),Object(h.jsxs)("div",{className:"m-0 p-0 col-12 row",children:[Object(h.jsx)("div",{className:"px-0 col-5",children:Object(h.jsx)("input",{value:R,onChange:function(e){return L(e.target.value)},class:"form-control",type:"text",name:"",id:""})}),Object(h.jsx)("div",{className:"p-0 col-7",children:Object(h.jsxs)("select",{value:H,onChange:function(e){return K(e.target.value)},class:"form-control",required:!0,children:[Object(h.jsx)("option",{value:"",children:"Select Type"}),Object(h.jsx)("option",{value:"percent",children:"Percent"}),Object(h.jsx)("option",{value:"amount",children:"Amount"})]})})]})]}),"Both"===V&&Object(h.jsxs)("div",{className:"form-group col-md-4",children:[Object(h.jsx)("label",{htmlFor:"",children:"Discount"}),Object(h.jsxs)("div",{className:"m-0 p-0 col-12 row",children:[Object(h.jsx)("div",{className:"px-0 col-5",children:Object(h.jsx)("input",{value:R,onChange:function(e){return L(e.target.value)},class:"form-control",type:"text",name:"",id:""})}),Object(h.jsx)("div",{className:"p-0 col-7",children:Object(h.jsxs)("select",{value:H,onChange:function(e){return K(e.target.value)},class:"form-control",required:!0,children:[Object(h.jsx)("option",{value:"",children:"Select Type"}),Object(h.jsx)("option",{value:"percent",children:"Percent"}),Object(h.jsx)("option",{value:"amount",children:"Amount"})]})})]})]}),Object(h.jsxs)("div",{class:"form-group col-md-4 row",children:[Object(h.jsxs)("div",{class:"form-group col-9",children:[Object(h.jsxs)("label",{for:"invoice-number",children:["Total",Object(h.jsx)("span",{className:"required-label",children:"*"})]}),Object(h.jsx)("input",{value:_t,readOnly:!0,type:"text",class:"form-control",id:""})]}),Object(h.jsx)("div",{class:"form-group col-3 p-0 purchase-create-mid-plus-img",children:Object(h.jsx)("img",{className:"img-fluid",onClick:function(){return function(){if(O&&g&&Y&&D&&T&&pe&&_e){var e={item:Y,sale_price:pe,qty:_e,gst:fe,discount_type:H,discountValue:R,total:_t,amount_item:gt,amount_before_discount:kt,discount_amount:St,tax_amount:yt,amount_after_discount:wt,warehouse_id:null===D||void 0===D?void 0:D.value,warehouse_name:null===D||void 0===D?void 0:D.label};if(Ot){vt("");var t=[];Qe.map((function(a,c){c===parseInt(Ot)-1?t.push(e):t.push(a)}));var a=0,s=0,n=0;t.map((function(e){a=parseFloat(a)+parseFloat(e.total),s=parseFloat(s)+parseFloat(e.discount_amount),n=parseFloat(n)+parseFloat(e.tax_amount)})),lt(a),jt(s),ht(n),We(t)}else{var r=[].concat(Object(c.a)(Qe),[e]),o=0,l=0;r.map((function(e){o=parseFloat(o)+parseFloat(e.total),St=parseFloat(St)+parseFloat(e.discount_amount),l=parseFloat(l)+parseFloat(e.tax_amount)})),jt(St),ht(l),lt(o),lt(parseFloat(ot)+parseFloat(_t)),We(r)}Z(""),be(0),K(""),L(0),ye(1),xe({value:0,label:0}),_t=0,gt=0,kt=0,wt=0,St=0,yt=0,Ft=0}else b.b.error("Fill all fields having *")}()},style:{cursor:"pointer"},src:u.a,alt:""})})]})]}),Qe.length>0&&Object(h.jsx)("div",{className:"my-table-responsive",children:Object(h.jsxs)("table",{class:"table mt-4",children:[Object(h.jsx)("thead",{class:"thead-dark",children:Object(h.jsxs)("tr",{children:[Object(h.jsx)("th",{scope:"col",children:"Item"}),Object(h.jsx)("th",{scope:"col",children:"Price"}),Object(h.jsx)("th",{scope:"col",children:"Quantity"}),Object(h.jsx)("th",{scope:"col",children:"GST"}),Object(h.jsx)("th",{scope:"col",children:"Discount"}),Object(h.jsx)("th",{scope:"col",children:"Total"}),Object(h.jsx)("th",{children:"Actions"})]})}),Object(h.jsx)("tbody",{className:"table-borderless",children:Qe.map((function(e,t){return Object(h.jsxs)("tr",{children:[Object(h.jsxs)("td",{children:[Object(h.jsx)("p",{className:"p-0 m-0",children:e.item.label}),Object(h.jsxs)("p",{children:["(",e.warehouse_name,")"]})]}),Object(h.jsx)("td",{children:e.sale_price}),Object(h.jsx)("td",{children:e.qty}),Object(h.jsxs)("td",{children:[e.gst.value,"%"]}),Object(h.jsxs)("td",{children:[e.discountValue," ",e.discount_type]}),Object(h.jsx)("td",{children:e.total}),Object(h.jsxs)("td",{children:[Object(h.jsx)("i",{style:{cursor:"pointer"},onClick:function(){return function(e,t){vt(t),Z(e.item),be(e.sale_price),ye(e.qty),xe(e.gst),K(e.discount_type),L(e.discountValue),_t=e.total}(e,t+1)},class:"fa fa-pencil","aria-hidden":"true"}),Object(h.jsx)("i",{onClick:function(){return function(e){var t=[];Qe.map((function(a,c){c!==e&&t.push(a)}));var a=0,c=0,s=0;t.map((function(e){a=parseFloat(a)+parseFloat(e.total),c=parseFloat(c)+parseFloat(e.discount_amount),s=parseFloat(s)+parseFloat(e.tax_amount)})),jt(c),ht(s),lt(a),We(t)}(t)},style:{cursor:"pointer"},class:"fa fa-trash","aria-hidden":"true"})]})]})}))})]})}),Object(h.jsxs)("div",{className:"row mt-5 justify-content-between purchase-create-footer",children:[Object(h.jsxs)("div",{class:"form-group col-md-5",children:[Object(h.jsx)("label",{for:"exampleFormControlTextarea1",children:"Remarks"}),Object(h.jsx)("textarea",{value:Ce,onChange:function(e){return qe(e.target.value)},class:"form-control",id:"exampleFormControlTextarea1",rows:"5"})]}),Object(h.jsxs)("div",{className:"col-md-6",children:[Object(h.jsxs)("div",{class:"form-group row",children:[Object(h.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Total Value"}),Object(h.jsx)("div",{class:"col-md-8",children:Object(h.jsx)("input",{type:"text",value:ot,class:"form-control",id:""})})]}),"Bill"===V&&Object(h.jsxs)("div",{class:"form-group row",children:[Object(h.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Discount"}),Object(h.jsxs)("div",{class:"pr-0 col-md-8 row",children:[Object(h.jsx)("div",{className:"pr-0 col-5",children:Object(h.jsx)("input",{class:"form-control",value:ne,onChange:function(e){return re(e.target.value)},type:"text",name:"",id:""})}),Object(h.jsx)("div",{className:"px-0 col-7",children:Object(h.jsxs)("select",{value:ie,onChange:function(e){return ue(e.target.value)},class:"form-control",required:!0,children:[Object(h.jsx)("option",{value:"",children:"Select Type"}),Object(h.jsx)("option",{value:"percent",children:"Percent"}),Object(h.jsx)("option",{value:"amount",children:"Amount"})]})})]})]}),"Both"===V&&Object(h.jsxs)("div",{class:"form-group row",children:[Object(h.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Discount"}),Object(h.jsxs)("div",{class:"pr-0 col-md-8 row",children:[Object(h.jsx)("div",{className:"pr-0 col-5",children:Object(h.jsx)("input",{class:"form-control",type:"text",value:ne,onChange:function(e){return re(e.target.value)}})}),Object(h.jsx)("div",{className:"px-0 col-7",children:Object(h.jsxs)("select",{value:ie,onChange:function(e){return ue(e.target.value)},class:"form-control",required:!0,children:[Object(h.jsx)("option",{value:"",children:"Select Type"}),Object(h.jsx)("option",{value:"percent",children:"Percent"}),Object(h.jsx)("option",{value:"amount",children:"Amount"})]})})]})]}),Object(h.jsxs)("div",{class:"form-group row",children:[Object(h.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Final Amount"}),Object(h.jsx)("div",{class:"col-md-8",children:Object(h.jsx)("input",{readOnly:!0,value:Ye,type:"text",class:"form-control",id:""})})]}),Object(h.jsxs)("div",{class:"form-group row",children:[Object(h.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Paid Amount"}),Object(h.jsx)("div",{class:"col-md-8",children:Object(h.jsx)("input",{readOnly:!0,value:ct,type:"text",class:"form-control",id:""})})]}),ct>0&&Object(h.jsxs)("div",{class:"form-group row",children:[Object(h.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Payment Method"}),Object(h.jsx)("div",{class:"col-md-8",children:Object(h.jsx)(d.a,{readOnly:!0,options:Ge,value:te})})]}),Object(h.jsxs)("div",{class:"form-group row",children:[Object(h.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Remain Amount"}),Object(h.jsx)("div",{class:"col-md-8",children:Object(h.jsx)("input",{type:"text",value:Ze,readOnly:!0,class:"form-control",id:""})})]})]})]})]}),Object(h.jsxs)("div",{class:"d-flex justify-content-center create-catagory-btns",children:[Object(h.jsxs)("button",{type:"button",onClick:function(){return window.location.reload()},class:"font-weight-bold m-3 py-2 px-4 btn btn-danger",children:["Cancel",Object(h.jsx)("i",{class:"px-2 fa fa-times","aria-hidden":"true"})]}),Object(h.jsxs)("button",{type:"button",onClick:function(){return function(){if(O&&g&&D&&T&&Qe.length>0&&ot){var a=function(){var a=Object(s.a)(o.a.mark((function a(){var c,s;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch(j.c+"updateSaleEntry/"+e,{method:"POST",headers:{Authorization:r.token},body:u});case 2:if(!0!==(c=a.sent).ok){a.next=9;break}return a.next=6,c.json();case 6:s=a.sent,l(!1),200===s.status?(b.b.success(s.message),t.push("/salesReport")):b.b.error(s.message);case 9:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();l(!0);var c={invoiceNo:O,saleDate:g,currentCustomer:T,currentWarehouse:D,discountType:V,default_gst:S},n={totalValue:ot,finalAmount:Ye,paidAmount:ct,remainAmount:Ze,finalDiscountValue:ne,finalDiscountCriteria:ie,remarks:Ce,paymentMethod:te.label,discountAmount:dt,taxableAmount:mt},i=[];i.push(c),i.push(n);var u=new FormData;u.append("final_array",JSON.stringify(i)),u.append("allItems",JSON.stringify(Qe)),a()}else b.b.error("Please fill the data with *")}()},class:"font-weight-bold m-3 py-2 px-4 btn btn-success",children:["Save",Object(h.jsx)("i",{class:"px-2 fa fa-floppy-o","aria-hidden":"true"})]})]})]})]})}}}]);
//# sourceMappingURL=68.f967ad0d.chunk.js.map