(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[30],{668:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n(661),r=(n(1),n(18));function o(t){var e=t.modal,n=t.setModal,o=t.deleteEntry;return Object(r.jsx)("div",{className:"delete_modal_box",children:Object(r.jsxs)(a.eb,{show:e,onClose:n,children:[Object(r.jsx)(a.hb,{closeButton:!0}),Object(r.jsxs)(a.fb,{className:"delete_modal_body",children:[Object(r.jsx)("p",{children:" Are you sure you want to delete this record ?"}),Object(r.jsxs)("div",{className:"btn-div-modal-group delete_modal_Btns",children:[Object(r.jsx)("button",{onClick:function(){return o()},className:"delete_modal_yes_Btn",children:"Yes, Approve"}),Object(r.jsx)("button",{className:"btn btn-primary delete_modal_cancel_Btn",color:"secondary",onClick:function(){return n(!1)},children:"Cancel"})]})]})]})})}},854:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return h}));var a=n(664),r=n(128),o=n(665),c=n.n(o),s=n(1),i=n.n(s),u=n(672),l=n.n(u),d=n(181),m=n(663),f=n(667),b=n(100),_=n(668),p=n(18);function h(){var t=i.a.useContext(b.b),e=t.user,n=t.setLoad,o=i.a.useState([]),u=Object(r.a)(o,2),h=u[0],j=u[1],x=i.a.useState(!1),v=Object(r.a)(x,2),O=v[0],g=v[1],y=i.a.useState(""),k=Object(r.a)(y,2),q=k[0],w=k[1],N=i.a.useState(""),z=Object(r.a)(N,2),A=z[0],C=z[1],S=i.a.useState(""),E=Object(r.a)(S,2),Q=E[0],L=E[1],T=i.a.useState(0),B=Object(r.a)(T,2),G=B[0],I=B[1];i.a.useEffect((function(){function t(){return(t=Object(a.a)(c.a.mark((function t(){var a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(m.c+"fetchQuotationList",{method:"GET",headers:{Authorization:null===e||void 0===e?void 0:e.token}});case 2:if(!0!==(a=t.sent).ok){t.next=9;break}return t.next=6,a.json();case 6:r=t.sent,n(!1),200===r.status?(j(r.list.map((function(t,e){return{"#":e+1,id:t.id,quotation_number:t.quotation_number,customer_name:t.customer_name,quotation_date:Object(m.a)(t.quotation_date.split(" ")[0]),total_after_roundoff:t.total_after_roundoff,remain_amount:t.remain_amount}}))),I(parseInt(r.total_records))):f.b.error(r.message);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}n(!0),function(){t.apply(this,arguments)}()}),[]);var F=[{key:"#",text:"#",className:"#",sortable:!1},{key:"quotation_number",text:"Quotation No",className:"quotation_number",sortable:!0},{key:"quotation_date",text:"Quotation Date",className:"quotation_date",sortable:!0},{key:"customer_name",text:"Customer Name",className:"customer_name",sortable:!0},{key:"total_after_roundoff",text:"Bill Amount",className:"bill_amount",sortable:!0},{key:"remain_amount",text:"Remain Amount",className:"remain_amount",sortable:!0},{key:"action",text:"Action",className:"action",width:100,sortable:!1,cell:function(t){return Object(p.jsxs)(s.Fragment,{children:[Object(p.jsx)(d.b,{to:"/edit/quotation/".concat(t.id),style:{marginRight:"5px"},children:Object(p.jsx)("i",{className:"fa fa-pencil mr-2"})}),Object(p.jsx)("i",{style:{cursor:"pointer"},onClick:function(){return J(t.id)},class:"fa fa-trash","aria-hidden":"true"})]})}}],J=function(t){L(t),g(!0)};function D(){return(D=Object(a.a)(c.a.mark((function t(a){var r,o;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(!0),t.next=3,fetch(m.c+a,{method:"GET",headers:{Authorization:null===e||void 0===e?void 0:e.token}});case 3:if(!0!==(r=t.sent).ok){t.next=10;break}return t.next=7,r.json();case 7:o=t.sent,n(!1),200===o.status?(j(o.list.map((function(t,e){return{"#":e+1,id:t.id,quotation_number:t.quotation_number,customer_name:t.customer_name,quotation_date:Object(m.a)(t.quotation_date.split(" ")[0]),total_after_roundoff:t.total_after_roundoff,remain_amount:t.remain_amount}}))),I(parseInt(o.total_records))):f.b.error(o.message);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var M=function(t){var e="fetchQuotationList?page_number=".concat(t.page_number,"&page_size=").concat(t.page_size,"&filter_value=").concat(t.filter_value,"&to=").concat(A,"&from=").concat(q);if(t.sort_order){var n=JSON.stringify(t.sort_order);e="fetchQuotationList?page_number=".concat(t.page_number,"&page_size=").concat(t.page_size,"&filter_value=").concat(t.filter_value,"&sort_order=").concat(n,"&to=").concat(A,"&from=").concat(q)}!function(t){D.apply(this,arguments)}(e)};return Object(p.jsxs)("section",{children:[Object(p.jsx)(f.a,{}),Object(p.jsx)(_.a,{modal:O,setModal:g,deleteEntry:function(){function t(){return t=Object(a.a)(c.a.mark((function t(){var r,o,s;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(m.c+"deleteQuotation/"+Q,{method:"GET",headers:{Authorization:null===e||void 0===e?void 0:e.token}});case 2:return r=t.sent,t.next=5,r.json();case 5:200===(o=t.sent).status?(s=function(){var t=Object(a.a)(c.a.mark((function t(){var a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(m.c+"fetchQuotationList",{method:"GET",headers:{Authorization:null===e||void 0===e?void 0:e.token}});case 2:if(!0!==(a=t.sent).ok){t.next=9;break}return t.next=6,a.json();case 6:r=t.sent,n(!1),200===r.status?(j(r.list.map((function(t,e){return{"#":e+1,id:t.id,quotation_number:t.quotation_number,customer_name:t.customer_name,quotation_date:Object(m.a)(t.quotation_date.split(" ")[0]),total_after_roundoff:t.total_after_roundoff,remain_amount:t.remain_amount}}))),I(parseInt(r.total_records))):f.b.error(r.message);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g(!1),L(""),s()):f.b.error(o.message);case 7:case"end":return t.stop()}}),t)}))),t.apply(this,arguments)}n(!0),function(){t.apply(this,arguments)}()}}),Object(p.jsx)("form",{onSubmit:function(t){return function(t){if(t.preventDefault(),A&&q){var r=function(){var t=Object(a.a)(c.a.mark((function t(){var a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(m.c+"fetchQuotationList?to=".concat(A,"&from=").concat(q),{method:"GET",headers:{Authorization:null===e||void 0===e?void 0:e.token}});case 2:if(!0!==(a=t.sent).ok){t.next=11;break}return t.next=6,a.json();case 6:r=t.sent,n(!1),200===r.status?(j(r.list.map((function(t,e){return{"#":e+1,id:t.id,quotation_number:t.quotation_number,customer_name:t.customer_name,quotation_date:Object(m.a)(t.quotation_date.split(" ")[0]),total_after_roundoff:t.total_after_roundoff,remain_amount:t.remain_amount}}))),I(parseInt(r.total_records))):f.b.error(r.message),t.next=12;break;case 11:f.b.error("Oops something went wrong!");case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();n(!0),r().catch((function(t){return f.b.error("Internal server error!. Please try again later")}))}else f.b.error("Please fill the to and from date")}(t)},children:Object(p.jsxs)("div",{class:"form-row create-purchase-header",children:[Object(p.jsxs)("div",{class:"form-group col-md-3",children:[Object(p.jsx)("label",{for:"date",children:"From"}),Object(p.jsx)("input",{value:q,onChange:function(t){return w(t.target.value)},type:"date",class:"form-control",id:"date",required:!0})]}),Object(p.jsxs)("div",{class:"form-group col-md-3",children:[Object(p.jsx)("label",{for:"date",children:"To"}),Object(p.jsx)("input",{value:A,onChange:function(t){return C(t.target.value)},type:"date",class:"form-control",id:"date",required:!0})]}),Object(p.jsx)("div",{class:"form-group col-md-3",children:Object(p.jsx)("button",{type:"Submit",class:"font-weight-bold my-4 py-2 px-4 btn btn-success",children:"Filter"})})]})}),Object(p.jsx)(l.a,{config:{page_size:10,length_menu:[10,20,50],button:{excel:!1,print:!1,extra:!1}},records:h,columns:F,total_record:G,onChange:function(t){return M(t)},dynamic:!0})]})}}}]);
//# sourceMappingURL=30.5790b578.chunk.js.map