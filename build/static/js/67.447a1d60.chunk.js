(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[67],{671:function(e,t,c){"use strict";t.a=c.p+"static/media/add.b7874215.svg"},865:function(e,t,c){"use strict";c.r(t),c.d(t,"default",(function(){return f}));var a=c(673),s=c(664),n=c(128),r=c(665),l=c.n(r),o=c(1),i=c.n(o),u=c(671),d=c(670),j=c(663),b=c(100),m=c(667),h=c(661),p=c(18);function x(e){var t=i.a.useContext(b.b),c=t.user,r=t.setLoad,o=e.customermodal,u=e.setCustomerModal,d=e.allCustomers,m=e.setAllCustomers,x=e.setCurrentCustomer,f=i.a.useState(""),O=Object(n.a)(f,2),v=O[0],g=O[1],y=i.a.useState(""),N=Object(n.a)(y,2),k=N[0],C=N[1],w=i.a.useState(0),S=Object(n.a)(w,2),_=S[0],F=S[1],A=i.a.useState(""),T=Object(n.a)(A,2),q=T[0],D=T[1],P=i.a.useState(""),z=Object(n.a)(P,2),B=z[0],G=z[1],I=i.a.useState(""),E=Object(n.a)(I,2),M=E[0],V=E[1];return Object(p.jsx)("div",{className:"container full-size-create-page-main-section",children:Object(p.jsxs)(h.eb,{show:o,onClose:u,children:[Object(p.jsx)(h.hb,{closeButton:!0,children:"Create Customer"}),Object(p.jsxs)(h.fb,{className:"delete-modal-box",children:[Object(p.jsxs)("div",{className:"container",children:[Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-3",children:Object(p.jsxs)("label",{htmlFor:"",className:"text-center",children:["Name",Object(p.jsx)("span",{className:"required-label",children:"*"})]})}),Object(p.jsx)("div",{className:"col-6",children:Object(p.jsx)("input",{type:"text",value:v,onChange:function(e){return g(e.target.value)},className:"form-control"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-3",children:Object(p.jsx)("label",{htmlFor:"",children:"Email"})}),Object(p.jsx)("div",{className:"col-6",children:Object(p.jsx)("input",{type:"text",value:M,onChange:function(e){return V(e.target.value)},className:"form-control"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-3",children:Object(p.jsxs)("label",{htmlFor:"",children:["Mobile",Object(p.jsx)("span",{className:"required-label",children:"*"})]})}),Object(p.jsx)("div",{className:"col-6",children:Object(p.jsx)("input",{type:"text",value:q,onChange:function(e){return D(e.target.value)},className:"form-control"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-3",children:Object(p.jsx)("label",{htmlFor:"",children:"Due_Amount"})}),Object(p.jsx)("div",{className:"col-6",children:Object(p.jsx)("input",{type:"text",value:_,onChange:function(e){return F(e.target.value)},className:"form-control"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-3",children:Object(p.jsx)("label",{htmlFor:"",children:"GST"})}),Object(p.jsx)("div",{className:"col-6",children:Object(p.jsx)("input",{type:"text",value:k,onChange:function(e){return C(e.target.value)},className:"form-control"})})]}),Object(p.jsxs)("div",{className:"form-group row",children:[Object(p.jsx)("div",{className:"col-3",children:Object(p.jsx)("label",{htmlFor:"",children:"Address"})}),Object(p.jsx)("div",{className:"col-6",children:Object(p.jsx)("input",{type:"text",value:B,onChange:function(e){return G(e.target.value)},className:"form-control"})})]})]}),Object(p.jsx)("button",{type:"submit",onClick:function(e){return function(e){function t(){return(t=Object(s.a)(l.a.mark((function e(){var t,s,n,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("name",v),t.append("email",M),t.append("mobile",q),t.append("address",B),t.append("gst",k),t.append("due_amount",_),e.next=9,fetch(j.c+"createcustomer",{method:"POST",headers:{Authorization:null===c||void 0===c?void 0:c.token},body:t});case 9:if(!0!==(s=e.sent).ok){e.next=16;break}return e.next=13,s.json();case 13:n=e.sent,r(!1),200===n.status?(o=[],n.customer&&(o.push.apply(o,Object(a.a)(d).concat([n.customer])),m(o),x(n.customer)),g(""),V(""),D(""),G(""),C(""),F(0)):console.log(n.message);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.preventDefault(),r(!0),function(){t.apply(this,arguments)}(),u(!1)}(e)},className:"col-12 btn btn-secondary",children:"Submit"})]})]})})}function f(){var e=i.a.useContext(b.b),t=e.user,c=e.setLoad,r=i.a.useState(""),o=Object(n.a)(r,2),h=o[0],f=o[1],O=i.a.useState(""),v=Object(n.a)(O,2),g=v[0],y=v[1],N=i.a.useState(!1),k=Object(n.a)(N,2),C=k[0],w=k[1],S=i.a.useState(""),_=Object(n.a)(S,2),F=_[0],A=_[1],T=i.a.useState(!1),q=Object(n.a)(T,2),D=q[0],P=q[1],z=i.a.useState(""),B=Object(n.a)(z,2),G=B[0],I=B[1],E=i.a.useState("None"),M=Object(n.a)(E,2),V=M[0],J=M[1],L=i.a.useState(0),Q=Object(n.a)(L,2),R=Q[0],W=Q[1],H=i.a.useState("percent"),K=Object(n.a)(H,2),U=K[0],X=K[1],Y=i.a.useState(""),Z=Object(n.a)(Y,2),$=Z[0],ee=Z[1],te=i.a.useState(""),ce=Object(n.a)(te,2),ae=ce[0],se=ce[1],ne=i.a.useState(0),re=Object(n.a)(ne,2),le=re[0],oe=re[1],ie=i.a.useState("percent"),ue=Object(n.a)(ie,2),de=ue[0],je=ue[1],be=i.a.useState(0),me=Object(n.a)(be,2),he=me[0],pe=me[1],xe=i.a.useState({value:0,label:0}),fe=Object(n.a)(xe,2),Oe=fe[0],ve=fe[1],ge=i.a.useState(1),ye=Object(n.a)(ge,2),Ne=ye[0],ke=ye[1],Ce=i.a.useState([]),we=Object(n.a)(Ce,2),Se=we[0],_e=we[1],Fe=i.a.useState(""),Ae=Object(n.a)(Fe,2),Te=Ae[0],qe=Ae[1],De=i.a.useState([]),Pe=Object(n.a)(De,2),ze=Pe[0],Be=Pe[1],Ge=i.a.useState([]),Ie=Object(n.a)(Ge,2),Ee=Ie[0],Me=Ie[1],Ve=i.a.useState([]),Je=Object(n.a)(Ve,2),Le=Je[0],Qe=Je[1],Re=i.a.useState([]),We=Object(n.a)(Re,2),He=We[0],Ke=We[1],Ue=i.a.useState([]),Xe=Object(n.a)(Ue,2),Ye=Xe[0],Ze=Xe[1],$e=0,et=0,tt=0,ct=0,at=i.a.useState(0),st=Object(n.a)(at,2),nt=st[0],rt=st[1],lt=i.a.useState(0),ot=Object(n.a)(lt,2),it=ot[0],ut=ot[1],dt=i.a.useState(0),jt=Object(n.a)(dt,2),bt=jt[0],mt=jt[1],ht=i.a.useState(0),pt=Object(n.a)(ht,2),xt=pt[0],ft=pt[1],Ot=i.a.useState(""),vt=Object(n.a)(Ot,2),gt=vt[0],yt=vt[1],Nt=0,kt=0,Ct=0,wt=0,St=0,_t=0,Ft=0;function At(){return Tt.apply(this,arguments)}function Tt(){return(Tt=Object(s.a)(l.a.mark((function e(){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,fetch(j.c+"fetchGST",{headers:{Authorization:t.token}});case 3:if(!0!==(a=e.sent).ok){e.next=10;break}return e.next=7,a.json();case 7:s=e.sent,c(!1),200==s.status?("false"==s.default_gst?w(!1):w(!0),f(s.invoice_number),ve({value:0,label:0})):m.b.error(s.message);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qt(){return(qt=Object(s.a)(l.a.mark((function e(a){var s,n,r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,fetch(j.c+"fetchProducts?warehouse=".concat(a.value),{method:"GET",headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 3:if(!0!==(s=e.sent).ok){e.next=10;break}return e.next=7,s.json();case 7:n=e.sent,c(!1),200===n.status?(r=[],n.inventory_list&&n.inventory_list.map((function(e){r.push({value:e.product_id,name:e.product_name,label:"".concat(e.product_name," ").concat(e.total_qty),type:"product",unit:e.product_unit,price:e.sale_unit_price,hsbn:e.product_hsbn,serial_no:e.product_serial_no})})),n.product_list&&n.product_list.map((function(e){r.push({value:e.id,name:e.name,label:e.name,type:e.type,price:e.price,unit:e.unit,hsbn:e.hsbn,serial_no:e.serial_no})})),Ze(r)):m.b.error(n.message);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i.a.useEffect((function(){function e(){return(e=Object(s.a)(l.a.mark((function e(){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,fetch(j.c+"getPaymentMethods",{method:"GET",headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 3:return a=e.sent,e.next=6,a.json();case 6:s=e.sent,c(!1),Qe(null===s||void 0===s?void 0:s.payment_methods.map((function(e){return{label:e}}))),ee({label:"cash"});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function a(){return(a=Object(s.a)(l.a.mark((function e(){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,fetch(j.c+"clientlist",{method:"GET",headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 3:if(!0!==(a=e.sent).ok){e.next=10;break}return e.next=7,a.json();case 7:s=e.sent,c(!1),200===s.status?Be(null===s||void 0===s?void 0:s.client_list.map((function(e){return{value:e.id,label:e.name,amount:e.due_amount}}))):m.b.error(s.message);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function n(){return(n=Object(s.a)(l.a.mark((function e(){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,fetch(j.c+"getGSTList",{method:"GET",headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 3:return a=e.sent,e.next=6,a.json();case 6:s=e.sent,c(!1),_e(null===s||void 0===s?void 0:s.gst.map((function(e){return{value:e,label:e}})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function r(){return(r=Object(s.a)(l.a.mark((function e(){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c(!0),e.next=3,fetch(j.c+"warehouselist",{method:"GET",headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 3:if(!0!==(a=e.sent).ok){e.next=10;break}return e.next=7,a.json();case 7:s=e.sent,c(!1),200===s.status?Me(null===s||void 0===s?void 0:s.warehouse_list.map((function(e){return{value:e.id,label:e.name}}))):m.b.error(s.message);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){a.apply(this,arguments)}(),function(){n.apply(this,arguments)}(),function(){r.apply(this,arguments)}(),At()}),[]);he>0&&Ne>0&&(Ct=parseFloat(he)*parseFloat(Ne),kt=0,C&&Oe&&(kt=parseFloat(Ct)/100*parseFloat(Oe.value)),Nt=_t=Ct+kt,"Item"!==V&&"Both"!==V||(wt=_t,"percent"===U&&(Ft=parseFloat(wt)/100*parseFloat(R),Nt=St=wt-Ft),"amount"===U&&(Ft=parseFloat(R),Nt=St=wt-Ft)));it>0&&("Bill"===V||"Both"===V?("percent"===de&&(tt=it/100*parseFloat(le),it,ct=it-tt),"amount"===de&&(tt=parseFloat(le),it,ct=it-tt),et=($e=ct)-parseFloat(nt)):et=($e=it)-parseFloat(nt));var Dt=function(e){I(e),function(e){qt.apply(this,arguments)}(e)};return Object(p.jsxs)("div",{className:"container full-size-create-page-main-section",children:[Object(p.jsx)(m.a,{}),Object(p.jsx)(x,{customermodal:D,setCustomerModal:P,allCustomers:ze,setAllCustomers:Be,setCurrentCustomer:A}),Object(p.jsxs)("form",{children:[Object(p.jsxs)("div",{className:"p-sm-5 px-md-3 create-form-field create-purchase-page",children:[Object(p.jsxs)("div",{class:"py-4 px-2 form-row create-purchase-header",children:[Object(p.jsxs)("div",{class:"form-group col-md-3",children:[Object(p.jsxs)("label",{for:"invoice-number",children:["Invoice No.",Object(p.jsx)("span",{className:"required-label",children:"*"})]}),Object(p.jsx)("input",{readOnly:!0,value:h,type:"text",class:"form-control",id:"invoice-number",required:!0})]}),Object(p.jsxs)("div",{class:"form-group col-md-4",children:[Object(p.jsxs)("label",{for:"input-party",children:["Warehouse",Object(p.jsx)("span",{className:"required-label",children:"*"})]}),Object(p.jsx)(d.a,{options:Ee,value:G,onChange:function(e){return Dt(e)}})]}),Object(p.jsxs)("div",{class:"form-group col-md-4",children:[Object(p.jsx)("label",{for:"date",children:"Sale Date"}),Object(p.jsx)("input",{value:g,onChange:function(e){return y(e.target.value)},type:"date",class:"form-control",id:"date"})]}),Object(p.jsx)("div",{class:"form-group col-md-5",children:Object(p.jsxs)("div",{class:"form-row",children:[Object(p.jsxs)("div",{class:"form-group col-md-10",children:[Object(p.jsxs)("label",{for:"input-party",children:["Customer",Object(p.jsx)("span",{className:"required-label",children:"*"})]}),Object(p.jsx)(d.a,{options:ze,value:F,onChange:A})]}),Object(p.jsx)("div",{class:"form-group col-md-2 purchase-create-mid-plus-img",children:Object(p.jsx)("img",{className:"img-fluid",onClick:function(){P(!0)},style:{cursor:"pointer"},src:u.a,alt:""})})]})}),Object(p.jsxs)("div",{class:"form-group my-md-3 col-md-4",children:[Object(p.jsx)("div",{className:"text-center mb-2 font-weight-bold",children:Object(p.jsxs)("label",{for:"input-party",children:["Discount Type",Object(p.jsx)("span",{className:"required-label",children:"*"})]})}),Object(p.jsxs)("div",{className:"row px-3",children:[Object(p.jsxs)("div",{class:"form-check col-sm-3",children:[Object(p.jsx)("input",{checked:"None"===V&&!0,onClick:function(){return J("None")},class:"form-check-input",name:"discount",type:"radio",value:"",id:"defaultCheck1"}),Object(p.jsx)("label",{class:"form-check-label",for:"defaultCheck1",children:"None"})]}),Object(p.jsxs)("div",{class:"form-check col-sm-3",children:[Object(p.jsx)("input",{onClick:function(){return J("Item")},class:"form-check-input",name:"discount",type:"radio",value:"",id:"defaultCheck2"}),Object(p.jsx)("label",{class:"form-check-label",for:"defaultCheck2",children:"Item"})]}),Object(p.jsxs)("div",{class:"form-check col-sm-3",children:[Object(p.jsx)("input",{onClick:function(){return J("Bill")},class:"form-check-input",name:"discount",type:"radio",value:"",id:"defaultCheck3"}),Object(p.jsx)("label",{class:"form-check-label",for:"defaultCheck3",children:"Bill"})]}),Object(p.jsxs)("div",{class:"form-check col-sm-3",children:[Object(p.jsx)("input",{onClick:function(){return J("Both")},class:"form-check-input",name:"discount",type:"radio",value:"",id:"defaultCheck3"}),Object(p.jsx)("label",{class:"form-check-label",for:"defaultCheck3",children:"Both"})]})]})]}),Object(p.jsxs)("div",{class:"form-group col-md-2",children:[Object(p.jsx)("label",{for:"inputPassword",class:"col-sm-2 col-form-label",children:"GST:"}),Object(p.jsx)("div",{class:"d-flex b-0 col-sm-1",children:Object(p.jsx)("input",{checked:C,type:"checkbox",onChange:function(e){return function(){var e=!C;function a(){return(a=Object(s.a)(l.a.mark((function a(){var s,n;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return c(!0),a.next=3,fetch(j.c+"fetchInvoiceNo?default_gst=".concat(e),{headers:{Authorization:t.token}});case 3:if(!0!==(s=a.sent).ok){a.next=10;break}return a.next=7,s.json();case 7:n=a.sent,c(!1),200==n.status&&f(n.invoice_number);case 10:case"end":return a.stop()}}),a)})))).apply(this,arguments)}w(!C),function(){a.apply(this,arguments)}()}()},id:"inputPassword"})})]})]}),Object(p.jsxs)("div",{class:"my-4 form-row",children:[Object(p.jsxs)("div",{class:"form-group col-md-4",children:[Object(p.jsxs)("label",{for:"invoice-number",children:["Item",Object(p.jsx)("span",{className:"required-label",children:"*"})]}),Object(p.jsx)(d.a,{options:Ye,value:ae,onChange:function(e){return function(e){se(e),pe(e.price)}(e)}})]}),Object(p.jsxs)("div",{class:"form-group col-md-4",children:[Object(p.jsxs)("label",{for:"invoice-number",children:["Price",Object(p.jsx)("span",{className:"required-label",children:"*"})]}),Object(p.jsx)("input",{value:he,onChange:function(e){return pe(e.target.value)},type:"text",class:"form-control",id:""})]}),Object(p.jsxs)("div",{class:"form-group col-md-4",children:[Object(p.jsxs)("label",{for:"invoice-number",children:["Quantity",ae?" (".concat(ae.unit,")"):null,Object(p.jsx)("span",{className:"required-label",children:"*"})]}),Object(p.jsx)("input",{value:Ne,onChange:function(e){return ke(e.target.value)},type:"text",class:"form-control",id:""})]}),C&&Object(p.jsxs)("div",{class:"form-group col-md-4",children:[Object(p.jsxs)("label",{for:"invoice-number",children:["GST:",Object(p.jsx)("span",{className:"required-label",children:"*"})]}),Object(p.jsx)(d.a,{options:Se,value:Oe,onChange:ve})]}),"Item"===V&&Object(p.jsxs)("div",{className:"form-group col-md-4",children:[Object(p.jsx)("label",{htmlFor:"",children:"Discount"}),Object(p.jsxs)("div",{className:"m-0 p-0 col-12 row",children:[Object(p.jsx)("div",{className:"px-0 col-5",children:Object(p.jsx)("input",{value:R,onChange:function(e){return W(e.target.value)},class:"form-control",type:"text",name:"",id:""})}),Object(p.jsx)("div",{className:"p-0 col-7",children:Object(p.jsxs)("select",{value:U,onChange:function(e){return X(e.target.value)},class:"form-control",required:!0,children:[Object(p.jsx)("option",{value:"",children:"Select Type"}),Object(p.jsx)("option",{value:"percent",children:"Percent"}),Object(p.jsx)("option",{value:"amount",children:"Amount"})]})})]})]}),"Both"===V&&Object(p.jsxs)("div",{className:"form-group col-md-4",children:[Object(p.jsx)("label",{htmlFor:"",children:"Discount"}),Object(p.jsxs)("div",{className:"m-0 p-0 col-12 row",children:[Object(p.jsx)("div",{className:"px-0 col-5",children:Object(p.jsx)("input",{value:R,onChange:function(e){return W(e.target.value)},class:"form-control",type:"text",name:"",id:""})}),Object(p.jsx)("div",{className:"p-0 col-7",children:Object(p.jsxs)("select",{value:U,onChange:function(e){return X(e.target.value)},class:"form-control",required:!0,children:[Object(p.jsx)("option",{value:"",children:"Select Type"}),Object(p.jsx)("option",{value:"percent",children:"Percent"}),Object(p.jsx)("option",{value:"amount",children:"Amount"})]})})]})]}),Object(p.jsxs)("div",{class:"form-group col-md-4 row",children:[Object(p.jsxs)("div",{class:"form-group col-9",children:[Object(p.jsxs)("label",{for:"invoice-number",children:["Total",Object(p.jsx)("span",{className:"required-label",children:"*"})]}),Object(p.jsx)("input",{value:Nt,readOnly:!0,type:"text",class:"form-control",id:""})]}),Object(p.jsx)("div",{class:"form-group col-3 p-0 purchase-create-mid-plus-img",children:Object(p.jsx)("img",{className:"img-fluid",onClick:function(){return function(){if(h&&ae&&G&&F&&he&&Ne){var e={item:ae,sale_price:he,qty:Ne,gst:Oe,discount_type:U,discountValue:R,total:Nt,amount_item:Ct,amount_before_discount:wt,discount_amount:Ft,tax_amount:kt,amount_after_discount:St,warehouse_id:null===G||void 0===G?void 0:G.value,warehouse_name:null===G||void 0===G?void 0:G.label};if(gt){yt("");var t=[];He.map((function(c,a){a===parseInt(gt)-1?t.push(e):t.push(c)}));var c=0,s=0,n=0;t.map((function(e){c=parseFloat(c)+parseFloat(e.total),s=parseFloat(s)+parseFloat(e.discount_amount),n=parseFloat(n)+parseFloat(e.tax_amount)})),ut(c),mt(s),ft(n),Ke(t),rt(c)}else{var r=[].concat(Object(a.a)(He),[e]),l=0,o=0;r.map((function(e){l=parseFloat(l)+parseFloat(e.total),Ft=parseFloat(Ft)+parseFloat(e.discount_amount),o=parseFloat(o)+parseFloat(e.tax_amount)})),mt(Ft),ft(o),ut(l),rt(l),ut(parseFloat(it)+parseFloat(Nt)),Ke(r)}se(""),pe(0),X(""),W(0),ke(1),ve({value:0,label:0}),Nt=0,Ct=0,wt=0,St=0,Ft=0,kt=0,_t=0}else m.b.error("Fill all fields having *")}()},style:{cursor:"pointer"},src:u.a,alt:""})})]})]}),He.length>0&&Object(p.jsx)("div",{className:"my-table-responsive",children:Object(p.jsxs)("table",{class:"table mt-4",children:[Object(p.jsx)("thead",{class:"thead-dark",children:Object(p.jsxs)("tr",{children:[Object(p.jsx)("th",{scope:"col",children:"Item"}),Object(p.jsx)("th",{scope:"col",children:"Price"}),Object(p.jsx)("th",{scope:"col",children:"Quantity"}),Object(p.jsx)("th",{scope:"col",children:"GST"}),Object(p.jsx)("th",{scope:"col",children:"Discount"}),Object(p.jsx)("th",{scope:"col",children:"Total"}),Object(p.jsx)("th",{children:"Actions"})]})}),Object(p.jsx)("tbody",{className:"table-borderless",children:He.map((function(e,t){return Object(p.jsxs)("tr",{children:[Object(p.jsxs)("td",{children:[Object(p.jsx)("p",{className:"p-0 m-0",children:e.item.name}),Object(p.jsxs)("p",{children:["(",e.warehouse_name,")"]})]}),Object(p.jsx)("td",{children:e.sale_price}),Object(p.jsx)("td",{children:e.qty}),Object(p.jsxs)("td",{children:[e.gst.value,"%"]}),Object(p.jsxs)("td",{children:[e.discountValue," ",e.discount_type]}),Object(p.jsx)("td",{children:e.total}),Object(p.jsxs)("td",{children:[Object(p.jsx)("i",{style:{cursor:"pointer"},onClick:function(){return function(e,t){yt(t),se(e.item),pe(e.sale_price),ke(e.qty),ve(e.gst),X(e.discount_type),W(e.discountValue),Nt=e.total}(e,t+1)},class:"fa fa-pencil","aria-hidden":"true"}),Object(p.jsx)("i",{onClick:function(){return function(e){var t=[];He.map((function(c,a){a!==e&&t.push(c)})),Ke(t)}(t)},style:{cursor:"pointer"},class:"fa fa-trash","aria-hidden":"true"})]})]})}))})]})}),Object(p.jsxs)("div",{className:"row mt-5 justify-content-between purchase-create-footer",children:[Object(p.jsxs)("div",{class:"form-group col-md-5",children:[Object(p.jsx)("label",{for:"exampleFormControlTextarea1",children:"Remarks"}),Object(p.jsx)("textarea",{value:Te,onChange:function(e){return qe(e.target.value)},class:"form-control",id:"exampleFormControlTextarea1",rows:"5"}),F?Object(p.jsxs)("div",{children:["Due Amount: ",F.amount]}):null]}),Object(p.jsxs)("div",{className:"col-md-6",children:[Object(p.jsxs)("div",{class:"form-group row",children:[Object(p.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Total Value"}),Object(p.jsx)("div",{class:"col-md-8",children:Object(p.jsx)("input",{type:"text",value:it,class:"form-control",id:""})})]}),"Bill"===V&&Object(p.jsxs)("div",{class:"form-group row",children:[Object(p.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Discount"}),Object(p.jsxs)("div",{class:"pr-0 col-md-8 row",children:[Object(p.jsx)("div",{className:"pr-0 col-5",children:Object(p.jsx)("input",{class:"form-control",value:le,onChange:function(e){return oe(e.target.value)},type:"text",name:"",id:""})}),Object(p.jsx)("div",{className:"px-0 col-7",children:Object(p.jsxs)("select",{value:de,onChange:function(e){return je(e.target.value)},class:"form-control",required:!0,children:[Object(p.jsx)("option",{value:"",children:"Select Type"}),Object(p.jsx)("option",{value:"percent",children:"Percent"}),Object(p.jsx)("option",{value:"amount",children:"Amount"})]})})]})]}),"Both"===V&&Object(p.jsxs)("div",{class:"form-group row",children:[Object(p.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Discount"}),Object(p.jsxs)("div",{class:"pr-0 col-md-8 row",children:[Object(p.jsx)("div",{className:"pr-0 col-5",children:Object(p.jsx)("input",{class:"form-control",type:"text",value:le,onChange:function(e){return oe(e.target.value)}})}),Object(p.jsx)("div",{className:"px-0 col-7",children:Object(p.jsxs)("select",{value:de,onChange:function(e){return je(e.target.value)},class:"form-control",required:!0,children:[Object(p.jsx)("option",{value:"",children:"Select Type"}),Object(p.jsx)("option",{value:"percent",children:"Percent"}),Object(p.jsx)("option",{value:"amount",children:"Amount"})]})})]})]}),Object(p.jsxs)("div",{class:"form-group row",children:[Object(p.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Final Amount"}),Object(p.jsx)("div",{class:"col-md-8",children:Object(p.jsx)("input",{readOnly:!0,value:$e,type:"text",class:"form-control",id:""})})]}),Object(p.jsxs)("div",{class:"form-group row",children:[Object(p.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Paid Amount"}),Object(p.jsx)("div",{class:"col-md-8",children:Object(p.jsx)("input",{value:nt,onChange:function(e){return rt(e.target.value)},type:"text",class:"form-control",id:""})})]}),nt>0&&Object(p.jsxs)("div",{class:"form-group row",children:[Object(p.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Payment Method"}),Object(p.jsx)("div",{class:"col-md-8",children:Object(p.jsx)(d.a,{options:Le,value:$,onChange:ee})})]}),Object(p.jsxs)("div",{class:"form-group row",children:[Object(p.jsx)("label",{for:"",class:"col-md-4 col-form-label",children:"Remain Amount"}),Object(p.jsx)("div",{class:"col-md-8",children:Object(p.jsx)("input",{type:"text",value:et,readOnly:!0,class:"form-control",id:""})})]})]})]})]}),Object(p.jsxs)("div",{class:"d-flex justify-content-center create-catagory-btns",children:[Object(p.jsxs)("button",{type:"button",onClick:function(){return window.location.reload()},class:"font-weight-bold m-3 py-2 px-4 btn btn-danger",children:["Cancel",Object(p.jsx)("i",{class:"px-2 fa fa-times","aria-hidden":"true"})]}),Object(p.jsxs)("button",{type:"button",onClick:function(){return function(){if(h&&G&&F&&He.length>0&&it){var e=function(){var e=Object(s.a)(l.a.mark((function e(){var a,s;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(j.c+"createSales",{method:"POST",headers:{Authorization:t.token},body:o});case 2:if(!0!==(a=e.sent).ok){e.next=9;break}return e.next=6,a.json();case 6:s=e.sent,c(!1),200===s.status?(m.b.success(s.message),y(""),A(""),J("None"),mt(0),w(!1),ft(0),je("percent"),oe(0),se(""),I(""),ut(0),rt(0),Ke([]),Ze([]),ee({label:"cash"}),$e=0,et=0,tt=0,0,ct=0,At()):m.b.error(s.message);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();c(!0);var a={invoiceNo:h,saleDate:g,default_gst:C,currentCustomer:F,currentWarehouse:G,discountType:V},n={totalValue:it,finalAmount:$e,paidAmount:nt,remainAmount:et,finalDiscountValue:le,finalDiscountCriteria:de,remarks:Te,paymentMethod:null===$||void 0===$?void 0:$.label,discountAmount:bt,taxableAmount:xt},r=[];r.push(a),r.push(n);var o=new FormData;o.append("final_array",JSON.stringify(r)),o.append("allItems",JSON.stringify(He)),console.log(He),e()}else m.b.error("Please fill the data with *")}()},class:"font-weight-bold m-3 py-2 px-4 btn btn-success",children:["Save",Object(p.jsx)("i",{class:"px-2 fa fa-floppy-o","aria-hidden":"true"})]})]})]})]})}}}]);
//# sourceMappingURL=67.447a1d60.chunk.js.map