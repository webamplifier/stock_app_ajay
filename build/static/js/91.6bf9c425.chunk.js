(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[91],{861:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return h}));var n=r(664),c=r(128),s=r(665),a=r.n(s),o=r(1),i=r.n(o),l=r(663),d=r(667),u=r(100),j=r(24),b=r(18);function h(){var e=Object(j.i)().id,t=i.a.useContext(u.b),r=t.user,s=t.setLoad,o=i.a.useState(new Date),h=Object(c.a)(o,2),m=h[0],p=h[1],x=i.a.useState(new Date),f=Object(c.a)(x,2),O=f[0],v=f[1],g=i.a.useState(0),w=Object(c.a)(g,2),y=w[0],F=w[1],k=i.a.useState(0),S=Object(c.a)(k,2),D=S[0],T=S[1],C=i.a.useState([]),P=Object(c.a)(C,2),q=P[0],N=P[1];return Object(b.jsxs)("section",{children:[Object(b.jsx)(d.a,{}),Object(b.jsxs)("div",{class:"d-flex",children:[Object(b.jsx)("form",{class:"col-md-10 m-0 p-0",children:Object(b.jsxs)("div",{class:"form-row m-0 p-0 create-purchase-header",children:[Object(b.jsxs)("div",{class:"form-group col-md-3",children:[Object(b.jsxs)("label",{for:"date",children:["From",Object(b.jsx)("span",{className:"required-label",children:"*"})]}),Object(b.jsx)("input",{value:m,onChange:function(e){return p(e.target.value)},type:"date",class:"form-control",id:"date",required:!0})]}),Object(b.jsxs)("div",{class:"form-group col-md-3",children:[Object(b.jsxs)("label",{for:"date",children:["To",Object(b.jsx)("span",{className:"required-label",children:"*"})]}),Object(b.jsx)("input",{value:O,onChange:function(e){return v(e.target.value)},type:"date",class:"form-control",id:"date",required:!0})]}),Object(b.jsx)("div",{class:"form-group col-md-2",children:Object(b.jsx)("button",{type:"submit",class:"font-weight-bold my-4 py-2 px-4 btn btn-success",onClick:function(t){return function(t){if(t.preventDefault(),O&&m){var c=function(){var e=Object(n.a)(a.a.mark((function e(){var t,n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(l.c+"detailTransactionReport",{method:"POST",headers:{Authorization:null===r||void 0===r?void 0:r.token},body:o});case 2:if(!0!==(t=e.sent).ok){e.next=11;break}return e.next=6,t.json();case 6:n=e.sent,s(!1),200===n.status?(F(parseFloat(n.out_amount).toFixed(2)),T(parseFloat(n.in_amount).toFixed(2)),N(n.transaction_list)):d.b.error(n.message),e.next=12;break;case 11:d.b.error("Oops something went wrong!");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();s(!0);var o=new FormData;o.append("id",e),o.append("to",O),o.append("from",m),c().catch((function(e){return d.b.error("Internal server error!. Please try again later")}))}else d.b.error("Please fill the to and from date")}(t)},children:"Submit"})})]})}),Object(b.jsx)("div",{class:"col-md-2",children:Object(b.jsx)("button",{onClick:function(){return function(){var e=document.getElementById("export-table").innerHTML,t=window.open("","Receipt");t.document.write("<html><head><title>Receipt</title>"),t.document.write('<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css" integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn" crossorigin="anonymous">'),t.document.write("</head><body>"),t.document.write(e),t.document.write("</body></html>"),t.document.close(),t.onload=function(){t.focus(),t.print()}}()},class:"font-weight-bold my-4 px-3 py-2 btn btn-success",children:"Export as PDF"})})]}),Object(b.jsxs)("div",{id:"export-table",children:[q.length>0&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("h6",{className:"text-center mt-4 font-weight-bold",children:"Transactions List"}),Object(b.jsxs)("table",{class:"table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"col",children:"#"}),Object(b.jsx)("th",{scope:"col",children:"Date"}),Object(b.jsx)("th",{scope:"col",children:"Amount"})]})}),Object(b.jsx)("tbody",{children:q.map((function(e,t){return Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{scope:"row",children:++t}),Object(b.jsx)("td",{children:Object(l.b)(e.date_time)}),Object(b.jsxs)("td",{children:["incoming"===e.condition?"+ ":"- ",e.amount]})]})}))})]})]}),Object(b.jsx)("hr",{}),Object(b.jsxs)("h6",{className:"float-left ml-2",children:["In : ",parseFloat(D).toFixed(2)]}),Object(b.jsxs)("h6",{className:"float-left ml-5",children:["Out : ",parseFloat(y).toFixed(2)]}),Object(b.jsxs)("h6",{className:"float-right mr-3",children:["Total Amount: ",parseFloat(parseFloat(D).toFixed(2)-parseFloat(y).toFixed(2)).toFixed(2)," "]})]})]})}}}]);
//# sourceMappingURL=91.6bf9c425.chunk.js.map