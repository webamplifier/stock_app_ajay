(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[13],{668:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(661),r=(n(1),n(18));function s(e){var t=e.modal,n=e.setModal,s=e.deleteEntry;return Object(r.jsx)("div",{className:"delete_modal_box",children:Object(r.jsxs)(a.eb,{show:t,onClose:n,children:[Object(r.jsx)(a.hb,{closeButton:!0}),Object(r.jsxs)(a.fb,{className:"delete_modal_body",children:[Object(r.jsx)("p",{children:" Are you sure you want to delete this record ?"}),Object(r.jsxs)("div",{className:"btn-div-modal-group delete_modal_Btns",children:[Object(r.jsx)("button",{onClick:function(){return s()},className:"delete_modal_yes_Btn",children:"Yes, Approve"}),Object(r.jsx)("button",{className:"btn btn-primary delete_modal_cancel_Btn",color:"secondary",onClick:function(){return n(!1)},children:"Cancel"})]})]})]})})}},674:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(664),r=n(128),s=n(665),o=n.n(s),c=n(661),i=n(1),u=n.n(i),l=n(670),m=n(663),d=n(100),b=n(18);function f(e){var t=u.a.useContext(d.b),n=t.user,s=t.setLoad,i=e.paymodal,f=e.setPayModal,p=e.payBill,h=e.payAmount,j=e.setPayAmount,x=e.paymentMode,_=e.setPaymentMode,y=u.a.useState([]),v=Object(r.a)(y,2),O=v[0],g=v[1];return u.a.useEffect((function(){function e(){return(e=Object(a.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.next=3,fetch(m.c+"getPaymentMethods",{method:"GET",headers:{Authorization:null===n||void 0===n?void 0:n.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,s(!1),g(null===a||void 0===a?void 0:a.payment_methods.map((function(e){return{label:e}}))),_({label:"cash"});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(b.jsx)("div",{className:"delete_modal_box",children:Object(b.jsxs)(c.eb,{show:i,onClose:f,children:[Object(b.jsx)(c.hb,{closeButton:!0,children:"Pay Bill"}),Object(b.jsxs)(c.fb,{className:"delete_modal_body",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"",children:"Paid Amount"}),Object(b.jsx)("input",{type:"text",value:h,onChange:function(e){return j(e.target.value)},className:"form-control"})]})}),Object(b.jsx)("div",{className:"col-6",children:Object(b.jsxs)("div",{className:"form-group",children:[Object(b.jsx)("label",{htmlFor:"",children:"Payment Method"}),Object(b.jsx)(l.a,{options:O,value:x,onChange:_})]})})]}),Object(b.jsx)("button",{type:"submit",onClick:function(){return p()},className:"col-12 btn btn-secondary mb-5",children:"Submit"})]})]})})}},820:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return x}));var a=n(664),r=n(128),s=n(665),o=n.n(s),c=n(1),i=n.n(c),u=n(672),l=n.n(u),m=n(674),d=n(181),b=n(663),f=n(667),p=n(100),h=n(668),j=n(18);function x(){var e=i.a.useState(null),t=Object(r.a)(e,2),n=t[0],s=t[1],u=i.a.useState(!1),x=Object(r.a)(u,2),_=x[0],y=x[1],v=i.a.useState(0),O=Object(r.a)(v,2),g=O[0],k=O[1],N=i.a.useState({label:"cash"}),w=Object(r.a)(N,2),C=w[0],A=w[1],z=i.a.useState(!1),S=Object(r.a)(z,2),E=S[0],M=S[1],P=i.a.useContext(p.b),B=P.user,T=P.setLoad,G=i.a.useState([]),L=Object(r.a)(G,2),F=L[0],I=L[1],J=i.a.useState(0),D=Object(r.a)(J,2),R=D[0],Y=D[1];i.a.useEffect((function(){function e(){return(e=Object(a.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b.c+"fetchCustomerList",{method:"GET",headers:{Authorization:null===B||void 0===B?void 0:B.token}});case 2:if(!0!==(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:n=e.sent,T(!1),200===n.status&&(I(n.list.map((function(e,t){return{"#":t+1,id:e.id,name:e.name,email:e.email,mobile:e.mobile,gst_number:e.gst_number,due_amount:e.due_amount}}))),Y(parseInt(n.total_records)));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}T(!0),function(){e.apply(this,arguments)}()}),[]);var q=[{key:"#",text:"#",className:"#",sortable:!1},{key:"name",text:"Customer Name",className:"name",sortable:!0},{key:"email",text:"Email",className:"email",sortable:!0},{key:"mobile",text:"Mobile",className:"mobile",sortable:!0},{key:"gst_number",text:"GST No.",className:"gst_number",sortable:!0},{key:"due_amount",text:"Due Amount",className:"due_amount",sortable:!0},{key:"action",text:"Action",className:"action",width:100,sortable:!1,cell:function(e){return Object(j.jsxs)(c.Fragment,{children:[0!==parseFloat(e.due_amount)&&Object(j.jsx)("i",{style:{cursor:"pointer"},onClick:function(){return function(e,t){k(parseFloat(e.due_amount)),M(!0),s(t)}(e,e.id)},className:"fa fa-money mr-2","aria-hidden":"true"}),Object(j.jsx)(d.b,{to:"/edit/customer/".concat(e.id),style:{marginRight:"5px"},children:Object(j.jsx)("i",{className:"fa fa-pencil mr-1"})}),Object(j.jsx)("i",{style:{cursor:"pointer"},onClick:function(){return H(e.id)},class:"fa fa-trash","aria-hidden":"true"})]})}}],H=function(e){s(e),y(!0)};function K(){return(K=Object(a.a)(o.a.mark((function e(t){var n,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return T(!0),e.next=3,fetch(b.c+t,{method:"GET",headers:{Authorization:null===B||void 0===B?void 0:B.token}});case 3:if(!0!==(n=e.sent).ok){e.next=10;break}return e.next=7,n.json();case 7:a=e.sent,T(!1),200===a.status?(I(a.list.map((function(e,t){return{"#":t+1,id:e.id,name:e.name,email:e.email,mobile:e.mobile,gst_number:e.gst_number,due_amount:e.due_amount}}))),Y(parseInt(a.total_records))):f.b.error(a.message);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Q=function(e){var t="fetchCustomerList?page_number=".concat(e.page_number,"&page_size=").concat(e.page_size,"&filter_value=").concat(e.filter_value);if(e.sort_order){var n=JSON.stringify(e.sort_order);t="fetchCustomerList?page_number=".concat(e.page_number,"&page_size=").concat(e.page_size,"&filter_value=").concat(e.filter_value,"&sort_order=").concat(n)}!function(e){K.apply(this,arguments)}(t)};return Object(j.jsxs)("section",{children:[Object(j.jsx)(f.a,{}),Object(j.jsx)(h.a,{modal:_,setModal:y,deleteEntry:function(){function e(){return e=Object(a.a)(o.a.mark((function e(){var t,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b.c+"deleteclient/"+n,{method:"GET",headers:{Authorization:null===B||void 0===B?void 0:B.token}});case 2:return t=e.sent,e.next=5,t.json();case 5:r=e.sent,T(!1),200===r.status?(c=function(){var e=Object(a.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b.c+"fetchCustomerList",{method:"GET",headers:{Authorization:null===B||void 0===B?void 0:B.token}});case 2:if(!0!==(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:n=e.sent,T(!1),200===n.status&&(I(n.list.map((function(e,t){return{"#":t+1,id:e.id,name:e.name,email:e.email,mobile:e.mobile,gst_number:e.gst_number,due_amount:e.due_amount}}))),Y(parseInt(n.total_records)));case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y(!1),s(""),c()):f.b.error(r.message);case 8:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}T(!0),function(){e.apply(this,arguments)}()}}),Object(j.jsx)(m.a,{paymodal:E,setPayModal:M,payAmount:g,setPayAmount:k,paymentMode:C,payBill:function(){function e(){return e=Object(a.a)(o.a.mark((function e(){var t,r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("pay_amount",g),t.append("payment_mode",C.label),e.next=5,fetch(b.c+"pay/customer/"+n,{method:"POST",headers:{Authorization:B.token},body:t});case 5:if(!(r=e.sent)){e.next=11;break}return e.next=9,r.json();case 9:200===(c=e.sent).status?(i=function(){var e=Object(a.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(b.c+"fetchCustomerList",{method:"GET",headers:{Authorization:null===B||void 0===B?void 0:B.token}});case 2:if(!0!==(t=e.sent).ok){e.next=9;break}return e.next=6,t.json();case 6:n=e.sent,T(!1),200===n.status?(I(n.list.map((function(e,t){return{"#":t+1,id:e.id,name:e.name,email:e.email,mobile:e.mobile,gst_number:e.gst_number,due_amount:e.due_amount}}))),Y(parseInt(n.total_records))):f.b.error(n.message);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M(!1),s(""),i()):f.b.error(c.message);case 11:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}T(!0),function(){e.apply(this,arguments)}()},setPaymentMode:A}),Object(j.jsx)(d.b,{className:"btn btn-primary float-right",to:"/create/customer",children:"Create Customer"}),Object(j.jsx)(l.a,{config:{page_size:10,length_menu:[10,20,50],button:{excel:!1,print:!1,extra:!1}},records:F,columns:q,total_record:R,onChange:function(e){return Q(e)},dynamic:!0})]})}}}]);
//# sourceMappingURL=13.01b703b7.chunk.js.map