{"version":3,"sources":["screens/Products/create.js"],"names":["Create","React","useContext","userContext","user","setLoad","useState","name","setName","allcategories","setAllCategories","currentCategory","setCurrentCategory","unit","setUnit","sales_unit","setSalesUnit","type","setType","pack_unit","setPackUnit","price","setPrice","hsbn","setHSBN","serial_no","setSerialNo","useEffect","a","fetch","url","method","headers","token","response","ok","json","data","status","category_list","map","item","value","id","label","toast","error","message","fetchCategory","className","onSubmit","e","preventDefault","submitData","body","formData","success","FormData","append","handleSubmit","class","for","onChange","target","required","options"],"mappings":"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","file":"static/js/88.372a327f.chunk.js","sourcesContent":["import React from 'react'\nimport Select from 'react-select';\nimport { url } from 'src/helpers/helpers';\nimport {userContext} from '../../context/UserContext'\nimport { toast,ToastContainer } from 'react-toastify';\n\nexport default function Create() {\n    const {user,setLoad} = React.useContext(userContext);\n    const [name,setName] = React.useState('');\n    const [allcategories, setAllCategories] = React.useState([]);\n    const [currentCategory, setCurrentCategory] = React.useState('');\n    const [unit, setUnit] = React.useState('');\n    const [sales_unit, setSalesUnit] = React.useState(1);\n    const [type, setType] = React.useState(\"\");\n    const [pack_unit, setPackUnit]  = React.useState(1);\n    const [price,setPrice] = React.useState(0);\n    const [hsbn, setHSBN] = React.useState('');\n    const [serial_no,setSerialNo] = React.useState('');\n\n    React.useEffect(()=>{\n       async function fetchCategory(){\n        setLoad(true);\n        const response = await fetch(url + 'categorylist', {\n            method: 'GET',\n            headers: {\n                'Authorization': user?.token\n            }\n        })\n\n        if (response.ok === true) {\n            const data = await response.json();\n            setLoad(false)\n            if (data.status === 200) {\n                setAllCategories(data?.category_list.map(item => {\n                    return {\n                        value: item.id,\n                        label: item.name\n                    }\n                }))\n            } else {\n                toast.error(data.message)\n            }\n        }\n    }\n       fetchCategory();\n    },[])\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        if(name && price && currentCategory && unit && type)\n        {setLoad(true)\n         const formData = new FormData();\n\n        formData.append('name',name);        \n        formData.append('category_id',currentCategory.value);\n        formData.append('category_name', currentCategory.label);\n        formData.append('unit', unit);\n        formData.append('sales_unit',sales_unit);\n        formData.append('pack_unit',pack_unit);\n        formData.append('price', price);\n        formData.append('type', type);\n        formData.append('hsbn',hsbn);\n        formData.append('serial_no',serial_no);\n\n        async function submitData(){\n            const response = await fetch(url + 'createproduct',{\n                method : 'POST',\n                headers : {\n                    'Authorization' : user?.token\n                },\n                body : formData\n            })\n\n            if (response.ok === true){\n                setLoad(false);\n                const data = await response.json();\n                if (data.status === 200){\n                    toast.success(data.message);\n                    setName('');\n                    setPrice(0);\n                    setUnit('');\n                    setType('');\n                    setHSBN('');\n                    setSerialNo('');\n                    setSalesUnit(1);\n                    setPackUnit(1);\n                    setCurrentCategory('');\n                }else{\n                    toast.error(data.message);\n                }\n            }\n        }\n        submitData();\n      }else{\n           toast.error('Please fill the data with *');\n        }\n    }\n\n    return (\n        <div className=\"container create-page-main-section\">\n            <ToastContainer />\n            <form onSubmit={e=>handleSubmit(e)}>\n                <div className='p-sm-5 create-form-field'>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Name:<span className='required-label'>*</span></label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={name} onChange={e=>setName(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" required/>\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Category:<span className='required-label'>*</span></label>    \n                        <div class=\"col-sm-10\">\n                        <Select options={allcategories} value={currentCategory} onChange={setCurrentCategory} required/>\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Type:<span className='required-label'>*</span></label>    \n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                        <select value={type} onChange={e => setType(e.target.value)} class=\"form-control\" required>\n                            <option value=\"\">Select Type</option>\n                            <option value='product'>Product</option>\n                            <option value='service'>Service</option>\n                        </select>\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Unit:<span className='required-label'>*</span></label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                        <select value={unit} onChange={e => setUnit(e.target.value)} class=\"form-control\" required>\n                            <option value=\"\">Select Unit</option>\n                            <option value='Sq.Ft'>Sq.Ft</option>\n                            <option value='Pcs'>Pcs</option>\n                            <option value='Kg'>Kg</option>\n                            <option value='Nos'>Nos</option>\n                            <option value='Gms'>Gms</option>\n                            <option value='Litre'>Litre</option>\n                        </select>\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Price:<span className='required-label'>*</span></label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={price} onChange={e=>setPrice(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" required/>\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">HSN:</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={hsbn} onChange={e=>setHSBN(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Serial No:</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={serial_no} onChange={e=>setSerialNo(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Sales Unit:<span className='required-label'>*</span></label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={sales_unit} onChange={e=>setSalesUnit(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" required/>\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                    <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Pack Unit:<span className='required-label'>*</span></label>\n                    <div class=\"d-flex align-items-sm-center col-sm-10\">\n                        <input value={pack_unit} onChange={e=>setPackUnit(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" required/>\n                    </div>\n                    </div>                   \n                </div>\n                <div class=\"d-flex justify-content-center create-catagory-btns\">\n                    <button type=\"submit\" class=\"font-weight-bold m-3 py-2 px-4 btn btn-danger\">Cancel<i\n                        class=\"px-2 fa fa-times\" aria-hidden=\"true\"></i></button>\n                    <button type=\"submit\" class=\"font-weight-bold m-3 py-2 px-4 btn btn-success\">Save<i\n                        class=\"px-2 fa fa-floppy-o\" aria-hidden=\"true\"></i></button>\n                </div>\n            </form>\n        </div>\n    )\n}\n"],"sourceRoot":""}