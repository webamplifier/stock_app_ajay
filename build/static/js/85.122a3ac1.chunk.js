(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[85],{826:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return m}));var n=a(664),s=a(128),c=a(665),r=a.n(c),l=a(1),o=a.n(l),i=a(670),u=a(663),d=a(100),p=a(667),j=a(18);function m(){var e=o.a.useContext(d.b),t=e.user,a=e.setLoad,c=o.a.useState(""),l=Object(s.a)(c,2),m=l[0],b=l[1],f=o.a.useState(""),x=Object(s.a)(f,2),h=x[0],O=x[1],v=o.a.useState([]),g=Object(s.a)(v,2),y=g[0],w=g[1],k=o.a.useState(""),C=Object(s.a)(k,2),S=C[0],q=C[1],_=o.a.useState([]),N=Object(s.a)(_,2),P=N[0],T=N[1],D=o.a.useState(""),E=Object(s.a)(D,2),A=E[0],I=E[1],z=o.a.useState(""),F=Object(s.a)(z,2),G=F[0],J=F[1],M=o.a.useState("0"),L=Object(s.a)(M,2),R=L[0],B=L[1],H=o.a.useState(""),K=Object(s.a)(H,2),Q=K[0],U=K[1],V=o.a.useState(""),W=Object(s.a)(V,2),X=W[0],Y=W[1];o.a.useEffect((function(){function e(){return e=Object(n.a)(r.a.mark((function e(){var n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,fetch(u.c+"getPaymentMethods",{method:"GET",headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 3:return n=e.sent,e.next=6,n.json();case 6:s=e.sent,a(!1),T(null===s||void 0===s?void 0:s.payment_methods.map((function(e){return{label:e}})));case 9:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}function s(){return s=Object(n.a)(r.a.mark((function e(){var n,s;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,fetch(u.c+"employeelist",{method:"GET",headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 3:if(!0!==(n=e.sent).ok){e.next=10;break}return e.next=7,n.json();case 7:s=e.sent,a(!1),200===s.status?w(null===s||void 0===s?void 0:s.employee_list.map((function(e){return{value:e.id,label:e.name}}))):p.b.error(s.message);case 10:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}!function(){e.apply(this,arguments)}(),function(){s.apply(this,arguments)}()}),[]);return Object(j.jsxs)("div",{className:"container create-page-main-section",children:[Object(j.jsx)(p.a,{}),Object(j.jsxs)("form",{onSubmit:function(e){return function(e){function s(){return(s=Object(n.a)(r.a.mark((function e(){var n,s,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(R&&G&&X&&A)){e.next=14;break}return n=new FormData,"salary"===X?(n.append("expense_date",m),n.append("condition",X),n.append("name",S.label),n.append("employee_id",S.value),n.append("payment_method",A.label),n.append("paid_amount",R),n.append("item",G),n.append("remarks",Q)):(n.append("expense_date",m),n.append("condition",X),n.append("name",h),n.append("payment_method",A.label),n.append("paid_amount",R),n.append("item",G),n.append("remarks",Q)),e.next=5,fetch(u.c+"createexpense",{method:"POST",headers:{Authorization:null===t||void 0===t?void 0:t.token},body:n});case 5:if(!0!==(s=e.sent).ok){e.next=12;break}return e.next=9,s.json();case 9:c=e.sent,a(!1),200===c.status?(p.b.success(c.message),b(""),Y(""),O(""),q(""),I(""),J(""),B(0),U("")):p.b.error(c.message);case 12:e.next=15;break;case 14:p.b.error("Please fill the data with *");case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}a(!0),e.preventDefault(),function(){s.apply(this,arguments)}()}(e)},children:[Object(j.jsxs)("div",{className:"p-sm-5 create-form-field",children:[Object(j.jsxs)("div",{class:"form-group row",children:[Object(j.jsx)("label",{for:"inputDate",class:"col-sm-2 col-form-label",children:"Expense Date"}),Object(j.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(j.jsx)("input",{value:m,onChange:function(e){return b(e.target.value)},type:"date",class:"form-control",id:"inputDate"})})]}),Object(j.jsxs)("div",{class:"form-group row",children:[Object(j.jsxs)("label",{for:"inputname",class:"col-sm-2 col-form-label",children:["Condition",Object(j.jsx)("span",{className:"required-label",children:"*"})]}),Object(j.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(j.jsxs)("select",{value:X,onChange:function(e){return function(e){Y(e.target.value),"salary"===e.target.value&&J("salary")}(e)},class:"form-control",required:!0,children:[Object(j.jsx)("option",{value:"",children:"Select Condition"}),Object(j.jsx)("option",{value:"expense",children:"Expense"}),Object(j.jsx)("option",{value:"salary",children:"Salary"})]})})]}),"expense"===X?Object(j.jsxs)("div",{class:"form-group row",children:[Object(j.jsxs)("label",{for:"inputname",class:"col-sm-2 col-form-label",children:["To:",Object(j.jsx)("span",{className:"required-label",children:"*"})]}),Object(j.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(j.jsx)("input",{required:!0,value:h,onChange:function(e){return O(e.target.value)},type:"text",class:"form-control",id:"inputname"})})]}):null,"salary"===X?Object(j.jsxs)("div",{class:"form-group row",children:[Object(j.jsxs)("label",{for:"inputname",class:"col-sm-2 col-form-label",children:["To:",Object(j.jsx)("span",{className:"required-label",children:"*"})]}),Object(j.jsx)("div",{class:"col-sm-10",children:Object(j.jsx)(i.a,{options:y,value:S,onChange:q})})]}):null,Object(j.jsxs)("div",{class:"form-group row",children:[Object(j.jsxs)("label",{for:"inputItem",class:"col-sm-2 col-form-label",children:["Item",Object(j.jsx)("span",{className:"required-label",children:"*"})]}),Object(j.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(j.jsx)("input",{required:!0,value:G,onChange:function(e){return J(e.target.value)},type:"text",class:"form-control",id:"inputItem"})})]}),Object(j.jsxs)("div",{class:"form-group row",children:[Object(j.jsxs)("label",{for:"inputItem",class:"col-sm-2 col-form-label",children:["Payment Method",Object(j.jsx)("span",{className:"required-label",children:"*"})]}),Object(j.jsx)("div",{class:"col-sm-10",children:Object(j.jsx)(i.a,{options:P,value:A,onChange:I})})]}),Object(j.jsxs)("div",{class:"form-group row",children:[Object(j.jsxs)("label",{for:"inputPrice",class:"col-sm-2 col-form-label",children:["Paid Amount",Object(j.jsx)("span",{className:"required-label",children:"*"})]}),Object(j.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(j.jsx)("input",{required:!0,value:R,onChange:function(e){return B(e.target.value)},type:"text",class:"form-control",id:"inputPrice"})})]}),Object(j.jsxs)("div",{class:"form-group row",children:[Object(j.jsx)("label",{class:"col-sm-2 col-form-label",for:"exampleFormControlTextarea1",children:"Remarks:"}),Object(j.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(j.jsx)("textarea",{value:Q,onChange:function(e){return U(e.target.value)},class:"form-control",id:"exampleFormControlTextarea1",rows:"3"})})]})]}),Object(j.jsxs)("div",{class:"d-flex justify-content-center create-catagory-btns",children:[Object(j.jsxs)("button",{type:"reset",class:"font-weight-bold m-3 py-2 px-4 btn btn-danger",onClick:function(){return window.location.reload()},children:["Cancel",Object(j.jsx)("i",{class:"px-2 fa fa-times","aria-hidden":"true"})]}),Object(j.jsxs)("button",{type:"submit",class:"font-weight-bold m-3 py-2 px-4 btn btn-success",children:["Save",Object(j.jsx)("i",{class:"px-2 fa fa-floppy-o","aria-hidden":"true"})]})]})]})]})}}}]);
//# sourceMappingURL=85.122a3ac1.chunk.js.map