(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[84],{827:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return j}));var n=a(664),s=a(128),r=a(665),c=a.n(r),l=a(1),o=a.n(l),i=a(670),u=a(663),d=a(100),p=a(667),m=a(24),b=a(18);function j(){var e=Object(m.i)().id,t=o.a.useContext(d.b),a=t.user,r=t.setLoad,l=o.a.useState(""),j=Object(s.a)(l,2),x=j[0],f=j[1],h=o.a.useState(""),O=Object(s.a)(h,2),v=O[0],g=O[1],y=o.a.useState(""),w=Object(s.a)(y,2),k=w[0],_=w[1],C=o.a.useState(""),S=Object(s.a)(C,2),q=S[0],N=S[1],T=o.a.useState([]),P=Object(s.a)(T,2),E=P[0],A=P[1],D=o.a.useState(""),I=Object(s.a)(D,2),z=I[0],F=I[1],G=o.a.useState(""),J=Object(s.a)(G,2),M=J[0],R=J[1],B=o.a.useState(0),L=Object(s.a)(B,2),H=L[0],K=L[1],Q=o.a.useState(""),U=Object(s.a)(Q,2),V=U[0],W=U[1],X=o.a.useState(""),Y=Object(s.a)(X,2),Z=Y[0],$=Y[1];o.a.useEffect((function(){function t(){return t=Object(n.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,fetch(u.c+"getPaymentMethods",{method:"GET",headers:{Authorization:null===a||void 0===a?void 0:a.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r(!1),A(null===n||void 0===n?void 0:n.payment_methods.map((function(e){return{label:e}})));case 9:case"end":return e.stop()}}),e)}))),t.apply(this,arguments)}function s(){return s=Object(n.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,fetch(u.c+"employeelist",{method:"GET",headers:{Authorization:null===a||void 0===a?void 0:a.token}});case 3:if(!0!==(t=e.sent).ok){e.next=10;break}return e.next=7,t.json();case 7:n=e.sent,r(!1),200===n.status?_(null===n||void 0===n?void 0:n.employee_list.map((function(e){return{value:e.id,label:e.name}}))):p.b.error(n.message);case 10:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function l(){return(l=Object(n.a)(c.a.mark((function t(){var n,s,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(!0),t.next=3,fetch(u.c+"expenseById/"+e,{method:"GET",headers:{Authorization:null===a||void 0===a?void 0:a.token}});case 3:if(!0!==(n=t.sent).ok){t.next=10;break}return t.next=7,n.json();case 7:s=t.sent,r(!1),200===s.status?"salary"===(l=s.expense_detail).condition?($(l.condition),N({value:l.employee_id,label:l.name}),F({label:l.payment_method}),K(l.paid_amount),R(l.item_name),f(l.expense_date),W(l.remarks)):($(l.condition),g(l.name),K(l.paid_amount),F({label:l.payment_method}),R(l.item_name),f(l.expense_date),W(l.remarks)):p.b.error(s.message);case 10:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}(),function(){s.apply(this,arguments)}(),function(){l.apply(this,arguments)}()}),[]);return Object(b.jsxs)("div",{className:"container create-page-main-section",children:[Object(b.jsx)(p.a,{}),Object(b.jsxs)("form",{onSubmit:function(t){return function(t){function s(){return(s=Object(n.a)(c.a.mark((function t(){var n,s,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(H&&M&&Z)){t.next=18;break}return n=new FormData,"salary"===Z?(n.append("expense_date",x),n.append("condition",Z),n.append("name",q.label),n.append("employee_id",q.value),n.append("paid_amount",H),n.append("payment_method",z.label),n.append("item",M),n.append("remarks",V)):(n.append("expense_date",x),n.append("condition",Z),n.append("name",v),n.append("payment_method",z.label),n.append("paid_amount",H),n.append("item",M),n.append("remarks",V)),t.next=5,fetch(u.c+"updateexpense/"+e,{method:"POST",headers:{Authorization:null===a||void 0===a?void 0:a.token},body:n});case 5:if(!0!==(s=t.sent).ok){t.next=16;break}return t.next=9,s.json();case 9:if(l=t.sent,r(!1),200!==l.status){t.next=15;break}return t.abrupt("return",window.location=window.location.origin+"/#/expenseReport");case 15:p.b.error(l.message);case 16:t.next=19;break;case 18:p.b.error("Please fill the data with *");case 19:case"end":return t.stop()}}),t)})))).apply(this,arguments)}r(!0),t.preventDefault(),function(){s.apply(this,arguments)}()}(t)},children:[Object(b.jsxs)("div",{className:"p-sm-5 create-form-field",children:[Object(b.jsxs)("div",{class:"form-group row",children:[Object(b.jsx)("label",{for:"inputDate",class:"col-sm-2 col-form-label",children:"Expense Date"}),Object(b.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(b.jsx)("input",{value:x,onChange:function(e){return f(e.target.value)},type:"date",class:"form-control",id:"inputDate"})})]}),Object(b.jsxs)("div",{class:"form-group row",children:[Object(b.jsxs)("label",{for:"inputname",class:"col-sm-2 col-form-label",children:["Condition",Object(b.jsx)("span",{className:"required-label",children:"*"})]}),Object(b.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(b.jsxs)("select",{value:Z,onChange:function(e){return function(e){$(e.target.value),"salary"===e.target.value&&R("salary")}(e)},class:"form-control",required:!0,children:[Object(b.jsx)("option",{value:"",children:"Select Condition"}),Object(b.jsx)("option",{value:"expense",children:"Expense"}),Object(b.jsx)("option",{value:"salary",children:"Salary"})]})})]}),"expense"===Z?Object(b.jsxs)("div",{class:"form-group row",children:[Object(b.jsxs)("label",{for:"inputname",class:"col-sm-2 col-form-label",children:["To:",Object(b.jsx)("span",{className:"required-label",children:"*"})]}),Object(b.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(b.jsx)("input",{required:!0,value:v,onChange:function(e){return g(e.target.value)},type:"text",class:"form-control",id:"inputname"})})]}):null,"salary"===Z?Object(b.jsxs)("div",{class:"form-group row",children:[Object(b.jsxs)("label",{for:"inputname",class:"col-sm-2 col-form-label",children:["To:",Object(b.jsx)("span",{className:"required-label",children:"*"})]}),Object(b.jsx)("div",{class:"col-sm-10",children:Object(b.jsx)(i.a,{options:k,value:q,onChange:N})})]}):null,Object(b.jsxs)("div",{class:"form-group row",children:[Object(b.jsxs)("label",{for:"inputItem",class:"col-sm-2 col-form-label",children:["Item",Object(b.jsx)("span",{className:"required-label",children:"*"})]}),Object(b.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(b.jsx)("input",{required:!0,value:M,onChange:function(e){return R(e.target.value)},type:"text",class:"form-control",id:"inputItem"})})]}),Object(b.jsxs)("div",{class:"form-group row",children:[Object(b.jsxs)("label",{for:"inputItem",class:"col-sm-2 col-form-label",children:["Payment Method",Object(b.jsx)("span",{className:"required-label",children:"*"})]}),Object(b.jsx)("div",{class:"col-sm-10",children:"cash"===z.label?Object(b.jsx)(i.a,{options:E,value:z,onChange:F}):Object(b.jsx)(i.a,{options:E,value:z})})]}),Object(b.jsxs)("div",{class:"form-group row",children:[Object(b.jsxs)("label",{for:"inputPrice",class:"col-sm-2 col-form-label",children:["Paid Amount",Object(b.jsx)("span",{className:"required-label",children:"*"})]}),Object(b.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(b.jsx)("input",{required:!0,value:H,onChange:function(e){return K(e.target.value)},type:"text",class:"form-control",id:"inputPrice"})})]}),Object(b.jsxs)("div",{class:"form-group row",children:[Object(b.jsx)("label",{class:"col-sm-2 col-form-label",for:"exampleFormControlTextarea1",children:"Remarks:"}),Object(b.jsx)("div",{class:"d-flex align-items-sm-center col-sm-10",children:Object(b.jsx)("textarea",{value:V,onChange:function(e){return W(e.target.value)},class:"form-control",id:"exampleFormControlTextarea1",rows:"3"})})]})]}),Object(b.jsxs)("div",{class:"d-flex justify-content-center create-catagory-btns",children:[Object(b.jsxs)("button",{type:"reset",class:"font-weight-bold m-3 py-2 px-4 btn btn-danger",onClick:function(){return window.location.reload()},children:["Cancel",Object(b.jsx)("i",{class:"px-2 fa fa-times","aria-hidden":"true"})]}),Object(b.jsxs)("button",{type:"submit",class:"font-weight-bold m-3 py-2 px-4 btn btn-success",children:["Save",Object(b.jsx)("i",{class:"px-2 fa fa-floppy-o","aria-hidden":"true"})]})]})]})]})}}}]);
//# sourceMappingURL=84.06a9e0a7.chunk.js.map