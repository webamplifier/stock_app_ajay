(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[17],{668:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var a=n(661),r=(n(1),n(18));function o(e){var t=e.modal,n=e.setModal,o=e.deleteEntry;return Object(r.jsx)("div",{className:"delete_modal_box",children:Object(r.jsxs)(a.eb,{show:t,onClose:n,children:[Object(r.jsx)(a.hb,{closeButton:!0}),Object(r.jsxs)(a.fb,{className:"delete_modal_body",children:[Object(r.jsx)("p",{children:" Are you sure you want to delete this record ?"}),Object(r.jsxs)("div",{className:"btn-div-modal-group delete_modal_Btns",children:[Object(r.jsx)("button",{onClick:function(){return o()},className:"delete_modal_yes_Btn",children:"Yes, Approve"}),Object(r.jsx)("button",{className:"btn btn-primary delete_modal_cancel_Btn",color:"secondary",onClick:function(){return n(!1)},children:"Cancel"})]})]})]})})}},674:function(e,t,n){"use strict";n.d(t,"a",(function(){return b}));var a=n(664),r=n(128),o=n(665),s=n.n(o),c=n(661),u=n(1),i=n.n(u),l=n(670),m=n(663),d=n(100),f=n(18);function b(e){var t=i.a.useContext(d.b),n=t.user,o=t.setLoad,u=e.paymodal,b=e.setPayModal,_=e.payBill,h=e.payAmount,p=e.setPayAmount,j=e.paymentMode,x=e.setPaymentMode,v=i.a.useState([]),O=Object(r.a)(v,2),y=O[0],k=O[1];return i.a.useEffect((function(){function e(){return(e=Object(a.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.next=3,fetch(m.c+"getPaymentMethods",{method:"GET",headers:{Authorization:null===n||void 0===n?void 0:n.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:a=e.sent,o(!1),k(null===a||void 0===a?void 0:a.payment_methods.map((function(e){return{label:e}}))),x({label:"cash"});case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(f.jsx)("div",{className:"delete_modal_box",children:Object(f.jsxs)(c.eb,{show:u,onClose:b,children:[Object(f.jsx)(c.hb,{closeButton:!0,children:"Pay Bill"}),Object(f.jsxs)(c.fb,{className:"delete_modal_body",children:[Object(f.jsxs)("div",{className:"row",children:[Object(f.jsx)("div",{className:"col-6",children:Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Paid Amount"}),Object(f.jsx)("input",{type:"text",value:h,onChange:function(e){return p(e.target.value)},className:"form-control"})]})}),Object(f.jsx)("div",{className:"col-6",children:Object(f.jsxs)("div",{className:"form-group",children:[Object(f.jsx)("label",{htmlFor:"",children:"Payment Method"}),Object(f.jsx)(l.a,{options:y,value:j,onChange:x})]})})]}),Object(f.jsx)("button",{type:"submit",onClick:function(){return _()},className:"col-12 btn btn-secondary mb-5",children:"Submit"})]})]})})}},851:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return j}));var a=n(664),r=n(128),o=n(665),s=n.n(o),c=n(1),u=n.n(c),i=n(672),l=n.n(i),m=n(181),d=n(663),f=n(667),b=n(100),_=n(668),h=n(674),p=n(18);function j(){var e=u.a.useContext(b.b),t=e.user,n=e.setLoad,o=u.a.useState([]),i=Object(r.a)(o,2),j=i[0],x=i[1],v=u.a.useState(!1),O=Object(r.a)(v,2),y=O[0],k=O[1],g=u.a.useState(""),w=Object(r.a)(g,2),N=w[0],S=w[1],A=u.a.useState(0),C=Object(r.a)(A,2),z=C[0],P=C[1],R=u.a.useState({label:"cash"}),E=Object(r.a)(R,2),M=E[0],B=E[1],T=u.a.useState(!1),F=Object(r.a)(T,2),L=F[0],G=F[1],I=u.a.useState(""),D=Object(r.a)(I,2),J=D[0],q=D[1],W=u.a.useState(""),Y=Object(r.a)(W,2),H=Y[0],K=Y[1],Q=u.a.useState(0),U=Object(r.a)(Q,2),V=U[0],X=U[1];u.a.useEffect((function(){function e(){return(e=Object(a.a)(s.a.mark((function e(){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d.c+"fetchSalesReturnList",{method:"GET",headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 2:if(!0!==(a=e.sent).ok){e.next=9;break}return e.next=6,a.json();case 6:r=e.sent,n(!1),200===r.status?(x(r.list.map((function(e,t){return{"#":t+1,id:e.id,invoice_number:e.invoice_number,customer_name:e.customer_name,warehouse_name:e.warehouse_name,sale_return_date:Object(d.a)(e.sale_return_date.split(" ")[0]),total_after_roundoff:e.total_after_roundoff,remain_amount:e.remain_amount}}))),X(parseInt(r.total_records))):f.b.error(r.message);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(!0),function(){e.apply(this,arguments)}()}),[]);var Z=[{key:"#",text:"#",className:"#",sortable:!1},{key:"invoice_number",text:"Invoice Number",className:"invoice_number",sortable:!0},{key:"warehouse_name",text:"Warehouse Name",className:"warehouse_name",sortable:!0},{key:"customer_name",text:"Customer Name",className:"customer_name",sortable:!0},{key:"sale_return_date",text:"Sale Return Date",className:"sale_return_date",sortable:!0},{key:"total_after_roundoff",text:"Bill Amount",className:"bill_amount",sortable:!0},{key:"remain_amount",text:"Remain Amount",className:"remain_amount",sortable:!0},{key:"action",text:"Action",className:"action",width:100,sortable:!1,cell:function(e){return Object(p.jsxs)(c.Fragment,{children:[0!==parseFloat(e.remain_amount)&&Object(p.jsx)("i",{style:{cursor:"pointer"},onClick:function(){return function(e,t){P(parseFloat(e.remain_amount)),G(!0),K(t)}(e,e.id)},className:"fa fa-money mr-2","aria-hidden":"true"}),Object(p.jsx)(m.b,{to:"/edit/salesReturn/".concat(e.id),style:{marginRight:"5px"},children:Object(p.jsx)("i",{className:"fa fa-pencil mr-2"})}),Object(p.jsx)("i",{style:{cursor:"pointer"},onClick:function(){return $(e.id)},class:"fa fa-trash","aria-hidden":"true"})]})}}],$=function(e){K(e),k(!0)};function ee(){return(ee=Object(a.a)(s.a.mark((function e(a){var r,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,fetch(d.c+a,{method:"GET",headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 3:if(!0!==(r=e.sent).ok){e.next=10;break}return e.next=7,r.json();case 7:o=e.sent,n(!1),200===o.status?(x(o.list.map((function(e,t){return{"#":t+1,id:e.id,invoice_number:e.invoice_number,customer_name:e.customer_name,warehouse_name:e.warehouse_name,sale_return_date:Object(d.a)(e.sale_return_date.split(" ")[0]),total_after_roundoff:e.total_after_roundoff,remain_amount:e.remain_amount}}))),X(parseInt(o.total_records))):f.b.error(o.message);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var te=function(e){var t="fetchSalesReturnList?page_number=".concat(e.page_number,"&page_size=").concat(e.page_size,"&filter_value=").concat(e.filter_value,"&to=").concat(J,"&from=").concat(N);if(e.sort_order){var n=JSON.stringify(e.sort_order);t="fetchSalesReturnList?page_number=".concat(e.page_number,"&page_size=").concat(e.page_size,"&filter_value=").concat(e.filter_value,"&sort_order=").concat(n,"&to=").concat(J,"&from=").concat(N)}!function(e){ee.apply(this,arguments)}(t)};return Object(p.jsxs)("section",{children:[Object(p.jsx)(f.a,{}),Object(p.jsx)(_.a,{modal:y,setModal:k,deleteEntry:function(){function e(){return e=Object(a.a)(s.a.mark((function e(){var r,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d.c+"deleteSaleReturn/"+H,{method:"GET",headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 2:return r=e.sent,e.next=5,r.json();case 5:200===(o=e.sent).status?(c=function(){var e=Object(a.a)(s.a.mark((function e(){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d.c+"fetchSalesReturnList",{method:"GET",headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 2:if(!0!==(a=e.sent).ok){e.next=9;break}return e.next=6,a.json();case 6:r=e.sent,n(!1),200===r.status?(x(r.list.map((function(e,t){return{"#":t+1,id:e.id,invoice_number:e.invoice_number,customer_name:e.customer_name,warehouse_name:e.warehouse_name,sale_return_date:Object(d.a)(e.sale_return_date.split(" ")[0]),total_after_roundoff:e.total_after_roundoff,remain_amount:e.remain_amount}}))),X(parseInt(r.total_records))):f.b.error(r.message);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k(!1),K(""),c()):f.b.error(o.message);case 7:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}n(!0),function(){e.apply(this,arguments)}()}}),Object(p.jsx)(h.a,{paymodal:L,setPayModal:G,payAmount:z,setPayAmount:P,paymentMode:M,payBill:function(){function e(){return e=Object(a.a)(s.a.mark((function e(){var r,o,c,u;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new FormData).append("pay_amount",z),r.append("payment_mode",M.label),e.next=5,fetch(d.c+"pay/salesReturn/"+H,{method:"POST",headers:{Authorization:t.token},body:r});case 5:if(!(o=e.sent)){e.next=11;break}return e.next=9,o.json();case 9:200===(c=e.sent).status?(u=function(){var e=Object(a.a)(s.a.mark((function e(){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d.c+"fetchSalesReturnList",{method:"GET",headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 2:if(!0!==(a=e.sent).ok){e.next=9;break}return e.next=6,a.json();case 6:r=e.sent,n(!1),200===r.status?(x(r.list.map((function(e,t){return{"#":t+1,id:e.id,invoice_number:e.invoice_number,customer_name:e.customer_name,warehouse_name:e.warehouse_name,sale_return_date:Object(d.a)(e.sale_return_date.split(" ")[0]),total_after_roundoff:e.total_after_roundoff,remain_amount:e.remain_amount}}))),X(parseInt(r.total_records))):f.b.error(r.message);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G(!1),K(""),u()):f.b.error(c.message);case 11:case"end":return e.stop()}}),e)}))),e.apply(this,arguments)}n(!0),function(){e.apply(this,arguments)}()},setPaymentMode:B}),Object(p.jsx)("form",{onSubmit:function(e){return function(e){if(e.preventDefault(),J&&N){var r=function(){var e=Object(a.a)(s.a.mark((function e(){var a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d.c+"fetchSalesReturnList?to=".concat(J,"&from=").concat(N),{method:"GET",headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 2:if(!0!==(a=e.sent).ok){e.next=11;break}return e.next=6,a.json();case 6:r=e.sent,n(!1),200===r.status?(x(r.list.map((function(e,t){return{"#":t+1,id:e.id,invoice_number:e.invoice_number,customer_name:e.customer_name,warehouse_name:e.warehouse_name,sale_return_date:Object(d.a)(e.sale_return_date.split(" ")[0]),total_after_roundoff:e.total_after_roundoff,remain_amount:e.remain_amount}}))),X(parseInt(r.total_records))):f.b.error(r.message),e.next=12;break;case 11:f.b.error("Oops something went wrong!");case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();n(!0),r().catch((function(e){return f.b.error("Internal server error!. Please try again later")}))}else f.b.error("Please fill the to and from date")}(e)},children:Object(p.jsxs)("div",{class:"form-row create-purchase-header",children:[Object(p.jsxs)("div",{class:"form-group col-md-3",children:[Object(p.jsx)("label",{for:"date",children:"From"}),Object(p.jsx)("input",{value:N,onChange:function(e){return S(e.target.value)},type:"date",class:"form-control",id:"date",required:!0})]}),Object(p.jsxs)("div",{class:"form-group col-md-3",children:[Object(p.jsx)("label",{for:"date",children:"To"}),Object(p.jsx)("input",{value:J,onChange:function(e){return q(e.target.value)},type:"date",class:"form-control",id:"date",required:!0})]}),Object(p.jsx)("div",{class:"form-group col-md-3",children:Object(p.jsx)("button",{type:"Submit",class:"font-weight-bold my-4 py-2 px-4 btn btn-success",children:"Filter"})})]})}),Object(p.jsx)(l.a,{config:{page_size:10,length_menu:[10,20,50],button:{excel:!1,print:!1,extra:!1}},records:j,columns:Z,total_record:V,onChange:function(e){return te(e)},dynamic:!0})]})}}}]);
//# sourceMappingURL=17.a9ef02af.chunk.js.map