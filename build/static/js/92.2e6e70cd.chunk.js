(this["webpackJsonp@coreui/coreui-free-react-admin-template"]=this["webpackJsonp@coreui/coreui-free-react-admin-template"]||[]).push([[92],{857:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return f}));var a=n(664),c=n(128),o=n(665),r=n.n(o),s=n(1),i=n.n(s),u=n(672),l=n.n(u),p=n(663),d=n(667),j=n(100),b=n(18);function f(){var e=i.a.useContext(j.b),t=e.user,n=e.setLoad,o=i.a.useState([]),s=Object(c.a)(o,2),u=s[0],f=s[1],h=i.a.useState(""),m=Object(c.a)(h,2),x=m[0],v=m[1],O=i.a.useState(""),g=Object(c.a)(O,2),_=g[0],y=g[1],k=i.a.useState(0),S=Object(c.a)(k,2),C=S[0],w=S[1],P=i.a.useState(""),z=Object(c.a)(P,2),E=z[0],A=z[1],N=i.a.useState(""),R=Object(c.a)(N,2),I=R[0],L=R[1];i.a.useEffect((function(){function e(){return(e=Object(a.a)(r.a.mark((function e(){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p.c+"fetchHistoryList",{method:"GET",headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 2:if(!0!==(a=e.sent).ok){e.next=9;break}return e.next=6,a.json();case 6:c=e.sent,n(!1),200===c.status?(f(c.list.map((function(e,t){return{"#":t+1,id:e.id,action:e.action,date:e.date,purpose:e.purpose,user_name:e.user_name}}))),w(parseInt(c.total_records))):d.b.error(c.message);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}n(!0),function(){e.apply(this,arguments)}()}),[]);function D(){return(D=Object(a.a)(r.a.mark((function e(a){var c,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(!0),e.next=3,fetch(p.c+a,{method:"GET",headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 3:if(!0!==(c=e.sent).ok){e.next=10;break}return e.next=7,c.json();case 7:o=e.sent,n(!1),200===o.status?(f(o.list.map((function(e,t){return{"#":t+1,id:e.id,action:e.action,date:e.date,purpose:e.purpose,user_name:e.user_name}}))),w(parseInt(o.total_records))):d.b.error(o.message);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var H=function(e){var t="";t=_&&x&&I&&E?"&to=".concat(_,"&from=").concat(x,"&purpose=").concat(E,"&action=").concat(I):_&&x?E?"&to=".concat(_,"&from=").concat(x,"&purpose=").concat(E):I?"&to=".concat(_,"&from=").concat(x,"&action=").concat(I):"&to=".concat(_,"&from=").concat(x):E?I?"&purpose=".concat(E,"&action=").concat(I):"&purpose=".concat(E):"&action=".concat(I);var n="fetchHistoryList?page_number=".concat(e.page_number,"&page_size=").concat(e.page_size,"&filter_value=").concat(e.filter_value).concat(t);if(e.sort_order){var a=JSON.stringify(e.sort_order);n="fetchHistoryList?page_number=".concat(e.page_number,"&page_size=").concat(e.page_size,"&filter_value=").concat(e.filter_value,"&sort_order=").concat(a).concat(t)}!function(e){D.apply(this,arguments)}(n)};return Object(b.jsxs)("section",{children:[Object(b.jsx)(d.a,{}),Object(b.jsx)("form",{onSubmit:function(e){return function(e){function c(){return(c=Object(a.a)(r.a.mark((function e(){var a,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(p.c+"fetchHistoryList?to=".concat(_,"&from=").concat(x,"&purpose=").concat(E,"&action=").concat(I),{method:"GET",headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 2:if(!0!==(a=e.sent).ok){e.next=11;break}return e.next=6,a.json();case 6:c=e.sent,n(!1),200===c.status?(f(c.list.map((function(e,t){return{"#":t+1,id:e.id,action:e.action,date:e.date,purpose:e.purpose,user_name:e.user_name}}))),w(parseInt(c.total_records))):d.b.error(c.message),e.next=12;break;case 11:d.b.error("Oops something went wrong!");case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}e.preventDefault(),n(!0),function(){c.apply(this,arguments)}()}(e)},children:Object(b.jsxs)("div",{class:"form-row create-purchase-header",children:[Object(b.jsxs)("div",{class:"form-group col-md-3",children:[Object(b.jsx)("label",{for:"date",children:"From"}),Object(b.jsx)("input",{value:x,onChange:function(e){return v(e.target.value)},type:"date",class:"form-control",id:"date"})]}),Object(b.jsxs)("div",{class:"form-group col-md-3",children:[Object(b.jsx)("label",{for:"date",children:"To"}),Object(b.jsx)("input",{value:_,onChange:function(e){return y(e.target.value)},type:"date",class:"form-control",id:"date"})]}),Object(b.jsxs)("div",{class:"form-group col-md-3",children:[Object(b.jsx)("label",{for:"input-type",class:"col-md-4 col-form-label",children:"Action"}),Object(b.jsxs)("select",{value:I,onChange:function(e){return L(e.target.value)},id:"input-type",class:"form-control",children:[Object(b.jsx)("option",{value:"",children:"Select Action"}),Object(b.jsx)("option",{value:"Create",children:"Create"}),Object(b.jsx)("option",{value:"Update",children:"Update"}),Object(b.jsx)("option",{value:"Delete",children:"Delete"})]})]}),Object(b.jsxs)("div",{class:"form-group col-md-3",children:[Object(b.jsx)("label",{for:"input-type",class:"col-md-4 col-form-label",children:"Purpose"}),Object(b.jsxs)("select",{value:E,onChange:function(e){return A(e.target.value)},id:"input-type",class:"form-control",children:[Object(b.jsx)("option",{value:"",children:"Select Purpose"}),Object(b.jsx)("option",{value:"Categories",children:"Category"}),Object(b.jsx)("option",{value:"Customers",children:"Customer"}),Object(b.jsx)("option",{value:"Employees",children:"Employee"}),Object(b.jsx)("option",{value:"Expenses",children:"Expense"}),Object(b.jsx)("option",{value:"Inventories",children:"Inventory"}),Object(b.jsx)("option",{value:"Parties",children:"Party"}),Object(b.jsx)("option",{value:"Purchase_Start",children:"Purchase"}),Object(b.jsx)("option",{value:"Purchase_Return",children:"Purchase Return"}),Object(b.jsx)("option",{value:"Sale_Start",children:"Sales"}),Object(b.jsx)("option",{value:"Sale_Return",children:"Sales Return"}),Object(b.jsx)("option",{value:"Quotation",children:"Quotation"}),Object(b.jsx)("option",{value:"Reciepts",children:"Reciept"})]})]}),Object(b.jsx)("div",{class:"form-group col-md-3",children:Object(b.jsx)("button",{type:"submit",class:"font-weight-bold my-4 py-2 px-4 btn btn-success",children:"Filter"})})]})}),Object(b.jsx)(l.a,{config:{page_size:10,length_menu:[10,20,50],button:{excel:!1,print:!1,extra:!1}},records:u,columns:[{key:"#",text:"#",className:"#",sortable:!0},{key:"action",text:"Action",className:"action",sortable:!0},{key:"date",text:"Date",className:"date",sortable:!0},{key:"purpose",text:"Purpose",className:"purpose",sortable:!0},{key:"user_name",text:"Created By",className:"user_name",sortable:!0}],total_record:C,onChange:function(e){return H(e)},dynamic:!0})]})}}}]);
//# sourceMappingURL=92.2e6e70cd.chunk.js.map