{"code":"(this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"]=this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"]||[]).push([[78],{827:function(e,t,a){\"use strict\";a.r(t),a.d(t,\"default\",(function(){return j}));var n=a(131),s=a(56),r=a(81),c=a.n(r),l=a(1),o=a.n(l),i=a(673),u=a(130),d=a(102),p=a(668),m=a(24),b=a(13);function j(){var e=Object(m.i)().id,t=o.a.useContext(d.b),a=t.user,r=t.setLoad,l=o.a.useState(\"\"),j=Object(s.a)(l,2),f=j[0],x=j[1],h=o.a.useState(\"\"),O=Object(s.a)(h,2),v=O[0],g=O[1],y=o.a.useState(\"\"),w=Object(s.a)(y,2),k=w[0],_=w[1],C=o.a.useState(\"\"),S=Object(s.a)(C,2),q=S[0],N=S[1],T=o.a.useState([]),P=Object(s.a)(T,2),E=P[0],A=P[1],D=o.a.useState(\"\"),I=Object(s.a)(D,2),z=I[0],F=I[1],G=o.a.useState(\"\"),J=Object(s.a)(G,2),M=J[0],R=J[1],B=o.a.useState(0),L=Object(s.a)(B,2),H=L[0],K=L[1],Q=o.a.useState(\"\"),U=Object(s.a)(Q,2),V=U[0],W=U[1],X=o.a.useState(\"\"),Y=Object(s.a)(X,2),Z=Y[0],$=Y[1];o.a.useEffect((function(){function t(){return t=Object(n.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,fetch(u.b+\"getPaymentMethods\",{method:\"GET\",headers:{Authorization:null===a||void 0===a?void 0:a.token}});case 3:return t=e.sent,e.next=6,t.json();case 6:n=e.sent,r(!1),A(null===n||void 0===n?void 0:n.payment_methods.map((function(e){return{label:e}})));case 9:case\"end\":return e.stop()}}),e)}))),t.apply(this,arguments)}function s(){return s=Object(n.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.next=3,fetch(u.b+\"employeelist\",{method:\"GET\",headers:{Authorization:null===a||void 0===a?void 0:a.token}});case 3:if(!0!==(t=e.sent).ok){e.next=10;break}return e.next=7,t.json();case 7:n=e.sent,r(!1),200===n.status?_(null===n||void 0===n?void 0:n.employee_list.map((function(e){return{value:e.id,label:e.name}}))):p.b.error(n.message);case 10:case\"end\":return e.stop()}}),e)}))),s.apply(this,arguments)}function l(){return(l=Object(n.a)(c.a.mark((function t(){var n,s,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r(!0),t.next=3,fetch(u.b+\"expenseById/\"+e,{method:\"GET\",headers:{Authorization:null===a||void 0===a?void 0:a.token}});case 3:if(!0!==(n=t.sent).ok){t.next=10;break}return t.next=7,n.json();case 7:s=t.sent,r(!1),200===s.status?\"salary\"===(l=s.expense_detail).condition?($(l.condition),N({value:l.employee_id,label:l.name}),F({label:l.payment_method}),K(l.paid_amount),R(l.item_name),x(l.expense_date),W(l.remarks)):($(l.condition),g(l.name),K(l.paid_amount),F({label:l.payment_method}),R(l.item_name),x(l.expense_date),W(l.remarks)):p.b.error(s.message);case 10:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}(),function(){s.apply(this,arguments)}(),function(){l.apply(this,arguments)}()}),[]);return Object(b.jsxs)(\"div\",{className:\"container create-page-main-section\",children:[Object(b.jsx)(p.a,{}),Object(b.jsxs)(\"form\",{onSubmit:function(t){return function(t){function s(){return(s=Object(n.a)(c.a.mark((function t(){var n,s,l;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(H&&M&&Z)){t.next=18;break}return n=new FormData,\"salary\"===Z?(n.append(\"expense_date\",f),n.append(\"condition\",Z),n.append(\"name\",q.label),n.append(\"employee_id\",q.value),n.append(\"paid_amount\",H),n.append(\"payment_method\",z.label),n.append(\"item\",M),n.append(\"remarks\",V)):(n.append(\"expense_date\",f),n.append(\"condition\",Z),n.append(\"name\",v),n.append(\"payment_method\",z.label),n.append(\"paid_amount\",H),n.append(\"item\",M),n.append(\"remarks\",V)),t.next=5,fetch(u.b+\"updateexpense/\"+e,{method:\"POST\",headers:{Authorization:null===a||void 0===a?void 0:a.token},body:n});case 5:if(!0!==(s=t.sent).ok){t.next=16;break}return t.next=9,s.json();case 9:if(l=t.sent,r(!1),200!==l.status){t.next=15;break}return t.abrupt(\"return\",window.location=window.location.origin+\"/#/expenseReport\");case 15:p.b.error(l.message);case 16:t.next=19;break;case 18:p.b.error(\"Please fill the data with *\");case 19:case\"end\":return t.stop()}}),t)})))).apply(this,arguments)}r(!0),t.preventDefault(),function(){s.apply(this,arguments)}()}(t)},children:[Object(b.jsxs)(\"div\",{className:\"p-sm-5 create-form-field\",children:[Object(b.jsxs)(\"div\",{class:\"form-group row\",children:[Object(b.jsx)(\"label\",{for:\"inputDate\",class:\"col-sm-2 col-form-label\",children:\"Expense Date\"}),Object(b.jsx)(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:Object(b.jsx)(\"input\",{value:f,onChange:function(e){return x(e.target.value)},type:\"date\",class:\"form-control\",id:\"inputDate\"})})]}),Object(b.jsxs)(\"div\",{class:\"form-group row\",children:[Object(b.jsxs)(\"label\",{for:\"inputname\",class:\"col-sm-2 col-form-label\",children:[\"Condition\",Object(b.jsx)(\"span\",{className:\"required-label\",children:\"*\"})]}),Object(b.jsx)(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:Object(b.jsxs)(\"select\",{value:Z,onChange:function(e){return function(e){$(e.target.value),\"salary\"===e.target.value&&R(\"salary\")}(e)},class:\"form-control\",required:!0,children:[Object(b.jsx)(\"option\",{value:\"\",children:\"Select Condition\"}),Object(b.jsx)(\"option\",{value:\"expense\",children:\"Expense\"}),Object(b.jsx)(\"option\",{value:\"salary\",children:\"Salary\"})]})})]}),\"expense\"===Z?Object(b.jsxs)(\"div\",{class:\"form-group row\",children:[Object(b.jsxs)(\"label\",{for:\"inputname\",class:\"col-sm-2 col-form-label\",children:[\"To:\",Object(b.jsx)(\"span\",{className:\"required-label\",children:\"*\"})]}),Object(b.jsx)(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:Object(b.jsx)(\"input\",{required:!0,value:v,onChange:function(e){return g(e.target.value)},type:\"text\",class:\"form-control\",id:\"inputname\"})})]}):null,\"salary\"===Z?Object(b.jsxs)(\"div\",{class:\"form-group row\",children:[Object(b.jsxs)(\"label\",{for:\"inputname\",class:\"col-sm-2 col-form-label\",children:[\"To:\",Object(b.jsx)(\"span\",{className:\"required-label\",children:\"*\"})]}),Object(b.jsx)(\"div\",{class:\"col-sm-10\",children:Object(b.jsx)(i.a,{options:k,value:q,onChange:N})})]}):null,Object(b.jsxs)(\"div\",{class:\"form-group row\",children:[Object(b.jsxs)(\"label\",{for:\"inputItem\",class:\"col-sm-2 col-form-label\",children:[\"Item\",Object(b.jsx)(\"span\",{className:\"required-label\",children:\"*\"})]}),Object(b.jsx)(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:Object(b.jsx)(\"input\",{required:!0,value:M,onChange:function(e){return R(e.target.value)},type:\"text\",class:\"form-control\",id:\"inputItem\"})})]}),Object(b.jsxs)(\"div\",{class:\"form-group row\",children:[Object(b.jsxs)(\"label\",{for:\"inputItem\",class:\"col-sm-2 col-form-label\",children:[\"Payment Method\",Object(b.jsx)(\"span\",{className:\"required-label\",children:\"*\"})]}),Object(b.jsx)(\"div\",{class:\"col-sm-10\",children:Object(b.jsx)(i.a,{options:E,value:z,onChange:F})})]}),Object(b.jsxs)(\"div\",{class:\"form-group row\",children:[Object(b.jsxs)(\"label\",{for:\"inputPrice\",class:\"col-sm-2 col-form-label\",children:[\"Paid Amount\",Object(b.jsx)(\"span\",{className:\"required-label\",children:\"*\"})]}),Object(b.jsx)(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:Object(b.jsx)(\"input\",{required:!0,value:H,onChange:function(e){return K(e.target.value)},type:\"text\",class:\"form-control\",id:\"inputPrice\"})})]}),Object(b.jsxs)(\"div\",{class:\"form-group row\",children:[Object(b.jsx)(\"label\",{class:\"col-sm-2 col-form-label\",for:\"exampleFormControlTextarea1\",children:\"Remarks:\"}),Object(b.jsx)(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:Object(b.jsx)(\"textarea\",{value:V,onChange:function(e){return W(e.target.value)},class:\"form-control\",id:\"exampleFormControlTextarea1\",rows:\"3\"})})]})]}),Object(b.jsxs)(\"div\",{class:\"d-flex justify-content-center create-catagory-btns\",children:[Object(b.jsxs)(\"button\",{type:\"reset\",class:\"font-weight-bold m-3 py-2 px-4 btn btn-danger\",onClick:function(){return window.location.reload()},children:[\"Cancel\",Object(b.jsx)(\"i\",{class:\"px-2 fa fa-times\",\"aria-hidden\":\"true\"})]}),Object(b.jsxs)(\"button\",{type:\"submit\",class:\"font-weight-bold m-3 py-2 px-4 btn btn-success\",children:[\"Save\",Object(b.jsx)(\"i\",{class:\"px-2 fa fa-floppy-o\",\"aria-hidden\":\"true\"})]})]})]})]})}}}]);","name":"static/js/78.aef94adb.chunk.js","map":{"version":3,"sources":["static/js/78.aef94adb.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","r","d","Edit","_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__","_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__","_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__","_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default","n","react__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_3___default","react_select__WEBPACK_IMPORTED_MODULE_4__","src_helpers_helpers__WEBPACK_IMPORTED_MODULE_5__","_context_UserContext__WEBPACK_IMPORTED_MODULE_6__","react_toastify__WEBPACK_IMPORTED_MODULE_7__","react_router_dom__WEBPACK_IMPORTED_MODULE_8__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__","id","Object","_React$useContext","a","useContext","user","setLoad","_React$useState","useState","_React$useState2","expense_date","setExpenseDate","_React$useState3","_React$useState4","name","setName","_React$useState5","_React$useState6","allemployees","setAllEmployees","_React$useState7","_React$useState8","currentEmployee","setCurrentEmployee","_React$useState9","_React$useState10","allPaymentMethods","setAllPaymentMethods","_React$useState11","_React$useState12","currentPaymentMethod","setCurrentPaymentMethod","_React$useState13","_React$useState14","item","setItem","_React$useState15","_React$useState16","paid_amount","setPaidAmount","_React$useState17","_React$useState18","remarks","setRemarks","_React$useState19","_React$useState20","condition","setCondition","useEffect","_fetchPaymentMethods","mark","_callee","response","data","wrap","_context","prev","next","fetch","method","headers","Authorization","token","sent","json","payment_methods","map","label","stop","apply","arguments","_fetchEmployees","_callee2","_context2","ok","status","employee_list","value","error","message","_fetchExpenseData","_callee3","expense_detail","_context3","employee_id","payment_method","item_name","fetchPaymentMethods","fetchEmployees","fetchExpenseData","className","children","onSubmit","e","_submitData","_callee4","formData","_context4","FormData","append","body","abrupt","window","location","origin","preventDefault","submitData","handleSubmit","class","for","onChange","target","type","handleChange","required","options","rows","onClick","reload"],"mappings":"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"},"input":"(this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"] = this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"] || []).push([[78],{\n\n/***/ 827:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return Edit; });\n/* harmony import */ var _Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(131);\n/* harmony import */ var _Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(56);\n/* harmony import */ var _Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(81);\n/* harmony import */ var _Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_select__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(673);\n/* harmony import */ var src_helpers_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(130);\n/* harmony import */ var _context_UserContext__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(102);\n/* harmony import */ var react_toastify__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(668);\n/* harmony import */ var react_router_dom__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(24);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(13);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__);\nfunction Edit(){var _useParams=Object(react_router_dom__WEBPACK_IMPORTED_MODULE_8__[/* useParams */ \"i\"])(),id=_useParams.id;var _React$useContext=react__WEBPACK_IMPORTED_MODULE_3___default.a.useContext(_context_UserContext__WEBPACK_IMPORTED_MODULE_6__[/* userContext */ \"b\"]),user=_React$useContext.user,setLoad=_React$useContext.setLoad;var _React$useState=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(''),_React$useState2=Object(_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState,2),expense_date=_React$useState2[0],setExpenseDate=_React$useState2[1];var _React$useState3=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(''),_React$useState4=Object(_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState3,2),name=_React$useState4[0],setName=_React$useState4[1];var _React$useState5=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(''),_React$useState6=Object(_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState5,2),allemployees=_React$useState6[0],setAllEmployees=_React$useState6[1];var _React$useState7=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(''),_React$useState8=Object(_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState7,2),currentEmployee=_React$useState8[0],setCurrentEmployee=_React$useState8[1];var _React$useState9=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState([]),_React$useState10=Object(_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState9,2),allPaymentMethods=_React$useState10[0],setAllPaymentMethods=_React$useState10[1];var _React$useState11=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(''),_React$useState12=Object(_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState11,2),currentPaymentMethod=_React$useState12[0],setCurrentPaymentMethod=_React$useState12[1];var _React$useState13=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(''),_React$useState14=Object(_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState13,2),item=_React$useState14[0],setItem=_React$useState14[1];var _React$useState15=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(0),_React$useState16=Object(_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState15,2),paid_amount=_React$useState16[0],setPaidAmount=_React$useState16[1];var _React$useState17=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(''),_React$useState18=Object(_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState17,2),remarks=_React$useState18[0],setRemarks=_React$useState18[1];var _React$useState19=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(''),_React$useState20=Object(_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState19,2),condition=_React$useState20[0],setCondition=_React$useState20[1];react__WEBPACK_IMPORTED_MODULE_3___default.a.useEffect(function(){function fetchPaymentMethods(){return _fetchPaymentMethods.apply(this,arguments);}function _fetchPaymentMethods(){_fetchPaymentMethods=Object(_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(/*#__PURE__*/_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(){var response,data;return _Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoad(true);_context.next=3;return fetch(src_helpers_helpers__WEBPACK_IMPORTED_MODULE_5__[/* url */ \"b\"]+'getPaymentMethods',{method:'GET',headers:{'Authorization':user===null||user===void 0?void 0:user.token}});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;setLoad(false);setAllPaymentMethods(data===null||data===void 0?void 0:data.payment_methods.map(function(item){return{label:item};}));case 9:case\"end\":return _context.stop();}}},_callee);}));return _fetchPaymentMethods.apply(this,arguments);}fetchPaymentMethods();function fetchEmployees(){return _fetchEmployees.apply(this,arguments);}function _fetchEmployees(){_fetchEmployees=Object(_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(/*#__PURE__*/_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2(){var response,data;return _Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoad(true);_context2.next=3;return fetch(src_helpers_helpers__WEBPACK_IMPORTED_MODULE_5__[/* url */ \"b\"]+'employeelist',{method:'GET',headers:{'Authorization':user===null||user===void 0?void 0:user.token}});case 3:response=_context2.sent;if(!(response.ok===true)){_context2.next=10;break;}_context2.next=7;return response.json();case 7:data=_context2.sent;setLoad(false);if(data.status===200){setAllEmployees(data===null||data===void 0?void 0:data.employee_list.map(function(item){return{value:item.id,label:item.name};}));}else{react_toastify__WEBPACK_IMPORTED_MODULE_7__[/* toast */ \"b\"].error(data.message);}case 10:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchEmployees.apply(this,arguments);}fetchEmployees();function fetchExpenseData(){return _fetchExpenseData.apply(this,arguments);}function _fetchExpenseData(){_fetchExpenseData=Object(_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(/*#__PURE__*/_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee3(){var response,data,expense_detail;return _Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:setLoad(true);_context3.next=3;return fetch(src_helpers_helpers__WEBPACK_IMPORTED_MODULE_5__[/* url */ \"b\"]+'expenseById/'+id,{method:'GET',headers:{'Authorization':user===null||user===void 0?void 0:user.token}});case 3:response=_context3.sent;if(!(response.ok===true)){_context3.next=10;break;}_context3.next=7;return response.json();case 7:data=_context3.sent;setLoad(false);if(data.status===200){expense_detail=data.expense_detail;if(expense_detail.condition==='salary'){setCondition(expense_detail.condition);setCurrentEmployee({value:expense_detail.employee_id,label:expense_detail.name});setCurrentPaymentMethod({label:expense_detail.payment_method});setPaidAmount(expense_detail.paid_amount);setItem(expense_detail.item_name);setExpenseDate(expense_detail.expense_date);setRemarks(expense_detail.remarks);}else{setCondition(expense_detail.condition);setName(expense_detail.name);setPaidAmount(expense_detail.paid_amount);setCurrentPaymentMethod({label:expense_detail.payment_method});setItem(expense_detail.item_name);setExpenseDate(expense_detail.expense_date);setRemarks(expense_detail.remarks);}}else{react_toastify__WEBPACK_IMPORTED_MODULE_7__[/* toast */ \"b\"].error(data.message);}case 10:case\"end\":return _context3.stop();}}},_callee3);}));return _fetchExpenseData.apply(this,arguments);}fetchExpenseData();},[]);var handleChange=function handleChange(e){setCondition(e.target.value);if(e.target.value===\"salary\"){setItem(\"salary\");}};var handleSubmit=function handleSubmit(e){setLoad(true);e.preventDefault();function submitData(){return _submitData.apply(this,arguments);}function _submitData(){_submitData=Object(_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(/*#__PURE__*/_Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee4(){var formData,response,data;return _Volumes_Disk_SSD_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:if(!(paid_amount&&item&&condition)){_context4.next=18;break;}formData=new FormData();if(condition==='salary'){formData.append('expense_date',expense_date);formData.append('condition',condition);formData.append('name',currentEmployee.label);formData.append('employee_id',currentEmployee.value);formData.append('paid_amount',paid_amount);formData.append('payment_method',currentPaymentMethod.label);formData.append('item',item);formData.append('remarks',remarks);}else{formData.append('expense_date',expense_date);formData.append('condition',condition);formData.append('name',name);formData.append('payment_method',currentPaymentMethod.label);formData.append('paid_amount',paid_amount);formData.append('item',item);formData.append('remarks',remarks);}_context4.next=5;return fetch(src_helpers_helpers__WEBPACK_IMPORTED_MODULE_5__[/* url */ \"b\"]+'updateexpense/'+id,{method:'POST',headers:{'Authorization':user===null||user===void 0?void 0:user.token},body:formData});case 5:response=_context4.sent;if(!(response.ok===true)){_context4.next=16;break;}_context4.next=9;return response.json();case 9:data=_context4.sent;setLoad(false);if(!(data.status===200)){_context4.next=15;break;}return _context4.abrupt(\"return\",window.location=window.location.origin+'/#/expenseReport');case 15:react_toastify__WEBPACK_IMPORTED_MODULE_7__[/* toast */ \"b\"].error(data.message);case 16:_context4.next=19;break;case 18:react_toastify__WEBPACK_IMPORTED_MODULE_7__[/* toast */ \"b\"].error('Please fill the data with *');case 19:case\"end\":return _context4.stop();}}},_callee4);}));return _submitData.apply(this,arguments);}submitData();};return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{className:\"container create-page-main-section\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(react_toastify__WEBPACK_IMPORTED_MODULE_7__[/* ToastContainer */ \"a\"],{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"form\",{onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{className:\"p-sm-5 create-form-field\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"label\",{for:\"inputDate\",class:\"col-sm-2 col-form-label\",children:\"Expense Date\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"input\",{value:expense_date,onChange:function onChange(e){return setExpenseDate(e.target.value);},type:\"date\",class:\"form-control\",id:\"inputDate\"})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"label\",{for:\"inputname\",class:\"col-sm-2 col-form-label\",children:[\"Condition\",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"span\",{className:\"required-label\",children:\"*\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"select\",{value:condition,onChange:function onChange(e){return handleChange(e);},class:\"form-control\",required:true,children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"option\",{value:\"\",children:\"Select Condition\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"option\",{value:\"expense\",children:\"Expense\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"option\",{value:\"salary\",children:\"Salary\"})]})})]}),condition==='expense'?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"label\",{for:\"inputname\",class:\"col-sm-2 col-form-label\",children:[\"To:\",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"span\",{className:\"required-label\",children:\"*\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"input\",{required:true,value:name,onChange:function onChange(e){return setName(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputname\"})})]}):null,condition==='salary'?/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"label\",{for:\"inputname\",class:\"col-sm-2 col-form-label\",children:[\"To:\",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"span\",{className:\"required-label\",children:\"*\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{class:\"col-sm-10\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(react_select__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"],{options:allemployees,value:currentEmployee,onChange:setCurrentEmployee})})]}):null,/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"label\",{for:\"inputItem\",class:\"col-sm-2 col-form-label\",children:[\"Item\",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"span\",{className:\"required-label\",children:\"*\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"input\",{required:true,value:item,onChange:function onChange(e){return setItem(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputItem\"})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"label\",{for:\"inputItem\",class:\"col-sm-2 col-form-label\",children:[\"Payment Method\",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"span\",{className:\"required-label\",children:\"*\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{class:\"col-sm-10\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(react_select__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"],{options:allPaymentMethods,value:currentPaymentMethod,onChange:setCurrentPaymentMethod})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"label\",{for:\"inputPrice\",class:\"col-sm-2 col-form-label\",children:[\"Paid Amount\",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"span\",{className:\"required-label\",children:\"*\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"input\",{required:true,value:paid_amount,onChange:function onChange(e){return setPaidAmount(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputPrice\"})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"label\",{class:\"col-sm-2 col-form-label\",for:\"exampleFormControlTextarea1\",children:\"Remarks:\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"textarea\",{value:remarks,onChange:function onChange(e){return setRemarks(e.target.value);},class:\"form-control\",id:\"exampleFormControlTextarea1\",rows:\"3\"})})]})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"div\",{class:\"d-flex justify-content-center create-catagory-btns\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"button\",{type:\"reset\",class:\"font-weight-bold m-3 py-2 px-4 btn btn-danger\",onClick:function onClick(){return window.location.reload();},children:[\"Cancel\",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"i\",{class:\"px-2 fa fa-times\",\"aria-hidden\":\"true\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsxs\"])(\"button\",{type:\"submit\",class:\"font-weight-bold m-3 py-2 px-4 btn btn-success\",children:[\"Save\",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_9__[\"jsx\"])(\"i\",{class:\"px-2 fa fa-floppy-o\",\"aria-hidden\":\"true\"})]})]})]})]});}\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Volumes/Disk SSD/erp2.0/erp-2.0/frontend/src/screens/Expense/Edit.js"],"names":["Edit","useParams","id","React","useContext","userContext","user","setLoad","useState","expense_date","setExpenseDate","name","setName","allemployees","setAllEmployees","currentEmployee","setCurrentEmployee","allPaymentMethods","setAllPaymentMethods","currentPaymentMethod","setCurrentPaymentMethod","item","setItem","paid_amount","setPaidAmount","remarks","setRemarks","condition","setCondition","useEffect","fetchPaymentMethods","fetch","url","method","headers","token","response","json","data","payment_methods","map","label","fetchEmployees","ok","status","employee_list","value","toast","error","message","fetchExpenseData","expense_detail","employee_id","payment_method","item_name","handleChange","e","target","handleSubmit","preventDefault","submitData","formData","FormData","append","body","window","location","origin","reload"],"mappings":"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","file":"x","sourcesContent":["import React from 'react'\nimport Select from 'react-select';\nimport { url } from 'src/helpers/helpers';\nimport {userContext} from '../../context/UserContext'\nimport { toast,ToastContainer } from 'react-toastify';\nimport {useParams} from 'react-router-dom';\n\nexport default function Edit() {\n    const {id} = useParams();\n    const {user,setLoad} = React.useContext(userContext);    \n    const [expense_date, setExpenseDate] = React.useState('');\n    const [name, setName] = React.useState('');\n    const [allemployees, setAllEmployees] = React.useState('');\n    const [currentEmployee, setCurrentEmployee] = React.useState('');\n    const [allPaymentMethods, setAllPaymentMethods] = React.useState([]);\n    const [currentPaymentMethod, setCurrentPaymentMethod] = React.useState('');\n    const [item,setItem] = React.useState('');\n    const [paid_amount,setPaidAmount] = React.useState(0);\n    const [remarks,setRemarks] = React.useState('');\n    const [condition, setCondition] = React.useState('');\n    \n    React.useEffect(()=>{\n        async function fetchPaymentMethods() {\n            setLoad(true);\n            const response = await fetch(url + 'getPaymentMethods', {\n                method: 'GET',\n                headers: {\n                    'Authorization': user?.token\n                }\n            })\n            const data = await response.json();\n            setLoad(false);\n            setAllPaymentMethods(data?.payment_methods.map(item => {\n                return {\n                    label: item\n                }\n            }))\n        }\n        fetchPaymentMethods();\n        \n        async function fetchEmployees(){\n            setLoad(true);\n            const response = await fetch(url + 'employeelist', {\n                method: 'GET',\n                headers: {\n                    'Authorization': user?.token\n                }\n            })\n    \n            if (response.ok === true) {\n                const data = await response.json();\n                setLoad(false)\n                if (data.status === 200) {\n                    setAllEmployees(data?.employee_list.map(item => {\n                        return {\n                           value: item.id, \n                           label: item.name\n                        }\n                    }))\n                } else {\n                    toast.error(data.message)\n                }\n            }\n        }\n           fetchEmployees();\n        \n        async function fetchExpenseData(){\n            setLoad(true);\n            const response = await fetch(url + 'expenseById/' + id,{\n                method : 'GET',\n                headers : {\n                    'Authorization' : user?.token\n                }\n            })\n            if (response.ok === true){\n                const data = await response.json();\n                setLoad(false);\n                if (data.status === 200){\n                    let expense_detail = data.expense_detail;\n                    if(expense_detail.condition==='salary'){\n                        setCondition(expense_detail.condition);\n                        setCurrentEmployee({\n                            value: expense_detail.employee_id,\n                            label: expense_detail.name\n                        });\n                        setCurrentPaymentMethod({\n                            label: expense_detail.payment_method\n                        })\n                        setPaidAmount(expense_detail.paid_amount);\n                        setItem(expense_detail.item_name);\n                        setExpenseDate(expense_detail.expense_date);\n                        setRemarks(expense_detail.remarks);\n                    }\n                    else{\n                        setCondition(expense_detail.condition);\n                        setName(expense_detail.name)\n                        setPaidAmount(expense_detail.paid_amount);\n                        setCurrentPaymentMethod({\n                            label: expense_detail.payment_method\n                        })\n                        setItem(expense_detail.item_name);\n                        setExpenseDate(expense_detail.expense_date);\n                        setRemarks(expense_detail.remarks);\n                    }\n                }else{\n                    toast.error(data.message)\n                }\n            }\n        }\n        fetchExpenseData();\n    },[])\n    \n    const handleChange = e =>{\n        setCondition(e.target.value);\n        if(e.target.value === \"salary\"){\n            setItem(\"salary\");\n        }\n    }\n    \n    const handleSubmit = e => {\n        setLoad(true)\n        e.preventDefault();\n        \n        async function submitData(){\n            if( paid_amount && item && condition)\n           {  \n            const formData = new FormData();\n            if(condition==='salary'){\n                formData.append('expense_date', expense_date);\n                formData.append('condition', condition);\n                formData.append('name', currentEmployee.label);\n                formData.append('employee_id', currentEmployee.value);\n                formData.append('paid_amount', paid_amount);\n                formData.append('payment_method', currentPaymentMethod.label);\n                formData.append('item', item);\n                formData.append('remarks', remarks);\n                }\n                else{\n                formData.append('expense_date', expense_date);\n                formData.append('condition', condition);\n                formData.append('name', name);\n                formData.append('payment_method', currentPaymentMethod.label);\n                formData.append('paid_amount', paid_amount);\n                formData.append('item', item);\n                formData.append('remarks', remarks);\n                }\n            const response = await fetch(url + 'updateexpense/' + id,{\n                method : 'POST',\n                headers : {\n                    'Authorization' : user?.token\n                },\n                body : formData\n            })\n\n            if (response.ok === true){\n                const data = await response.json();\n                setLoad(false);\n                if (data.status === 200){\n                    return window.location = window.location.origin + '/#/expenseReport';\n                }else{\n                    toast.error(data.message)\n                }\n            }\n        }\n        else{\n            toast.error('Please fill the data with *');\n         }\n        } \n        submitData();\n    }\n\n    return (\n        <div className=\"container create-page-main-section\">\n            <ToastContainer />\n            <form onSubmit={e=>handleSubmit(e)}>\n                <div className='p-sm-5 create-form-field'>\n                    <div class=\"form-group row\">\n                        <label for=\"inputDate\" class=\"col-sm-2 col-form-label\">Expense Date</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={expense_date} onChange={e=>setExpenseDate(e.target.value)} type=\"date\" class=\"form-control\" id=\"inputDate\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputname\" class=\"col-sm-2 col-form-label\">Condition<span className='required-label'>*</span></label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                        <select value={condition} onChange={e => handleChange(e)} class=\"form-control\" required>\n                                    <option value=\"\">Select Condition</option>\n                                    <option value='expense'>Expense</option>\n                                    <option value='salary'>Salary</option>\n                        </select>\n                        </div>\n                    </div>\n                    {condition ==='expense'?\n                     <div class=\"form-group row\">\n                     <label for=\"inputname\" class=\"col-sm-2 col-form-label\">To:<span className='required-label'>*</span></label>\n                     <div class=\"d-flex align-items-sm-center col-sm-10\">\n                         <input required value={name} onChange={e=>setName(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputname\" />\n                     </div>\n                 </div> : null}\n                    {condition ==='salary'?\n                     <div class=\"form-group row\">\n                     <label for=\"inputname\" class=\"col-sm-2 col-form-label\">To:<span className='required-label'>*</span></label>\n                     <div class=\"col-sm-10\">\n                        <Select options={allemployees} value={currentEmployee} onChange={setCurrentEmployee} />\n                    </div>\n                 </div> : null}\n                    <div class=\"form-group row\">\n                        <label for=\"inputItem\" class=\"col-sm-2 col-form-label\">Item<span className='required-label'>*</span></label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input required value={item} onChange={e=>setItem(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputItem\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputItem\" class=\"col-sm-2 col-form-label\">Payment Method<span className='required-label'>*</span></label>\n                        <div class=\"col-sm-10\">\n                                <Select options={allPaymentMethods} value={currentPaymentMethod} onChange={setCurrentPaymentMethod} />\n                            </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPrice\" class=\"col-sm-2 col-form-label\">Paid Amount<span className='required-label'>*</span></label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input required value={paid_amount} onChange={e=>setPaidAmount(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPrice\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label class=\"col-sm-2 col-form-label\" for=\"exampleFormControlTextarea1\">Remarks:</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <textarea value={remarks} onChange={e => setRemarks(e.target.value)} class=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"3\"></textarea>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"d-flex justify-content-center create-catagory-btns\">\n                    <button type=\"reset\" class=\"font-weight-bold m-3 py-2 px-4 btn btn-danger\" onClick={() => window.location.reload()} >Cancel<i\n                        class=\"px-2 fa fa-times\" aria-hidden=\"true\"></i></button>\n                    <button type=\"submit\" class=\"font-weight-bold m-3 py-2 px-4 btn btn-success\">Save<i\n                        class=\"px-2 fa fa-floppy-o\" aria-hidden=\"true\"></i></button>\n                </div>\n            </form>\n        </div>\n    )\n}"]}}