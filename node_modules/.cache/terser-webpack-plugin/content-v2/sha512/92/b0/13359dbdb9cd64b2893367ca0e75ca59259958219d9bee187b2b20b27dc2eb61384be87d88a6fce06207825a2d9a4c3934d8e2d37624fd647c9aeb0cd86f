{"code":"(this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"]=this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"]||[]).push([[90],{831:function(e,t,c){\"use strict\";c.r(t),c.d(t,\"default\",(function(){return h}));var n=c(664),r=c(128),s=c(665),a=c.n(s),i=c(1),o=c.n(i),l=c(670),d=c(663),j=c(667),u=c(100),b=c(18);function h(){var e=o.a.useContext(u.b),t=e.user,c=e.setLoad,s=o.a.useState([]),i=Object(r.a)(s,2),h=i[0],m=i[1],p=o.a.useState(new Date),x=Object(r.a)(p,2),O=x[0],f=x[1],v=o.a.useState(new Date),y=Object(r.a)(v,2),g=y[0],w=y[1],_=o.a.useState(\"\"),k=Object(r.a)(_,2),F=k[0],S=k[1],q=o.a.useState(0),C=Object(r.a)(q,2),D=C[0],N=C[1],P=o.a.useState(0),T=Object(r.a)(P,2),A=T[0],E=T[1],R=o.a.useState([]),J=Object(r.a)(R,2),z=J[0],G=J[1],I=o.a.useState([]),K=Object(r.a)(I,2),L=K[0],H=K[1],Q=0,U=0;return o.a.useEffect((function(){function e(){return(e=Object(n.a)(a.a.mark((function e(){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d.c+\"clientlist\",{method:\"GET\",headers:{Authorization:null===t||void 0===t?void 0:t.token}});case 2:if(!0!==(n=e.sent).ok){e.next=9;break}return e.next=6,n.json();case 6:r=e.sent,c(!1),200===r.status?H(null===r||void 0===r?void 0:r.client_list.map((function(e){return{value:e.id,label:e.name,normal:e.normal,star:e.star,vinyl:e.vinyl,one_way:e.one_way,backlit:e.backlit,premium:e.premium,card12_18:e.card_12_18,sticker12_18:e.sticker_12_18,due_amount:e.due_amount}}))):j.b.error(r.message);case 9:case\"end\":return e.stop()}}),e)})))).apply(this,arguments)}c(!0),function(){e.apply(this,arguments)}()}),[]),Object(b.jsxs)(\"section\",{children:[Object(b.jsx)(j.a,{}),Object(b.jsxs)(\"div\",{class:\"d-flex\",children:[Object(b.jsx)(\"form\",{class:\"col-md-10 m-0 p-0\",children:Object(b.jsxs)(\"div\",{class:\"form-row m-0 p-0 create-purchase-header\",children:[Object(b.jsxs)(\"div\",{class:\"form-group col-md-3\",children:[Object(b.jsxs)(\"label\",{for:\"date\",children:[\"From\",Object(b.jsx)(\"span\",{className:\"required-label\",children:\"*\"})]}),Object(b.jsx)(\"input\",{value:O,onChange:function(e){return f(e.target.value)},type:\"date\",class:\"form-control\",id:\"date\",required:!0})]}),Object(b.jsxs)(\"div\",{class:\"form-group col-md-3\",children:[Object(b.jsxs)(\"label\",{for:\"date\",children:[\"To\",Object(b.jsx)(\"span\",{className:\"required-label\",children:\"*\"})]}),Object(b.jsx)(\"input\",{value:g,onChange:function(e){return w(e.target.value)},type:\"date\",class:\"form-control\",id:\"date\",required:!0})]}),Object(b.jsxs)(\"div\",{class:\"form-group col-md-3\",children:[Object(b.jsxs)(\"label\",{for:\"input-customer\",children:[\"Customer\",Object(b.jsx)(\"span\",{className:\"required-label\",children:\"*\"})]}),Object(b.jsx)(l.a,{options:L,value:F,onChange:S})]}),Object(b.jsx)(\"div\",{class:\"form-group col-md-2\",children:Object(b.jsx)(\"button\",{type:\"button\",class:\"font-weight-bold my-4 py-2 px-4 btn btn-success\",onClick:function(){return function(){if(g&&O&&F){var e=function(){var e=Object(n.a)(a.a.mark((function e(){var n,s;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d.c+\"detailCustomerReport\",{method:\"POST\",headers:{Authorization:null===t||void 0===t?void 0:t.token},body:r});case 2:if(!0!==(n=e.sent).ok){e.next=11;break}return e.next=6,n.json();case 6:s=e.sent,c(!1),200===s.status?(N(parseFloat(s.total_amount).toFixed(2)),m(s.customer_detail),E(s.due_amount),console.log(s.payment_list),G(s.payment_list)):j.b.error(s.message),e.next=12;break;case 11:j.b.error(\"Oops something went wrong!\");case 12:case\"end\":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();c(!0);var r=new FormData;r.append(\"to\",g),r.append(\"from\",O),r.append(\"customer\",JSON.stringify(F)),e().catch((function(e){return j.b.error(\"Internal server error!. Please try again later\")}))}else j.b.error(\"Please fill the to and from date\")}()},children:\"Submit\"})})]})}),Object(b.jsx)(\"div\",{class:\"col-md-2\",children:Object(b.jsx)(\"button\",{onClick:function(){return function(){var e=document.getElementById(\"export-table\").innerHTML,t=window.open(\"\",\"Receipt\");t.document.write(\"<html><head><title>Receipt</title>\"),t.document.write('<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css\" integrity=\"sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn\" crossorigin=\"anonymous\">'),t.document.write(\"</head><body>\"),t.document.write(e),t.document.write(\"</body></html>\"),t.document.close(),t.onload=function(){t.focus(),t.print()}}()},class:\"font-weight-bold my-4 px-3 py-2 btn btn-success\",children:\"Export as PDF\"})})]}),Object(b.jsxs)(\"div\",{id:\"export-table\",children:[Object(b.jsx)(\"h6\",{className:\"text-center font-weight-bold\",children:null===F||void 0===F?void 0:F.label}),Object(b.jsxs)(\"table\",{class:\"table\",children:[Object(b.jsx)(\"thead\",{children:Object(b.jsxs)(\"tr\",{children:[Object(b.jsx)(\"th\",{scope:\"col\",children:\"#\"}),Object(b.jsx)(\"th\",{scope:\"col\",children:\"Date\"}),Object(b.jsx)(\"th\",{scope:\"col\",children:\"Item\"}),Object(b.jsx)(\"th\",{scope:\"col\",children:\"Width\"}),Object(b.jsx)(\"th\",{scope:\"col\",children:\"Height\"}),Object(b.jsx)(\"th\",{scope:\"col\",children:\"Sq.Ft\"}),Object(b.jsx)(\"th\",{scope:\"col\",children:\"Price\"}),Object(b.jsx)(\"th\",{scope:\"col\",children:\"Qty\"}),Object(b.jsx)(\"th\",{scope:\"col\",children:\"Total\"})]})}),Object(b.jsx)(\"tbody\",{children:h.map((function(e){return Object(b.jsxs)(\"tr\",{children:[Object(b.jsx)(\"th\",{scope:\"row\",children:++Q}),Object(b.jsx)(\"td\",{children:Object(d.a)(e.sale_date.split(\" \")[0])}),Object(b.jsx)(\"td\",{children:e.sale_items.map((function(e){return Object(b.jsxs)(\"p\",{children:[e.item_name,\" (\",e.material_name,\")\"]})}))}),Object(b.jsx)(\"td\",{children:e.sale_items.map((function(e){return Object(b.jsx)(\"p\",{children:e.width})}))}),Object(b.jsx)(\"td\",{children:e.sale_items.map((function(e){return Object(b.jsx)(\"p\",{children:e.height})}))}),Object(b.jsx)(\"td\",{children:e.sale_items.map((function(e){return Object(b.jsx)(\"p\",{children:e.sqFt})}))}),Object(b.jsx)(\"td\",{children:e.sale_items.map((function(e){return Object(b.jsx)(\"p\",{children:e.sale_price})}))}),Object(b.jsx)(\"td\",{children:e.sale_items.map((function(e){return Object(b.jsx)(\"p\",{children:e.qty})}))}),Object(b.jsx)(\"td\",{children:e.sale_items.map((function(e){return Object(b.jsx)(\"p\",{children:parseFloat(e.total).toFixed(2)})}))})]})}))})]}),z.length>0&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(\"h6\",{className:\"text-center font-weight-bold\",children:\"Payment Recieved\"}),Object(b.jsxs)(\"table\",{class:\"table\",children:[Object(b.jsx)(\"thead\",{children:Object(b.jsxs)(\"tr\",{children:[Object(b.jsx)(\"th\",{scope:\"col\",children:\"#\"}),Object(b.jsx)(\"th\",{scope:\"col\",children:\"Reciept Number\"}),Object(b.jsx)(\"th\",{scope:\"col\",children:\"Date\"}),Object(b.jsx)(\"th\",{scope:\"col\",children:\"Amount\"})]})}),Object(b.jsx)(\"tbody\",{children:z.map((function(e){return Object(b.jsxs)(\"tr\",{children:[Object(b.jsx)(\"th\",{scope:\"row\",children:++U}),Object(b.jsx)(\"td\",{children:e.id}),Object(b.jsx)(\"td\",{children:Object(d.a)(e.date.split(\" \")[0])}),Object(b.jsx)(\"td\",{children:e.amount})]})}))})]})]}),Object(b.jsx)(\"hr\",{}),Object(b.jsxs)(\"h6\",{className:\"float-right mr-3\",children:[\"Total Amount :- \",parseFloat(D).toFixed(2)]}),Object(b.jsxs)(\"h6\",{className:\"float-right mr-3\",children:[\"Due Amount :- \",parseFloat(A).toFixed(2)]})]})]})}}}]);","name":"static/js/90.534d86e0.chunk.js","map":{"version":3,"sources":["static/js/90.534d86e0.chunk.js"],"names":["this","push","module","__webpack_exports__","__webpack_require__","r","d","DetailCustomerReport","_Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__","_Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__","_Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__","_Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default","n","react__WEBPACK_IMPORTED_MODULE_3__","react__WEBPACK_IMPORTED_MODULE_3___default","react_select__WEBPACK_IMPORTED_MODULE_4__","src_helpers_helpers__WEBPACK_IMPORTED_MODULE_5__","react_toastify__WEBPACK_IMPORTED_MODULE_6__","_context_UserContext__WEBPACK_IMPORTED_MODULE_7__","react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__","_React$useContext","a","useContext","user","setLoad","_React$useState","useState","_React$useState2","Object","customerDetailList","setCustomerDetailList","_React$useState3","Date","_React$useState4","from_Date","setFromDate","_React$useState5","_React$useState6","to_Date","setToDate","_React$useState7","_React$useState8","currentCustomer","setCurrentCustomer","_React$useState9","_React$useState10","totalAmount","settotalAmount","_React$useState11","_React$useState12","dueAmount","setDueAmount","_React$useState13","_React$useState14","paymentlist","setPaymentList","_React$useState15","_React$useState16","allCustomers","setAllCustomers","index","index1","useEffect","_fetchCustomers","mark","_callee","response","data","wrap","_context","prev","next","fetch","method","headers","Authorization","token","sent","ok","json","status","client_list","map","item","value","id","label","name","normal","star","vinyl","one_way","backlit","premium","card12_18","card_12_18","sticker12_18","sticker_12_18","due_amount","error","message","stop","apply","arguments","fetchCustomers","children","class","for","className","onChange","e","target","type","required","options","onClick","submit","_ref","_callee2","_context2","body","formData","parseFloat","total_amount","toFixed","customer_detail","console","log","payment_list","FormData","append","JSON","stringify","catch","err","handleSubmit","html","document","getElementById","innerHTML","myWindow","window","open","write","close","onload","focus","print","exportPDF","scope","sale_date","split","sale_items","item1","item_name","material_name","width","height","sqFt","sale_price","qty","total","length","date","amount"],"mappings":"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"},"input":"(this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"] = this[\"webpackJsonp@coreui/coreui-free-react-admin-template\"] || []).push([[90],{\n\n/***/ 831:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return DetailCustomerReport; });\n/* harmony import */ var _Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(664);\n/* harmony import */ var _Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(128);\n/* harmony import */ var _Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(665);\n/* harmony import */ var _Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(1);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var react_select__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(670);\n/* harmony import */ var src_helpers_helpers__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(663);\n/* harmony import */ var react_toastify__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(667);\n/* harmony import */ var _context_UserContext__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(100);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(18);\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__);\nfunction DetailCustomerReport(){var _React$useContext=react__WEBPACK_IMPORTED_MODULE_3___default.a.useContext(_context_UserContext__WEBPACK_IMPORTED_MODULE_7__[/* userContext */ \"b\"]),user=_React$useContext.user,setLoad=_React$useContext.setLoad;var _React$useState=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState([]),_React$useState2=Object(_Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState,2),customerDetailList=_React$useState2[0],setCustomerDetailList=_React$useState2[1];var _React$useState3=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(new Date()),_React$useState4=Object(_Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState3,2),from_Date=_React$useState4[0],setFromDate=_React$useState4[1];var _React$useState5=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(new Date()),_React$useState6=Object(_Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState5,2),to_Date=_React$useState6[0],setToDate=_React$useState6[1];var _React$useState7=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(''),_React$useState8=Object(_Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState7,2),currentCustomer=_React$useState8[0],setCurrentCustomer=_React$useState8[1];var _React$useState9=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(0),_React$useState10=Object(_Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState9,2),totalAmount=_React$useState10[0],settotalAmount=_React$useState10[1];var _React$useState11=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState(0),_React$useState12=Object(_Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState11,2),dueAmount=_React$useState12[0],setDueAmount=_React$useState12[1];var _React$useState13=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState([]),_React$useState14=Object(_Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState13,2),paymentlist=_React$useState14[0],setPaymentList=_React$useState14[1];var _React$useState15=react__WEBPACK_IMPORTED_MODULE_3___default.a.useState([]),_React$useState16=Object(_Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray_js__WEBPACK_IMPORTED_MODULE_1__[/* default */ \"a\"])(_React$useState15,2),allCustomers=_React$useState16[0],setAllCustomers=_React$useState16[1];var index=0;var index1=0;react__WEBPACK_IMPORTED_MODULE_3___default.a.useEffect(function(){setLoad(true);function fetchCustomers(){return _fetchCustomers.apply(this,arguments);}function _fetchCustomers(){_fetchCustomers=Object(_Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(/*#__PURE__*/_Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee(){var response,data;return _Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(src_helpers_helpers__WEBPACK_IMPORTED_MODULE_5__[/* url */ \"c\"]+'clientlist',{method:'GET',headers:{'Authorization':user===null||user===void 0?void 0:user.token}});case 2:response=_context.sent;if(!(response.ok===true)){_context.next=9;break;}_context.next=6;return response.json();case 6:data=_context.sent;setLoad(false);if(data.status===200){setAllCustomers(data===null||data===void 0?void 0:data.client_list.map(function(item){return{value:item.id,label:item.name,normal:item.normal,star:item.star,vinyl:item.vinyl,one_way:item.one_way,backlit:item.backlit,premium:item.premium,card12_18:item.card_12_18,sticker12_18:item.sticker_12_18,due_amount:item.due_amount};}));}else{react_toastify__WEBPACK_IMPORTED_MODULE_6__[/* toast */ \"b\"].error(data.message);}case 9:case\"end\":return _context.stop();}}},_callee);}));return _fetchCustomers.apply(this,arguments);}fetchCustomers();},[]);function handleSubmit(){if(to_Date&&from_Date&&currentCustomer){var submit=/*#__PURE__*/function(){var _ref=Object(_Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator_js__WEBPACK_IMPORTED_MODULE_0__[/* default */ \"a\"])(/*#__PURE__*/_Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.mark(function _callee2(){var response,data;return _Users_alihussainkabri_Downloads_projects_old_projects_erp2_0_erp_2_0_frontend_node_modules_babel_runtime_regenerator_index_js__WEBPACK_IMPORTED_MODULE_2___default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(src_helpers_helpers__WEBPACK_IMPORTED_MODULE_5__[/* url */ \"c\"]+'detailCustomerReport',{method:'POST',headers:{'Authorization':user===null||user===void 0?void 0:user.token},body:formData});case 2:response=_context2.sent;if(!(response.ok===true)){_context2.next=11;break;}_context2.next=6;return response.json();case 6:data=_context2.sent;setLoad(false);if(data.status===200){settotalAmount(parseFloat(data.total_amount).toFixed(2));setCustomerDetailList(data.customer_detail);setDueAmount(data.due_amount);console.log(data.payment_list);setPaymentList(data.payment_list);}else{react_toastify__WEBPACK_IMPORTED_MODULE_6__[/* toast */ \"b\"].error(data.message);}_context2.next=12;break;case 11:react_toastify__WEBPACK_IMPORTED_MODULE_6__[/* toast */ \"b\"].error('Oops something went wrong!');case 12:case\"end\":return _context2.stop();}}},_callee2);}));return function submit(){return _ref.apply(this,arguments);};}();setLoad(true);var formData=new FormData();formData.append('to',to_Date);formData.append('from',from_Date);formData.append('customer',JSON.stringify(currentCustomer));submit().catch(function(err){return react_toastify__WEBPACK_IMPORTED_MODULE_6__[/* toast */ \"b\"].error('Internal server error!. Please try again later');});}else{react_toastify__WEBPACK_IMPORTED_MODULE_6__[/* toast */ \"b\"].error('Please fill the to and from date');}}function exportPDF(){var html=document.getElementById('export-table').innerHTML;var myWindow=window.open('','Receipt');myWindow.document.write('<html><head><title>Receipt</title>');myWindow.document.write('<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css\" integrity=\"sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn\" crossorigin=\"anonymous\">');myWindow.document.write(\"</head><body>\");myWindow.document.write(html);myWindow.document.write('</body></html>');myWindow.document.close();myWindow.onload=function(){myWindow.focus();myWindow.print();};}return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"section\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(react_toastify__WEBPACK_IMPORTED_MODULE_6__[/* ToastContainer */ \"a\"],{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"div\",{class:\"d-flex\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"form\",{class:\"col-md-10 m-0 p-0\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"div\",{class:\"form-row m-0 p-0 create-purchase-header\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"div\",{class:\"form-group col-md-3\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"label\",{for:\"date\",children:[\"From\",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"span\",{className:\"required-label\",children:\"*\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"input\",{value:from_Date,onChange:function onChange(e){return setFromDate(e.target.value);},type:\"date\",class:\"form-control\",id:\"date\",required:true})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"div\",{class:\"form-group col-md-3\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"label\",{for:\"date\",children:[\"To\",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"span\",{className:\"required-label\",children:\"*\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"input\",{value:to_Date,onChange:function onChange(e){return setToDate(e.target.value);},type:\"date\",class:\"form-control\",id:\"date\",required:true})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"div\",{class:\"form-group col-md-3\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"label\",{for:\"input-customer\",children:[\"Customer\",/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"span\",{className:\"required-label\",children:\"*\"})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(react_select__WEBPACK_IMPORTED_MODULE_4__[/* default */ \"a\"],{options:allCustomers,value:currentCustomer,onChange:setCurrentCustomer})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"div\",{class:\"form-group col-md-2\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"button\",{type:\"button\",class:\"font-weight-bold my-4 py-2 px-4 btn btn-success\",onClick:function onClick(){return handleSubmit();},children:\"Submit\"})})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"div\",{class:\"col-md-2\",children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"button\",{onClick:function onClick(){return exportPDF();},class:\"font-weight-bold my-4 px-3 py-2 btn btn-success\",children:\"Export as PDF\"})})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"div\",{id:\"export-table\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"h6\",{className:\"text-center font-weight-bold\",children:currentCustomer===null||currentCustomer===void 0?void 0:currentCustomer.label}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"table\",{class:\"table\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"thead\",{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"th\",{scope:\"col\",children:\"Date\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"th\",{scope:\"col\",children:\"Item\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"th\",{scope:\"col\",children:\"Width\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"th\",{scope:\"col\",children:\"Height\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"th\",{scope:\"col\",children:\"Sq.Ft\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"th\",{scope:\"col\",children:\"Price\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"th\",{scope:\"col\",children:\"Qty\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"th\",{scope:\"col\",children:\"Total\"})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"tbody\",{children:customerDetailList.map(function(item){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"th\",{scope:\"row\",children:++index}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"td\",{children:Object(src_helpers_helpers__WEBPACK_IMPORTED_MODULE_5__[/* formatDate */ \"a\"])(item.sale_date.split(' ')[0])}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"td\",{children:item.sale_items.map(function(item1){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"p\",{children:[item1.item_name,\" (\",item1.material_name,\")\"]});})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"td\",{children:item.sale_items.map(function(item1){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"p\",{children:item1.width});})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"td\",{children:item.sale_items.map(function(item1){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"p\",{children:item1.height});})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"td\",{children:item.sale_items.map(function(item1){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"p\",{children:item1.sqFt});})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"td\",{children:item.sale_items.map(function(item1){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"p\",{children:item1.sale_price});})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"td\",{children:item.sale_items.map(function(item1){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"p\",{children:item1.qty});})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"td\",{children:item.sale_items.map(function(item1){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"p\",{children:parseFloat(item1.total).toFixed(2)});})})]});})})]}),paymentlist.length>0&&/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"Fragment\"],{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"h6\",{className:\"text-center font-weight-bold\",children:\"Payment Recieved\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"table\",{class:\"table\",children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"thead\",{children:/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"th\",{scope:\"col\",children:\"#\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"th\",{scope:\"col\",children:\"Reciept Number\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"th\",{scope:\"col\",children:\"Date\"}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"th\",{scope:\"col\",children:\"Amount\"})]})}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"tbody\",{children:paymentlist.map(function(item){return/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"tr\",{children:[/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"th\",{scope:\"row\",children:++index1}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"td\",{children:item.id}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"td\",{children:Object(src_helpers_helpers__WEBPACK_IMPORTED_MODULE_5__[/* formatDate */ \"a\"])(item.date.split(' ')[0])}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"td\",{children:item.amount})]});})})]})]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsx\"])(\"hr\",{}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"h6\",{className:\"float-right mr-3\",children:[\"Total Amount :- \",parseFloat(totalAmount).toFixed(2)]}),/*#__PURE__*/Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_8__[\"jsxs\"])(\"h6\",{className:\"float-right mr-3\",children:[\"Due Amount :- \",parseFloat(dueAmount).toFixed(2)]})]})]});}\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/src/screens/Reports/DetailCustomerReport.js"],"names":["DetailCustomerReport","React","useContext","userContext","user","setLoad","useState","customerDetailList","setCustomerDetailList","Date","from_Date","setFromDate","to_Date","setToDate","currentCustomer","setCurrentCustomer","totalAmount","settotalAmount","dueAmount","setDueAmount","paymentlist","setPaymentList","allCustomers","setAllCustomers","index","index1","useEffect","fetchCustomers","fetch","url","method","headers","token","response","ok","json","data","status","client_list","map","item","value","id","label","name","normal","star","vinyl","one_way","backlit","premium","card12_18","card_12_18","sticker12_18","sticker_12_18","due_amount","toast","error","message","handleSubmit","submit","body","formData","parseFloat","total_amount","toFixed","customer_detail","console","log","payment_list","FormData","append","JSON","stringify","catch","err","exportPDF","html","document","getElementById","innerHTML","myWindow","window","open","write","close","onload","focus","print","e","target","formatDate","sale_date","split","sale_items","item1","item_name","material_name","width","height","sqFt","sale_price","qty","total","length","date","amount"],"mappings":"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","file":"x","sourcesContent":["import React from 'react';\nimport Select from 'react-select';\nimport { url } from 'src/helpers/helpers';\nimport { toast, ToastContainer } from 'react-toastify';\nimport { userContext } from '../../context/UserContext';\nimport { formatDate } from '../../helpers/helpers';\nexport default function DetailCustomerReport() {\n\n    const { user, setLoad } = React.useContext(userContext);\n    const [customerDetailList, setCustomerDetailList] = React.useState([]);\n    const [from_Date, setFromDate] = React.useState(new Date());\n    const [to_Date, setToDate] = React.useState(new Date());\n    const [currentCustomer, setCurrentCustomer] = React.useState('');\n    const [totalAmount, settotalAmount] = React.useState(0);\n    const [dueAmount, setDueAmount] = React.useState(0);\n    const [paymentlist, setPaymentList] = React.useState([]);\n    const [allCustomers, setAllCustomers] = React.useState([]);\n    let index = 0;\n    let index1 = 0;\n    React.useEffect(() => {\n        setLoad(true)\n        async function fetchCustomers() {\n            const response = await fetch(url + 'clientlist', {\n                method: 'GET',\n                headers: {\n                    'Authorization': user?.token\n                }\n            })\n            if (response.ok === true) {\n                const data = await response.json();\n                setLoad(false)\n                if (data.status === 200) {\n                    setAllCustomers(data?.client_list.map(item => {\n                        return {\n                            value: item.id,\n                            label: item.name,\n                            normal: item.normal,\n                            star: item.star,\n                            vinyl: item.vinyl,\n                            one_way: item.one_way,\n                            backlit: item.backlit,\n                            premium: item.premium,\n                            card12_18: item.card_12_18,\n                            sticker12_18: item.sticker_12_18,\n                            due_amount: item.due_amount\n                        }\n                    }))\n                }\n                else {\n                    toast.error(data.message)\n                }\n            }\n        }\n        fetchCustomers();\n    }, [])\n\n    function handleSubmit() {\n        if (to_Date && from_Date && currentCustomer) {\n            setLoad(true)\n            const formData = new FormData();\n            formData.append('to', to_Date);\n            formData.append('from', from_Date);\n            formData.append('customer', JSON.stringify(currentCustomer));\n            async function submit() {\n                const response = await fetch(url + 'detailCustomerReport', {\n                    method: 'POST',\n                    headers: {\n                        'Authorization': user?.token\n                    },\n                    body: formData\n                });\n\n                if (response.ok === true) {\n                    const data = await response.json();\n                    setLoad(false)\n                    if (data.status === 200) {\n                        settotalAmount(parseFloat(data.total_amount).toFixed(2));\n                        setCustomerDetailList(data.customer_detail);\n                        setDueAmount(data.due_amount);\n                        console.log(data.payment_list);\n                        setPaymentList(data.payment_list);\n                    } else {\n                        toast.error(data.message)\n                    }\n                } else {\n                    toast.error('Oops something went wrong!')\n                }\n            }\n\n            submit().catch(err => toast.error('Internal server error!. Please try again later'))\n        } else {\n            toast.error('Please fill the to and from date')\n        }\n    }\n\n    function exportPDF() {\n        const html = document.getElementById('export-table').innerHTML;\n        var myWindow = window.open('', 'Receipt');\n        myWindow.document.write('<html><head><title>Receipt</title>');\n        myWindow.document.write('<link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css\" integrity=\"sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn\" crossorigin=\"anonymous\">')\n        myWindow.document.write(\"</head><body>\");\n        myWindow.document.write(html);\n        myWindow.document.write('</body></html>');\n        myWindow.document.close();\n\n        myWindow.onload = function () {\n            myWindow.focus();\n            myWindow.print();\n        }\n    }\n\n    return (\n        <section>\n            <ToastContainer />\n            <div class=\"d-flex\">\n                <form class=\"col-md-10 m-0 p-0\">\n                    <div class=\"form-row m-0 p-0 create-purchase-header\">\n                        <div class=\"form-group col-md-3\">\n                            <label for=\"date\">From<span className='required-label'>*</span></label>\n                            <input value={from_Date} onChange={e => setFromDate(e.target.value)} type=\"date\" class=\"form-control\" id=\"date\" required />\n                        </div>\n                        <div class=\"form-group col-md-3\">\n                            <label for=\"date\">To<span className='required-label'>*</span></label>\n                            <input value={to_Date} onChange={e => setToDate(e.target.value)} type=\"date\" class=\"form-control\" id=\"date\" required />\n                        </div>\n                        <div class=\"form-group col-md-3\">\n                            <label for=\"input-customer\">Customer<span className='required-label'>*</span></label>\n                            <Select options={allCustomers} value={currentCustomer} onChange={setCurrentCustomer} />\n                        </div>\n                        <div class=\"form-group col-md-2\">\n                            <button type=\"button\" class=\"font-weight-bold my-4 py-2 px-4 btn btn-success\" onClick={() => handleSubmit()}>Submit</button>\n                        </div>\n                    </div>\n                </form>\n                <div class=\"col-md-2\">\n                    <button onClick={() => exportPDF()} class=\"font-weight-bold my-4 px-3 py-2 btn btn-success\">Export as PDF</button>\n                </div>\n            </div>\n            {/* table code */}\n            <div id=\"export-table\">\n                <h6 className='text-center font-weight-bold'>{currentCustomer?.label}</h6>\n                <table class=\"table\">\n                    <thead>\n                        <tr>\n                            <th scope=\"col\">#</th>\n                            <th scope=\"col\">Date</th>\n                            <th scope=\"col\">Item</th>\n                            <th scope=\"col\">Width</th>\n                            <th scope=\"col\">Height</th>\n                            <th scope=\"col\">Sq.Ft</th>\n                            <th scope=\"col\">Price</th>\n                            <th scope=\"col\">Qty</th>\n                            <th scope=\"col\">Total</th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {customerDetailList.map((item) => {\n                            return (\n                                <tr>\n                                    <th scope=\"row\">{++index}</th>\n                                    <td>{formatDate(item.sale_date.split(' ')[0])}</td>\n                                    <td>\n                                        {item.sale_items.map((item1) => {\n                                            return (\n                                                <p>{item1.item_name} ({item1.material_name})</p>\n                                            )\n                                        })}\n                                    </td>\n                                    <td>\n                                        {item.sale_items.map((item1) => {\n                                            return (\n                                                <p>{item1.width}</p>\n                                            )\n                                        })}\n                                    </td>\n                                    <td>\n                                        {item.sale_items.map((item1) => {\n                                            return (\n                                                <p>{item1.height}</p>\n                                            )\n                                        })}\n                                    </td>\n                                    <td>\n                                        {item.sale_items.map((item1) => {\n                                            return (\n                                                <p>{item1.sqFt}</p>\n                                            )\n                                        })}\n                                    </td>\n                                    <td>\n                                        {item.sale_items.map((item1) => {\n                                            return (\n                                                <p>{item1.sale_price}</p>\n                                            )\n                                        })}\n                                    </td>\n                                    <td>\n                                        {item.sale_items.map((item1) => {\n                                            return (\n                                                <p>{item1.qty}</p>\n                                            )\n                                        })}\n                                    </td>\n                                    <td>\n                                        {item.sale_items.map((item1) => {\n                                            return (\n                                                <p>{parseFloat(item1.total).toFixed(2)}</p>\n                                            )\n                                        })}\n                                    </td>\n                                </tr>\n                            )\n                        }\n                        )}\n                    </tbody>\n                </table>\n                {paymentlist.length > 0 && (\n                    <>\n                        <h6 className='text-center font-weight-bold'>Payment Recieved</h6>\n                        <table class=\"table\">\n                            <thead>\n                                <tr>\n                                    <th scope=\"col\">#</th>\n                                    <th scope=\"col\">Reciept Number</th>\n                                    <th scope=\"col\">Date</th>\n                                    <th scope=\"col\">Amount</th>\n                                </tr>\n                            </thead>\n                            <tbody>\n                                {paymentlist.map((item) => {\n                                    return (\n                                        <tr>\n                                            <th scope=\"row\">{++index1}</th>\n                                            <td>{item.id}</td>\n                                            <td>{formatDate(item.date.split(' ')[0])}</td>\n                                            <td>{item.amount}</td>\n                                        </tr>\n                                    )\n                                }\n                                )}\n                            </tbody>\n                        </table>\n                    </>\n                )}\n                <hr />\n                <h6 className='float-right mr-3'>Total Amount :- {parseFloat(totalAmount).toFixed(2)}</h6>\n                <h6 className='float-right mr-3'>Due Amount :- {parseFloat(dueAmount).toFixed(2)}</h6>\n            </div>\n        </section >\n    )\n}"]}}