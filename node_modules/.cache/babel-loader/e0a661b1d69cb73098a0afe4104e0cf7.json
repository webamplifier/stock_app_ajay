{"ast":null,"code":"import _asyncToGenerator from\"/Volumes/Disk SSD/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Volumes/Disk SSD/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Volumes/Disk SSD/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import{toast,ToastContainer}from'react-toastify';import{userContext}from'../../context/UserContext';import{url}from'src/helpers/helpers';import{useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Edit(){var _useParams=useParams(),id=_useParams.id;var _React$useContext=React.useContext(userContext),user=_React$useContext.user,setLoad=_React$useContext.setLoad;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),ifsc=_React$useState4[0],setIFSC=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),branch=_React$useState6[0],setBranch=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),accno=_React$useState8[0],setAccNo=_React$useState8[1];var _React$useState9=React.useState(0),_React$useState10=_slicedToArray(_React$useState9,2),total_amount=_React$useState10[0],setTotalAmount=_React$useState10[1];var handleSubmit=function handleSubmit(e){setLoad(true);e.preventDefault();function submitData(){return _submitData.apply(this,arguments);}function _submitData(){_submitData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var formData,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formData=new FormData();formData.append('name',name);formData.append('accno',accno);formData.append('ifsc',ifsc);formData.append('branch',branch);formData.append('total_amount',total_amount);_context.next=8;return fetch(url+'updatebank/'+id,{method:'POST',headers:{'Authorization':user===null||user===void 0?void 0:user.token},body:formData});case 8:response=_context.sent;if(!(response.ok===true)){_context.next=19;break;}_context.next=12;return response.json();case 12:data=_context.sent;setLoad(false);if(!(data.status===200)){_context.next=18;break;}return _context.abrupt(\"return\",window.location=window.location.origin+'/#/bankList');case 18:toast.error(data.message);case 19:case\"end\":return _context.stop();}}},_callee);}));return _submitData.apply(this,arguments);}submitData();};React.useEffect(function(){setLoad(true);function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,data,bank_detail;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(url+'bankById/'+id,{method:'GET',headers:{'Authorization':user.token}});case 2:response=_context2.sent;if(!(response.ok===true)){_context2.next=14;break;}_context2.next=6;return response.json();case 6:data=_context2.sent;setLoad(false);bank_detail=data.bank_detail;setName(bank_detail.name);setAccNo(bank_detail.accno);setBranch(bank_detail.branch);setIFSC(bank_detail.ifsc);setTotalAmount(bank_detail.total_amount);case 14:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchData.apply(this,arguments);}fetchData();},[id]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container create-page-main-section\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-sm-5 create-form-field\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:[\"Bank No\",/*#__PURE__*/_jsx(\"span\",{className:\"required-label\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{required:true,value:accno,onChange:function onChange(e){return setAccNo(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputPassword\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:[\"Name\",/*#__PURE__*/_jsx(\"span\",{className:\"required-label\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{required:true,value:name,onChange:function onChange(e){return setName(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputPassword\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:\"IFSC\"}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{value:ifsc,onChange:function onChange(e){return setIFSC(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputPassword\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:\"Branch\"}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{value:branch,onChange:function onChange(e){return setBranch(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputPassword\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:\"Total Amount\"}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{value:total_amount,onChange:function onChange(e){return setTotalAmount(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputPassword\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"d-flex justify-content-center create-catagory-btns\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return window.location.reload();},type:\"submit\",class:\"font-weight-bold m-3 py-2 px-4 btn btn-danger\",children:[\"Cancel\",/*#__PURE__*/_jsx(\"i\",{class:\"px-2 fa fa-times\",\"aria-hidden\":\"true\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",class:\"font-weight-bold m-3 py-2 px-4 btn btn-success\",children:[\"Save\",/*#__PURE__*/_jsx(\"i\",{class:\"px-2 fa fa-floppy-o\",\"aria-hidden\":\"true\"})]})]})]})]});}","map":{"version":3,"sources":["/Volumes/Disk SSD/erp2.0/erp-2.0/frontend/src/screens/Bank/edit.js"],"names":["React","toast","ToastContainer","userContext","url","useParams","Edit","id","useContext","user","setLoad","useState","name","setName","ifsc","setIFSC","branch","setBranch","accno","setAccNo","total_amount","setTotalAmount","handleSubmit","e","preventDefault","submitData","formData","FormData","append","fetch","method","headers","token","body","response","ok","json","data","status","window","location","origin","error","message","useEffect","fetchData","bank_detail","target","value","reload"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { toast, ToastContainer } from 'react-toastify'\nimport { userContext } from '../../context/UserContext'\nimport { url } from 'src/helpers/helpers';\nimport { useParams } from 'react-router-dom'\n\nexport default function Edit() {\n    const { id } = useParams();\n    const { user,setLoad } = React.useContext(userContext);\n    const [name, setName] = React.useState('');\n    const [ifsc,setIFSC] = React.useState('');\n    const [branch,setBranch] = React.useState('');\n    const [accno, setAccNo] = React.useState('');\n    const [total_amount, setTotalAmount] = React.useState(0);\n\n    const handleSubmit = e => {\n        setLoad(true)\n        e.preventDefault();\n        async function submitData() {\n            const formData = new FormData();\n            formData.append('name', name);\n            formData.append('accno', accno);\n            formData.append('ifsc', ifsc);\n            formData.append('branch',branch);\n            formData.append('total_amount', total_amount);\n\n            const response = await fetch(url + 'updatebank/' + id, {\n                method: 'POST',\n                headers: {\n                    'Authorization': user?.token\n                },\n                body: formData\n            })\n\n            if (response.ok === true) {\n                const data = await response.json();\n                setLoad(false)\n                if (data.status === 200) {\n                    return window.location = window.location.origin + '/#/bankList'\n                } else {\n                    toast.error(data.message)\n                }\n            }\n        }\n        submitData();\n    }\n\n    React.useEffect(() => {\n        setLoad(true)\n        async function fetchData() {\n            const response = await fetch(url + 'bankById/' + id, {\n                method: 'GET',\n                headers: {\n                    'Authorization': user.token\n                }\n            })\n\n            if (response.ok === true) {\n                const data = await response.json();\n                setLoad(false)\n                const bank_detail = data.bank_detail;\n                setName(bank_detail.name);\n                setAccNo(bank_detail.accno);\n                setBranch(bank_detail.branch);\n                setIFSC(bank_detail.ifsc);\n                setTotalAmount(bank_detail.total_amount);\n            }\n        }\n        fetchData();\n    }, [id])\n\n    return (\n        <div className=\"container create-page-main-section\">\n            <ToastContainer />\n            <form onSubmit={e => handleSubmit(e)}>\n                <div className='p-sm-5 create-form-field'>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Bank No<span className='required-label'>*</span></label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input required value={accno} onChange={e => setAccNo(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Name<span className='required-label'>*</span></label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input required value={name} onChange={e => setName(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">IFSC</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={ifsc} onChange={e => setIFSC(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Branch</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={branch} onChange={e => setBranch(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Total Amount</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={total_amount} onChange={e => setTotalAmount(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                </div>\n                <div class=\"d-flex justify-content-center create-catagory-btns\">\n                    <button onClick={() => window.location.reload()} type=\"submit\" class=\"font-weight-bold m-3 py-2 px-4 btn btn-danger\">Cancel<i\n                        class=\"px-2 fa fa-times\" aria-hidden=\"true\"></i></button>\n                    <button type=\"submit\" class=\"font-weight-bold m-3 py-2 px-4 btn btn-success\">Save<i\n                        class=\"px-2 fa fa-floppy-o\" aria-hidden=\"true\"></i></button>\n                </div>\n            </form>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}