{"ast":null,"code":"import _asyncToGenerator from\"/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import{Link}from'react-router-dom';import{CButton,CCard,CCardBody,CCardGroup,CCol,CContainer,CForm,CInput,CInputGroup,CInputGroupPrepend,CInputGroupText,CRow}from'@coreui/react';import CIcon from'@coreui/icons-react';import{url}from'src/helpers/helpers';import{userContext}from'../../../context/UserContext';import{toast,ToastContainer}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(){var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),email=_React$useState2[0],setEmail=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),password=_React$useState4[0],setPassword=_React$useState4[1];var _React$useContext=React.useContext(userContext),setUser=_React$useContext.setUser,setLoad=_React$useContext.setLoad;var handleSubmit=function handleSubmit(e){setLoad(true);e.preventDefault();function loginData(){return _loginData.apply(this,arguments);}function _loginData(){_loginData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var formData,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formData=new FormData();formData.append('email',email);formData.append('password',password);_context.next=5;return fetch(url+'login',{method:'POST',body:formData});case 5:response=_context.sent;if(!(response.ok===true)){_context.next=12;break;}_context.next=9;return response.json();case 9:data=_context.sent;setLoad(false);if(data.status===200){setUser(data.user_data);window.location=window.location.origin+'/';}else{toast.error(data.message);}case 12:case\"end\":return _context.stop();}}},_callee);}));return _loginData.apply(this,arguments);}loginData();};return/*#__PURE__*/_jsxs(\"div\",{className:\"c-app c-default-layout flex-row align-items-center\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(CContainer,{children:/*#__PURE__*/_jsx(CRow,{className:\"justify-content-center\",children:/*#__PURE__*/_jsx(CCol,{md:\"8\",children:/*#__PURE__*/_jsx(CCardGroup,{children:/*#__PURE__*/_jsx(CCard,{className:\"p-4\",children:/*#__PURE__*/_jsx(CCardBody,{children:/*#__PURE__*/_jsxs(CForm,{onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Login\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-muted\",children:\"Sign In to your account\"}),/*#__PURE__*/_jsxs(CInputGroup,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(CInputGroupPrepend,{children:/*#__PURE__*/_jsx(CInputGroupText,{children:/*#__PURE__*/_jsx(CIcon,{name:\"cil-user\"})})}),/*#__PURE__*/_jsx(CInput,{type:\"email\",required:true,placeholder:\"Email\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},autoComplete:\"email\"})]}),/*#__PURE__*/_jsxs(CInputGroup,{className:\"mb-4\",children:[/*#__PURE__*/_jsx(CInputGroupPrepend,{children:/*#__PURE__*/_jsx(CInputGroupText,{children:/*#__PURE__*/_jsx(CIcon,{name:\"cil-lock-locked\"})})}),/*#__PURE__*/_jsx(CInput,{type:\"password\",placeholder:\"Password\",value:password,onChange:function onChange(e){return setPassword(e.target.value);},autoComplete:\"current-password\"})]}),/*#__PURE__*/_jsxs(CRow,{children:[/*#__PURE__*/_jsx(CCol,{xs:\"6\",children:/*#__PURE__*/_jsx(CButton,{type:\"submit\",color:\"primary\",className:\"px-4\",children:\"Login\"})}),/*#__PURE__*/_jsx(CCol,{xs:\"6\",className:\"text-right\",children:/*#__PURE__*/_jsx(CButton,{color:\"link\",className:\"px-0\",children:\"Forgot password?\"})})]})]})})})})})})})]});};export default Login;","map":{"version":3,"sources":["/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/src/views/pages/login/Login.js"],"names":["React","Link","CButton","CCard","CCardBody","CCardGroup","CCol","CContainer","CForm","CInput","CInputGroup","CInputGroupPrepend","CInputGroupText","CRow","CIcon","url","userContext","toast","ToastContainer","Login","useState","email","setEmail","password","setPassword","useContext","setUser","setLoad","handleSubmit","e","preventDefault","loginData","formData","FormData","append","fetch","method","body","response","ok","json","data","status","user_data","window","location","origin","error","message","target","value"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Link } from 'react-router-dom'\nimport {\n  CButton,\n  CCard,\n  CCardBody,\n  CCardGroup,\n  CCol,\n  CContainer,\n  CForm,\n  CInput,\n  CInputGroup,\n  CInputGroupPrepend,\n  CInputGroupText,\n  CRow\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport { url } from 'src/helpers/helpers'\nimport {userContext} from '../../../context/UserContext'\nimport {toast,ToastContainer} from 'react-toastify'\n\nconst Login = () => {\n  const [email,setEmail] = React.useState('');\n  const [password,setPassword] = React.useState('');\n  const {setUser,setLoad} = React.useContext(userContext);\n\n  const handleSubmit = e =>{\n    setLoad(true)\n    e.preventDefault();\n\n    async function loginData(){\n      const formData = new FormData();\n      formData.append('email',email);\n      formData.append('password',password);\n      const response = await fetch(url + 'login',{\n        method : 'POST',\n        body : formData\n      })\n\n      if (response.ok === true){\n        const data = await response.json();\n        setLoad(false)\n        if (data.status === 200){\n          setUser(data.user_data)\n          window.location = window.location.origin + '/'\n        }else{\n          toast.error(data.message)\n        }\n      }\n    }\n    loginData();\n  }\n\n\n  return (\n    <div className=\"c-app c-default-layout flex-row align-items-center\">\n      <ToastContainer />\n      <CContainer>\n        <CRow className=\"justify-content-center\">\n          <CCol md=\"8\">\n            <CCardGroup>\n              <CCard className=\"p-4\">\n                <CCardBody>\n                  <CForm onSubmit={e=>handleSubmit(e)}>\n                    <h1>Login</h1>\n                    <p className=\"text-muted\">Sign In to your account</p>\n                    <CInputGroup className=\"mb-3\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-user\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <CInput type=\"email\" required placeholder=\"Email\" value={email} onChange={e=>setEmail(e.target.value)} autoComplete=\"email\" />\n                    </CInputGroup>\n                    <CInputGroup className=\"mb-4\">\n                      <CInputGroupPrepend>\n                        <CInputGroupText>\n                          <CIcon name=\"cil-lock-locked\" />\n                        </CInputGroupText>\n                      </CInputGroupPrepend>\n                      <CInput type=\"password\" placeholder=\"Password\" value={password} onChange={e=>setPassword(e.target.value)} autoComplete=\"current-password\" />\n                    </CInputGroup>\n                    <CRow>\n                      <CCol xs=\"6\">\n                        <CButton type='submit' color=\"primary\" className=\"px-4\">Login</CButton>\n                      </CCol>\n                      <CCol xs=\"6\" className=\"text-right\">\n                        <CButton color=\"link\" className=\"px-0\">Forgot password?</CButton>\n                      </CCol>\n                    </CRow>\n                  </CForm>\n                </CCardBody>\n              </CCard>\n            </CCardGroup>\n          </CCol>\n        </CRow>\n      </CContainer>\n    </div>\n  )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}