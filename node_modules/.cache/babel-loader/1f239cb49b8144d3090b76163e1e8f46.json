{"ast":null,"code":"import _asyncToGenerator from\"/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import{toast,ToastContainer}from'react-toastify';import{userContext}from'../../context/UserContext';import{url}from'src/helpers/helpers';import{useParams}from'react-router-dom';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Edit(){var _useParams=useParams(),id=_useParams.id;var _React$useContext=React.useContext(userContext),user=_React$useContext.user,setLoad=_React$useContext.setLoad;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),email=_React$useState4[0],setEmail=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),password=_React$useState6[0],setPassword=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),status=_React$useState8[0],setStatus=_React$useState8[1];var _React$useState9=React.useState(''),_React$useState10=_slicedToArray(_React$useState9,2),mobile=_React$useState10[0],setMobile=_React$useState10[1];var _React$useState11=React.useState(''),_React$useState12=_slicedToArray(_React$useState11,2),address=_React$useState12[0],setAddress=_React$useState12[1];var _React$useState13=React.useState(''),_React$useState14=_slicedToArray(_React$useState13,2),expiry_date=_React$useState14[0],setExpiryDate=_React$useState14[1];var _React$useState15=React.useState(''),_React$useState16=_slicedToArray(_React$useState15,2),print_pref_purchase=_React$useState16[0],setPrintPrefPurchase=_React$useState16[1];var _React$useState17=React.useState(''),_React$useState18=_slicedToArray(_React$useState17,2),print_pref_sales=_React$useState18[0],setPrintPrefSales=_React$useState18[1];var _React$useState19=React.useState(''),_React$useState20=_slicedToArray(_React$useState19,2),gst=_React$useState20[0],setGST=_React$useState20[1];var _React$useState21=React.useState(''),_React$useState22=_slicedToArray(_React$useState21,2),non_gst_name=_React$useState22[0],setNonGSTName=_React$useState22[1];var _React$useState23=React.useState(false),_React$useState24=_slicedToArray(_React$useState23,2),default_gst=_React$useState24[0],setDefaultGST=_React$useState24[1];var _React$useState25=React.useState(0),_React$useState26=_slicedToArray(_React$useState25,2),first_amount=_React$useState26[0],setFirstAmount=_React$useState26[1];var _React$useState27=React.useState(0),_React$useState28=_slicedToArray(_React$useState27,2),renew_amount=_React$useState28[0],setRenewAmount=_React$useState28[1];var handleSubmit=function handleSubmit(e){setLoad(true);e.preventDefault();function submitData(){return _submitData.apply(this,arguments);}function _submitData(){_submitData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var formData,response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formData=new FormData();formData.append('name',name);formData.append('email',email);formData.append('password',password);formData.append('mobile',mobile);formData.append('address',address);formData.append('gst',gst);formData.append('status',status);formData.append('expiry_date',expiry_date);formData.append('print_pref_purchase',print_pref_purchase);formData.append('print_pref_sales',print_pref_sales);formData.append('first_amount',first_amount);formData.append('renew_amount',renew_amount);formData.append('non_gst_name',non_gst_name);formData.append('default_gst',default_gst);_context.next=17;return fetch(url+'updatecompany/'+id,{method:'POST',headers:{'Authorization':user===null||user===void 0?void 0:user.token},body:formData});case 17:response=_context.sent;if(!(response.ok===true)){_context.next=28;break;}_context.next=21;return response.json();case 21:data=_context.sent;setLoad(false);if(!(data.status===200)){_context.next=27;break;}return _context.abrupt(\"return\",window.location=window.location.origin+'/#/companyList');case 27:toast.error(data.message);case 28:case\"end\":return _context.stop();}}},_callee);}));return _submitData.apply(this,arguments);}submitData();};React.useEffect(function(){setLoad(true);function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,data,company_detail;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(url+'companyById/'+id,{method:'GET',headers:{'Authorization':user.token}});case 2:response=_context2.sent;if(!(response.ok===true)){_context2.next=23;break;}_context2.next=6;return response.json();case 6:data=_context2.sent;setLoad(false);company_detail=data.company_detail;setName(company_detail.name);setEmail(company_detail.email);setMobile(company_detail.mobile);setPassword(company_detail.password);setAddress(company_detail.address);setGST(company_detail.gst);setExpiryDate(company_detail.expiry_date);setStatus(company_detail.status);setPrintPrefPurchase(company_detail.print_preference_purchase);setPrintPrefSales(company_detail.print_preference_sales);setFirstAmount(company_detail.one_time_amount);setRenewAmount(company_detail.renew_amount);setNonGSTName(company_detail.non_gst_name);setDefaultGST(company_detail.default_gst);case 23:case\"end\":return _context2.stop();}}},_callee2);}));return _fetchData.apply(this,arguments);}fetchData();},[id]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container create-page-main-section\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-sm-5 create-form-field\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:[\"Name:\",/*#__PURE__*/_jsx(\"span\",{className:\"required-label\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{required:true,value:name,onChange:function onChange(e){return setName(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputPassword\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:\"Email:\"}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{value:email,onChange:function onChange(e){return setEmail(e.target.value);},type:\"email\",class:\"form-control\",id:\"inputPassword\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:\"Password:\"}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{value:password,onChange:function onChange(e){return setPassword(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputPassword\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:\"Mobile No:\"}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{value:mobile,onChange:function onChange(e){return setMobile(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputPassword\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:\"GST:\"}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex b-0 col-sm-1\",children:/*#__PURE__*/_jsx(\"input\",{checked:default_gst,type:\"checkbox\",onChange:function onChange(e){return setDefaultGST(!default_gst);},id:\"inputPassword\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:\"GST No:\"}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{value:gst,onChange:function onChange(e){return setGST(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputPassword\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:\"Non GST Name:-\"}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{value:non_gst_name,onChange:function onChange(e){return setNonGSTName(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputPassword\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:\"Print Preference(Purchase):\"}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsxs(\"select\",{value:print_pref_purchase,onChange:function onChange(e){return setPrintPrefPurchase(e.target.value);},class:\"form-control\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Preference\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Thermal\",children:\"Thermal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"A4\",children:\"A4\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:\"Print Preference(Sales):\"}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsxs(\"select\",{value:print_pref_sales,onChange:function onChange(e){return setPrintPrefSales(e.target.value);},class:\"form-control\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Preference\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Thermal\",children:\"Thermal\"}),/*#__PURE__*/_jsx(\"option\",{value:\"A4\",children:\"A4\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:\"First Amount:\"}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{value:first_amount,onChange:function onChange(e){return setFirstAmount(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputPassword\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:\"Renew Amount\"}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{value:renew_amount,onChange:function onChange(e){return setRenewAmount(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputPassword\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:\"Expiry Date:\"}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{value:expiry_date,onChange:function onChange(e){return setExpiryDate(e.target.value);},type:\"date\",class:\"form-control\",id:\"inputPassword\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:\"Status:\"}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsxs(\"select\",{value:status,onChange:function onChange(e){return setStatus(e.target.value);},class:\"form-control\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Status\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"Active\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"InActive\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{class:\"col-sm-2 col-form-label\",for:\"exampleFormControlTextarea1\",children:\"Address:\"}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"textarea\",{value:address,onChange:function onChange(e){return setAddress(e.target.value);},class:\"form-control\",id:\"exampleFormControlTextarea1\",rows:\"3\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"d-flex justify-content-center create-catagory-btns\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:function onClick(){return window.location.reload();},type:\"submit\",class:\"font-weight-bold m-3 py-2 px-4 btn btn-danger\",children:[\"Cancel\",/*#__PURE__*/_jsx(\"i\",{class:\"px-2 fa fa-times\",\"aria-hidden\":\"true\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",class:\"font-weight-bold m-3 py-2 px-4 btn btn-success\",children:[\"Save\",/*#__PURE__*/_jsx(\"i\",{class:\"px-2 fa fa-floppy-o\",\"aria-hidden\":\"true\"})]})]})]})]});}","map":{"version":3,"sources":["/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/src/screens/Companies/edit.js"],"names":["React","toast","ToastContainer","userContext","url","useParams","Edit","id","useContext","user","setLoad","useState","name","setName","email","setEmail","password","setPassword","status","setStatus","mobile","setMobile","address","setAddress","expiry_date","setExpiryDate","print_pref_purchase","setPrintPrefPurchase","print_pref_sales","setPrintPrefSales","gst","setGST","non_gst_name","setNonGSTName","default_gst","setDefaultGST","first_amount","setFirstAmount","renew_amount","setRenewAmount","handleSubmit","e","preventDefault","submitData","formData","FormData","append","fetch","method","headers","token","body","response","ok","json","data","window","location","origin","error","message","useEffect","fetchData","company_detail","print_preference_purchase","print_preference_sales","one_time_amount","target","value","reload"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { toast, ToastContainer } from 'react-toastify'\nimport { userContext } from '../../context/UserContext'\nimport { url } from 'src/helpers/helpers';\nimport { useParams } from 'react-router-dom'\n\nexport default function Edit() {\n    const { id } = useParams();\n    const { user,setLoad } = React.useContext(userContext);\n    const [name, setName] = React.useState('');\n    const [email, setEmail] = React.useState('');\n    const [password, setPassword] = React.useState('');\n    const [status, setStatus] = React.useState('');\n    const [mobile, setMobile] = React.useState('');\n    const [address, setAddress] = React.useState('');\n    const [expiry_date, setExpiryDate] = React.useState('');\n    const [print_pref_purchase, setPrintPrefPurchase] = React.useState('');\n    const [print_pref_sales, setPrintPrefSales] = React.useState('');\n    const [gst, setGST] = React.useState('');\n    const [non_gst_name, setNonGSTName] = React.useState('');\n    const [default_gst, setDefaultGST] = React.useState(false);\n    const [first_amount, setFirstAmount] = React.useState(0);\n    const [renew_amount, setRenewAmount] = React.useState(0);\n\n    const handleSubmit = e => {\n        setLoad(true)\n        e.preventDefault();\n        async function submitData() {\n            const formData = new FormData();\n            formData.append('name', name);\n            formData.append('email', email);\n            formData.append('password', password);\n            formData.append('mobile', mobile);\n            formData.append('address', address);\n            formData.append('gst', gst);\n            formData.append('status', status);\n            formData.append('expiry_date',expiry_date);\n            formData.append('print_pref_purchase', print_pref_purchase);\n            formData.append('print_pref_sales', print_pref_sales);\n            formData.append('first_amount', first_amount);\n            formData.append('renew_amount', renew_amount);\n            formData.append('non_gst_name', non_gst_name);\n            formData.append('default_gst', default_gst);\n\n            const response = await fetch(url + 'updatecompany/' + id, {\n                method: 'POST',\n                headers: {\n                    'Authorization': user?.token\n                },\n                body: formData\n            })\n\n            if (response.ok === true) {\n                const data = await response.json();\n                setLoad(false)\n                if (data.status === 200) {\n                    return window.location = window.location.origin + '/#/companyList'\n                } else {\n                    toast.error(data.message)\n                }\n            }\n        }\n        submitData();\n    }\n\n    React.useEffect(() => {\n        setLoad(true)\n        async function fetchData() {\n            const response = await fetch(url + 'companyById/' + id, {\n                method: 'GET',\n                headers: {\n                    'Authorization': user.token\n                }\n            })\n\n            if (response.ok === true) {\n                const data = await response.json();\n                setLoad(false)\n                const company_detail = data.company_detail;\n                setName(company_detail.name);\n                setEmail(company_detail.email);\n                setMobile(company_detail.mobile);\n                setPassword(company_detail.password);\n                setAddress(company_detail.address);\n                setGST(company_detail.gst);\n                setExpiryDate(company_detail.expiry_date);\n                setStatus(company_detail.status);\n                setPrintPrefPurchase(company_detail.print_preference_purchase);\n                setPrintPrefSales(company_detail.print_preference_sales);\n                setFirstAmount(company_detail.one_time_amount);\n                setRenewAmount(company_detail.renew_amount);\n                setNonGSTName(company_detail.non_gst_name);\n                setDefaultGST(company_detail.default_gst);\n            }\n        }\n        fetchData();\n    }, [id])\n\n    return (\n        <div className=\"container create-page-main-section\">\n            <ToastContainer />\n            <form onSubmit={e => handleSubmit(e)}>\n                <div className='p-sm-5 create-form-field'>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Name:<span className='required-label'>*</span></label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input required value={name} onChange={e => setName(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Email:</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={email} onChange={e => setEmail(e.target.value)} type=\"email\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Password:</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={password} onChange={e => setPassword(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Mobile No:</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={mobile} onChange={e => setMobile(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">GST:</label>\n                        <div class=\"d-flex b-0 col-sm-1\">\n                        <input checked={default_gst} type=\"checkbox\" onChange={e => setDefaultGST(!default_gst)} id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">GST No:</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={gst} onChange={e => setGST(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Non GST Name:-</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={non_gst_name} onChange={e => setNonGSTName(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Print Preference(Purchase):</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                        <select value={print_pref_purchase} onChange={e => setPrintPrefPurchase(e.target.value)} class=\"form-control\" required>\n                            <option value=\"\">Select Preference</option>\n                            <option value=\"Thermal\">Thermal</option>\n                            <option value=\"A4\">A4</option>\n                        </select>\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Print Preference(Sales):</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                        <select value={print_pref_sales} onChange={e => setPrintPrefSales(e.target.value)} class=\"form-control\" required>\n                            <option value=\"\">Select Preference</option>\n                            <option value=\"Thermal\">Thermal</option>\n                            <option value=\"A4\">A4</option>\n                        </select>\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">First Amount:</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={first_amount} onChange={e => setFirstAmount(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Renew Amount</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={renew_amount} onChange={e => setRenewAmount(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Expiry Date:</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={expiry_date} onChange={e => setExpiryDate(e.target.value)} type=\"date\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Status:</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                        <select value={status} onChange={e => setStatus(e.target.value)} class=\"form-control\" required>\n                            <option value=\"\">Select Status</option>\n                            <option value=\"1\">Active</option>\n                            <option value=\"2\">InActive</option>\n                        </select>\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label class=\"col-sm-2 col-form-label\" for=\"exampleFormControlTextarea1\">Address:</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <textarea value={address} onChange={e => setAddress(e.target.value)} class=\"form-control\" id=\"exampleFormControlTextarea1\" rows=\"3\"></textarea>\n                        </div>\n                    </div>\n                </div>\n                <div class=\"d-flex justify-content-center create-catagory-btns\">\n                    <button onClick={() => window.location.reload()} type=\"submit\" class=\"font-weight-bold m-3 py-2 px-4 btn btn-danger\">Cancel<i\n                        class=\"px-2 fa fa-times\" aria-hidden=\"true\"></i></button>\n                    <button type=\"submit\" class=\"font-weight-bold m-3 py-2 px-4 btn btn-success\">Save<i\n                        class=\"px-2 fa fa-floppy-o\" aria-hidden=\"true\"></i></button>\n                </div>\n            </form>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}