{"ast":null,"code":"import _asyncToGenerator from \"/Volumes/Disk SSD 1/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Volumes/Disk SSD 1/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"/Volumes/Disk SSD 1/erp2.0/erp-2.0/frontend/src/screens/Reports/DayWiseProfit.js\",\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"/Volumes/Disk SSD 1/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/regenerator/index.js\";\nimport React from 'react';\nimport { url } from 'src/helpers/helpers';\nimport { toast, ToastContainer } from 'react-toastify';\nimport { userContext } from '../../context/UserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function DayWiseProfit() {\n  _s();\n\n  var _React$useContext = React.useContext(userContext),\n      user = _React$useContext.user,\n      setLoad = _React$useContext.setLoad;\n\n  var _React$useState = React.useState(0),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      expense = _React$useState2[0],\n      setExpense = _React$useState2[1];\n\n  var _React$useState3 = React.useState(0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      sale = _React$useState4[0],\n      setSale = _React$useState4[1];\n\n  var _React$useState5 = React.useState(true),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      check_purchase = _React$useState6[0],\n      setCheckPurchase = _React$useState6[1];\n\n  var _React$useState7 = React.useState(0),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      purchase = _React$useState8[0],\n      setPurchase = _React$useState8[1];\n\n  var _React$useState9 = React.useState(0),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      sale_return = _React$useState10[0],\n      setSaleReturn = _React$useState10[1];\n\n  var _React$useState11 = React.useState(0),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      purchase_return = _React$useState12[0],\n      setPurchaseReturn = _React$useState12[1];\n\n  var _React$useState13 = React.useState(0),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      customer_in = _React$useState14[0],\n      setCustomerIn = _React$useState14[1];\n\n  var _React$useState15 = React.useState(0),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      party_out = _React$useState16[0],\n      setPartyOut = _React$useState16[1];\n\n  var _React$useState17 = React.useState(''),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      to = _React$useState18[0],\n      setTo = _React$useState18[1];\n\n  var _React$useState19 = React.useState(''),\n      _React$useState20 = _slicedToArray(_React$useState19, 2),\n      from = _React$useState20[0],\n      setFrom = _React$useState20[1];\n\n  React.useEffect(function () {\n    setLoad(true);\n\n    function fetchData() {\n      return _fetchData.apply(this, arguments);\n    }\n\n    function _fetchData() {\n      _fetchData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var response, data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return fetch(url + 'get-total-profile-record', {\n                  method: 'GET',\n                  headers: {\n                    'Authorization': user === null || user === void 0 ? void 0 : user.token\n                  }\n                });\n\n              case 2:\n                response = _context.sent;\n\n                if (!(response.ok === true)) {\n                  _context.next = 9;\n                  break;\n                }\n\n                _context.next = 6;\n                return response.json();\n\n              case 6:\n                data = _context.sent;\n                setLoad(false);\n\n                if (data.status === 200) {\n                  setExpense(data.expense_record);\n                  setPurchase(data.purchase_record);\n                  setSale(data.sales_record);\n                  setSaleReturn(data.sales_return_record);\n                  setPurchaseReturn(data.purchase_return_record);\n                  setCustomerIn(data.customer_record);\n                  setPartyOut(data.party_record);\n                } else {\n                  toast.error(data.message);\n                }\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      return _fetchData.apply(this, arguments);\n    }\n\n    fetchData();\n  }, []);\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    if (to && from) {\n      var submit = /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n          var response, data;\n          return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n            while (1) {\n              switch (_context2.prev = _context2.next) {\n                case 0:\n                  _context2.next = 2;\n                  return fetch(url + 'get-profit-data', {\n                    method: 'POST',\n                    headers: {\n                      'Authorization': user === null || user === void 0 ? void 0 : user.token\n                    },\n                    body: formData\n                  });\n\n                case 2:\n                  response = _context2.sent;\n\n                  if (!(response.ok === true)) {\n                    _context2.next = 11;\n                    break;\n                  }\n\n                  _context2.next = 6;\n                  return response.json();\n\n                case 6:\n                  data = _context2.sent;\n                  setLoad(false);\n\n                  if (data.status == 200) {\n                    setExpense(data.expense_record);\n                    setPurchase(data.purchase_record);\n                    setSale(data.sales_record);\n                    setSaleReturn(data.sales_return_record);\n                    setPurchaseReturn(data.purchase_return_record);\n                    setCustomerIn(data.customer_record);\n                    setPartyOut(data.party_record);\n                  } else {\n                    toast.error(data.message);\n                  }\n\n                  _context2.next = 12;\n                  break;\n\n                case 11:\n                  toast.error('Oops something went wrong!');\n\n                case 12:\n                case \"end\":\n                  return _context2.stop();\n              }\n            }\n          }, _callee2);\n        }));\n\n        return function submit() {\n          return _ref.apply(this, arguments);\n        };\n      }();\n\n      setLoad(true);\n      var formData = new FormData();\n      formData.append('to', to);\n      formData.append('from', from);\n      submit().catch(function (err) {\n        return toast.error('Internal server error!. Please try again later');\n      });\n    } else {\n      toast.error('Please fill the to and from date');\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    children: [/*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: function onSubmit(e) {\n        return handleSubmit(e);\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"form-row create-purchase-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group col-md-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"\",\n            children: \"From\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: from,\n            onChange: function onChange(e) {\n              return setFrom(e.target.value);\n            },\n            className: \"form-control\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group col-md-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"\",\n            children: \"To\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"date\",\n            value: to,\n            onChange: function onChange(e) {\n              return setTo(e.target.value);\n            },\n            className: \"form-control\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group col-md-3\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"font-weight-bold my-4 py-2 px-4 btn btn-primary\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"day-wise-profit-table col-md-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group row col-md-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          className: \"col-md-8\",\n          children: \"Purchase\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-4\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            checked: check_purchase,\n            onChange: function onChange(e) {\n              return setCheckPurchase(!check_purchase);\n            },\n            type: \"checkbox\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"bg-white w-100 text-dark px-3 py-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Sales\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\"+ \", sale]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 119,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), check_purchase === true && /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Purchase\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\"- \", purchase]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Expense\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\"- \", expense]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Purchase Return\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\"+ \", purchase_return]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Sale Return\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 136,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\"- \", sale_return]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 137,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Customer In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 140,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\"+ \", customer_in]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            children: \"Party Out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: [\"- \", party_out]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 145,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              fontWeight: 'bold'\n            },\n            children: \"Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            style: {\n              fontWeight: 'bold'\n            },\n            children: check_purchase === true ? parseFloat(sale) - parseFloat(purchase) - parseFloat(expense) + parseFloat(purchase_return) - parseFloat(sale_return) + parseFloat(customer_in) - parseFloat(party_out) : parseFloat(sale) - parseFloat(expense) + parseFloat(purchase_return) - parseFloat(sale_return) + parseFloat(customer_in) - parseFloat(party_out)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 9\n  }, this);\n}\n\n_s(DayWiseProfit, \"L13VfNo68YgPEPEBXm6XTLZ7BTc=\");\n\n_c = DayWiseProfit;\n\nvar _c;\n\n$RefreshReg$(_c, \"DayWiseProfit\");","map":{"version":3,"sources":["/Volumes/Disk SSD 1/erp2.0/erp-2.0/frontend/src/screens/Reports/DayWiseProfit.js"],"names":["React","url","toast","ToastContainer","userContext","DayWiseProfit","useContext","user","setLoad","useState","expense","setExpense","sale","setSale","check_purchase","setCheckPurchase","purchase","setPurchase","sale_return","setSaleReturn","purchase_return","setPurchaseReturn","customer_in","setCustomerIn","party_out","setPartyOut","to","setTo","from","setFrom","useEffect","fetchData","fetch","method","headers","token","response","ok","json","data","status","expense_record","purchase_record","sales_record","sales_return_record","purchase_return_record","customer_record","party_record","error","message","handleSubmit","e","preventDefault","submit","body","formData","FormData","append","catch","err","target","value","fontWeight","parseFloat"],"mappings":";;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,qBAApB;AACA,SAASC,KAAT,EAAgBC,cAAhB,QAAsC,gBAAtC;AACA,SAASC,WAAT,QAA4B,2BAA5B;;AAEA,eAAe,SAASC,aAAT,GAAyB;AAAA;;AACpC,0BAAyBL,KAAK,CAACM,UAAN,CAAiBF,WAAjB,CAAzB;AAAA,MAAQG,IAAR,qBAAQA,IAAR;AAAA,MAAaC,OAAb,qBAAaA,OAAb;;AACA,wBAA8BR,KAAK,CAACS,QAAN,CAAe,CAAf,CAA9B;AAAA;AAAA,MAAOC,OAAP;AAAA,MAAgBC,UAAhB;;AACA,yBAAwBX,KAAK,CAACS,QAAN,CAAe,CAAf,CAAxB;AAAA;AAAA,MAAOG,IAAP;AAAA,MAAaC,OAAb;;AACA,yBAA2Cb,KAAK,CAACS,QAAN,CAAe,IAAf,CAA3C;AAAA;AAAA,MAAOK,cAAP;AAAA,MAAuBC,gBAAvB;;AACA,yBAAgCf,KAAK,CAACS,QAAN,CAAe,CAAf,CAAhC;AAAA;AAAA,MAAOO,QAAP;AAAA,MAAiBC,WAAjB;;AACA,yBAAqCjB,KAAK,CAACS,QAAN,CAAe,CAAf,CAArC;AAAA;AAAA,MAAOS,WAAP;AAAA,MAAoBC,aAApB;;AACA,0BAA6CnB,KAAK,CAACS,QAAN,CAAe,CAAf,CAA7C;AAAA;AAAA,MAAOW,eAAP;AAAA,MAAwBC,iBAAxB;;AACA,0BAAoCrB,KAAK,CAACS,QAAN,CAAe,CAAf,CAApC;AAAA;AAAA,MAAOa,WAAP;AAAA,MAAmBC,aAAnB;;AACA,0BAAgCvB,KAAK,CAACS,QAAN,CAAe,CAAf,CAAhC;AAAA;AAAA,MAAOe,SAAP;AAAA,MAAiBC,WAAjB;;AACA,0BAAoBzB,KAAK,CAACS,QAAN,CAAe,EAAf,CAApB;AAAA;AAAA,MAAOiB,EAAP;AAAA,MAAWC,KAAX;;AACA,0BAAwB3B,KAAK,CAACS,QAAN,CAAe,EAAf,CAAxB;AAAA;AAAA,MAAOmB,IAAP;AAAA,MAAaC,OAAb;;AAEA7B,EAAAA,KAAK,CAAC8B,SAAN,CAAgB,YAAM;AAClBtB,IAAAA,OAAO,CAAC,IAAD,CAAP;;AADkB,aAEHuB,SAFG;AAAA;AAAA;;AAAA;AAAA,4EAElB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBAC2BC,KAAK,CAAC/B,GAAG,GAAG,0BAAP,EAAmC;AAC3DgC,kBAAAA,MAAM,EAAE,KADmD;AAE3DC,kBAAAA,OAAO,EAAE;AACL,qCAAiB3B,IAAjB,aAAiBA,IAAjB,uBAAiBA,IAAI,CAAE4B;AADlB;AAFkD,iBAAnC,CADhC;;AAAA;AACUC,gBAAAA,QADV;;AAAA,sBAQQA,QAAQ,CAACC,EAAT,KAAgB,IARxB;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAS2BD,QAAQ,CAACE,IAAT,EAT3B;;AAAA;AAScC,gBAAAA,IATd;AAUQ/B,gBAAAA,OAAO,CAAC,KAAD,CAAP;;AACA,oBAAI+B,IAAI,CAACC,MAAL,KAAgB,GAApB,EAAyB;AACrB7B,kBAAAA,UAAU,CAAC4B,IAAI,CAACE,cAAN,CAAV;AACAxB,kBAAAA,WAAW,CAACsB,IAAI,CAACG,eAAN,CAAX;AACA7B,kBAAAA,OAAO,CAAC0B,IAAI,CAACI,YAAN,CAAP;AACAxB,kBAAAA,aAAa,CAACoB,IAAI,CAACK,mBAAN,CAAb;AACAvB,kBAAAA,iBAAiB,CAACkB,IAAI,CAACM,sBAAN,CAAjB;AACAtB,kBAAAA,aAAa,CAACgB,IAAI,CAACO,eAAN,CAAb;AACArB,kBAAAA,WAAW,CAACc,IAAI,CAACQ,YAAN,CAAX;AACH,iBARD,MAQO;AACH7C,kBAAAA,KAAK,CAAC8C,KAAN,CAAYT,IAAI,CAACU,OAAjB;AACH;;AArBT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAFkB;AAAA;AAAA;;AA2BlBlB,IAAAA,SAAS;AACZ,GA5BD,EA4BG,EA5BH;;AA8BA,WAASmB,YAAT,CAAsBC,CAAtB,EAAwB;AACpBA,IAAAA,CAAC,CAACC,cAAF;;AACA,QAAI1B,EAAE,IAAIE,IAAV,EAAgB;AAAA,UAKGyB,MALH;AAAA,4EAKZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBAC2BrB,KAAK,CAAC/B,GAAG,GAAG,iBAAP,EAA0B;AAClDgC,oBAAAA,MAAM,EAAE,MAD0C;AAElDC,oBAAAA,OAAO,EAAE;AACL,uCAAiB3B,IAAjB,aAAiBA,IAAjB,uBAAiBA,IAAI,CAAE4B;AADlB,qBAFyC;AAKlDmB,oBAAAA,IAAI,EAAEC;AAL4C,mBAA1B,CADhC;;AAAA;AACUnB,kBAAAA,QADV;;AAAA,wBASQA,QAAQ,CAACC,EAAT,KAAgB,IATxB;AAAA;AAAA;AAAA;;AAAA;AAAA,yBAU2BD,QAAQ,CAACE,IAAT,EAV3B;;AAAA;AAUcC,kBAAAA,IAVd;AAWQ/B,kBAAAA,OAAO,CAAC,KAAD,CAAP;;AACA,sBAAI+B,IAAI,CAACC,MAAL,IAAe,GAAnB,EAAwB;AACpB7B,oBAAAA,UAAU,CAAC4B,IAAI,CAACE,cAAN,CAAV;AACAxB,oBAAAA,WAAW,CAACsB,IAAI,CAACG,eAAN,CAAX;AACA7B,oBAAAA,OAAO,CAAC0B,IAAI,CAACI,YAAN,CAAP;AACAxB,oBAAAA,aAAa,CAACoB,IAAI,CAACK,mBAAN,CAAb;AACAvB,oBAAAA,iBAAiB,CAACkB,IAAI,CAACM,sBAAN,CAAjB;AACAtB,oBAAAA,aAAa,CAACgB,IAAI,CAACO,eAAN,CAAb;AACArB,oBAAAA,WAAW,CAACc,IAAI,CAACQ,YAAN,CAAX;AACH,mBARD,MAQO;AACH7C,oBAAAA,KAAK,CAAC8C,KAAN,CAAYT,IAAI,CAACU,OAAjB;AACH;;AAtBT;AAAA;;AAAA;AAwBQ/C,kBAAAA,KAAK,CAAC8C,KAAN,CAAY,4BAAZ;;AAxBR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SALY;;AAAA,wBAKGK,MALH;AAAA;AAAA;AAAA;;AACZ7C,MAAAA,OAAO,CAAC,IAAD,CAAP;AACA,UAAM+C,QAAQ,GAAG,IAAIC,QAAJ,EAAjB;AACAD,MAAAA,QAAQ,CAACE,MAAT,CAAgB,IAAhB,EAAsB/B,EAAtB;AACA6B,MAAAA,QAAQ,CAACE,MAAT,CAAgB,MAAhB,EAAwB7B,IAAxB;AA6BAyB,MAAAA,MAAM,GAAGK,KAAT,CAAe,UAAAC,GAAG;AAAA,eAAIzD,KAAK,CAAC8C,KAAN,CAAY,gDAAZ,CAAJ;AAAA,OAAlB;AACH,KAlCD,MAkCO;AACH9C,MAAAA,KAAK,CAAC8C,KAAN,CAAY,kCAAZ;AACH;AACJ;;AAED,sBACI;AAAA,4BACQ,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,YADR,eAEY;AAAM,MAAA,QAAQ,EAAE,kBAACG,CAAD;AAAA,eAAKD,YAAY,CAACC,CAAD,CAAjB;AAAA,OAAhB;AAAA,6BACA;AAAK,QAAA,KAAK,EAAC,iCAAX;AAAA,gCACA;AAAK,UAAA,SAAS,EAAC,qBAAf;AAAA,kCACI;AAAO,YAAA,OAAO,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,KAAK,EAAEvB,IAA1B;AAAgC,YAAA,QAAQ,EAAE,kBAAAuB,CAAC;AAAA,qBAAItB,OAAO,CAACsB,CAAC,CAACS,MAAF,CAASC,KAAV,CAAX;AAAA,aAA3C;AAAwE,YAAA,SAAS,EAAC,cAAlF;AAAiG,YAAA,QAAQ;AAAzG;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,eAKA;AAAK,UAAA,SAAS,EAAC,qBAAf;AAAA,kCACI;AAAO,YAAA,OAAO,EAAC,EAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAO,YAAA,IAAI,EAAC,MAAZ;AAAmB,YAAA,KAAK,EAAEnC,EAA1B;AAA8B,YAAA,QAAQ,EAAE,kBAAAyB,CAAC;AAAA,qBAAIxB,KAAK,CAACwB,CAAC,CAACS,MAAF,CAASC,KAAV,CAAT;AAAA,aAAzC;AAAoE,YAAA,SAAS,EAAC,cAA9E;AAA6F,YAAA,QAAQ;AAArG;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBALA,eASA;AAAK,UAAA,SAAS,EAAC,qBAAf;AAAA,iCACI;AAAQ,YAAA,IAAI,EAAC,QAAb;AAAsB,YAAA,SAAS,EAAC,iDAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBATA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,YAFZ,eAiBI;AAAS,MAAA,SAAS,EAAC,gCAAnB;AAAA,8BACI;AAAK,QAAA,SAAS,EAAC,yBAAf;AAAA,gCACI;AAAO,UAAA,SAAS,EAAC,UAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA,iCACA;AAAO,YAAA,OAAO,EAAE/C,cAAhB;AAAgC,YAAA,QAAQ,EAAE,kBAACqC,CAAD;AAAA,qBAAKpC,gBAAgB,CAAC,CAACD,cAAF,CAArB;AAAA,aAA1C;AAAkF,YAAA,IAAI,EAAC;AAAvF;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADJ,eAQI;AAAO,QAAA,SAAS,EAAC,oCAAjB;AAAA,gCACI;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA,6BAAOF,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,EAKKE,cAAc,KAAG,IAAjB,iBACD;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA,6BAAOE,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBANJ,eAWI;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA,6BAAON,OAAP;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAXJ,eAeI;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA,6BAAOU,eAAP;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAfJ,eAmBI;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA,6BAAOF,WAAP;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAnBJ,eAuBI;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA,6BAAOI,WAAP;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAvBJ,eA2BI;AAAA,kCACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAA,6BAAOE,SAAP;AAAA;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBA3BJ,eA+BI;AAAA,kCACI;AAAI,YAAA,KAAK,EAAE;AAACsC,cAAAA,UAAU,EAAC;AAAZ,aAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAEI;AAAI,YAAA,KAAK,EAAE;AAACA,cAAAA,UAAU,EAAC;AAAZ,aAAX;AAAA,sBAAiChD,cAAc,KAAG,IAAjB,GAAwBiD,UAAU,CAACnD,IAAD,CAAV,GAAmBmD,UAAU,CAAC/C,QAAD,CAA7B,GAA0C+C,UAAU,CAACrD,OAAD,CAApD,GAAgEqD,UAAU,CAAC3C,eAAD,CAA1E,GAA8F2C,UAAU,CAAC7C,WAAD,CAAxG,GAAwH6C,UAAU,CAACzC,WAAD,CAAlI,GAAkJyC,UAAU,CAACvC,SAAD,CAApL,GACwBuC,UAAU,CAACnD,IAAD,CAAV,GAAmBmD,UAAU,CAACrD,OAAD,CAA7B,GAAyCqD,UAAU,CAAC3C,eAAD,CAAnD,GAAuE2C,UAAU,CAAC7C,WAAD,CAAjF,GAAiG6C,UAAU,CAACzC,WAAD,CAA3G,GAA2HyC,UAAU,CAACvC,SAAD;AAD9L;AAAA;AAAA;AAAA;AAAA,kBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBA/BJ;AAAA;AAAA;AAAA;AAAA;AAAA,cARJ;AAAA;AAAA;AAAA;AAAA;AAAA,YAjBJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AAkEH;;GAtJuBnB,a;;KAAAA,a","sourcesContent":["import React from 'react';\nimport { url } from 'src/helpers/helpers';\nimport { toast, ToastContainer } from 'react-toastify'\nimport { userContext } from '../../context/UserContext'\n\nexport default function DayWiseProfit() {\n    const { user,setLoad } = React.useContext(userContext);\n    const [expense, setExpense] = React.useState(0);\n    const [sale, setSale] = React.useState(0);\n    const [check_purchase, setCheckPurchase] = React.useState(true);\n    const [purchase, setPurchase] = React.useState(0);\n    const [sale_return, setSaleReturn] = React.useState(0);\n    const [purchase_return, setPurchaseReturn] = React.useState(0);\n    const [customer_in,setCustomerIn] = React.useState(0);\n    const [party_out,setPartyOut] = React.useState(0);\n    const [to, setTo] = React.useState('');\n    const [from, setFrom] = React.useState('');\n\n    React.useEffect(() => {\n        setLoad(true)\n        async function fetchData() {\n            const response = await fetch(url + 'get-total-profile-record', {\n                method: 'GET',\n                headers: {\n                    'Authorization': user?.token\n                }\n            })\n\n            if (response.ok === true) {\n                const data = await response.json();\n                setLoad(false)\n                if (data.status === 200) {\n                    setExpense(data.expense_record);\n                    setPurchase(data.purchase_record);\n                    setSale(data.sales_record);\n                    setSaleReturn(data.sales_return_record);\n                    setPurchaseReturn(data.purchase_return_record);\n                    setCustomerIn(data.customer_record);\n                    setPartyOut(data.party_record);\n                } else {\n                    toast.error(data.message);\n                }\n            }\n        }\n\n        fetchData();\n    }, [])\n\n    function handleSubmit(e){\n        e.preventDefault();\n        if (to && from) {\n            setLoad(true)\n            const formData = new FormData();\n            formData.append('to', to);\n            formData.append('from', from);\n            async function submit() {\n                const response = await fetch(url + 'get-profit-data', {\n                    method: 'POST',\n                    headers: {\n                        'Authorization': user?.token\n                    },\n                    body: formData\n                });\n\n                if (response.ok === true) {\n                    const data = await response.json();\n                    setLoad(false)\n                    if (data.status == 200) {\n                        setExpense(data.expense_record);\n                        setPurchase(data.purchase_record);\n                        setSale(data.sales_record);\n                        setSaleReturn(data.sales_return_record);\n                        setPurchaseReturn(data.purchase_return_record);\n                        setCustomerIn(data.customer_record);\n                        setPartyOut(data.party_record);\n                    } else {\n                        toast.error(data.message)\n                    }\n                } else {\n                    toast.error('Oops something went wrong!')\n                }\n            }\n\n            submit().catch(err => toast.error('Internal server error!. Please try again later'))\n        } else {\n            toast.error('Please fill the to and from date')\n        }\n    }\n\n    return (\n        <section>\n                <ToastContainer />\n                    <form onSubmit={(e)=>handleSubmit(e)}>\n                    <div class=\"form-row create-purchase-header\">\n                    <div className=\"form-group col-md-3\">\n                        <label htmlFor=\"\">From</label>\n                        <input type=\"date\" value={from} onChange={e => setFrom(e.target.value)} className=\"form-control\" required/>\n                    </div>\n                    <div className=\"form-group col-md-3\">\n                        <label htmlFor=\"\">To</label>\n                        <input type=\"date\" value={to} onChange={e => setTo(e.target.value)} className=\"form-control\" required/>\n                    </div>\n                    <div className=\"form-group col-md-3\">\n                        <button type=\"submit\" className=\"font-weight-bold my-4 py-2 px-4 btn btn-primary\">Submit</button>\n                    </div>\n                    </div>\n                    </form>            \n            <section className='day-wise-profit-table col-md-4'>\n                <div className=\"form-group row col-md-6\">\n                    <label className=\"col-md-8\">Purchase</label>\n                    <div className=\"col-md-4\">\n                    <input checked={check_purchase} onChange={(e)=>setCheckPurchase(!check_purchase)} type=\"checkbox\"></input>\n                    </div>\n                </div>\n\n                <table className='bg-white w-100 text-dark px-3 py-3'>\n                    <tr>\n                        <td>Sales</td>\n                        <td>+ {sale}</td>\n                    </tr>\n                    {check_purchase===true &&\n                    <tr>\n                        <td>Purchase</td>\n                        <td>- {purchase}</td>\n                    </tr>\n                    }\n                    <tr>\n                        <td>Expense</td>\n                        <td>- {expense}</td>\n                    </tr>\n                    <tr>\n                        <td>Purchase Return</td>\n                        <td>+ {purchase_return}</td>\n                    </tr>\n                    <tr>\n                        <td>Sale Return</td>\n                        <td>- {sale_return}</td>\n                    </tr>\n                    <tr>\n                        <td>Customer In</td>\n                        <td>+ {customer_in}</td>\n                    </tr>\n                    <tr>\n                        <td>Party Out</td>\n                        <td>- {party_out}</td>\n                    </tr>\n                    <tr>\n                        <td style={{fontWeight:'bold'}}>Total</td>\n                        <td style={{fontWeight:'bold'}}>{check_purchase===true ? parseFloat(sale) - parseFloat(purchase) - parseFloat(expense) + parseFloat(purchase_return) - parseFloat(sale_return) + parseFloat(customer_in) - parseFloat(party_out)\n                                                                               : parseFloat(sale) - parseFloat(expense) + parseFloat(purchase_return) - parseFloat(sale_return) + parseFloat(customer_in) - parseFloat(party_out) }</td>\n                    </tr>\n                </table>\n            </section>\n        </section>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}