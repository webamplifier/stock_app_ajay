{"ast":null,"code":"import _asyncToGenerator from\"/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import Select from'react-select';import{url}from'src/helpers/helpers';import{userContext}from'../../context/UserContext';import{toast,ToastContainer}from'react-toastify';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Create(){var _React$useContext=React.useContext(userContext),user=_React$useContext.user,setLoad=_React$useContext.setLoad;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),allcategories=_React$useState4[0],setAllCategories=_React$useState4[1];var _React$useState5=React.useState(''),_React$useState6=_slicedToArray(_React$useState5,2),currentCategory=_React$useState6[0],setCurrentCategory=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),unit=_React$useState8[0],setUnit=_React$useState8[1];var _React$useState9=React.useState(1),_React$useState10=_slicedToArray(_React$useState9,2),sales_unit=_React$useState10[0],setSalesUnit=_React$useState10[1];var _React$useState11=React.useState(\"\"),_React$useState12=_slicedToArray(_React$useState11,2),type=_React$useState12[0],setType=_React$useState12[1];var _React$useState13=React.useState(1),_React$useState14=_slicedToArray(_React$useState13,2),pack_unit=_React$useState14[0],setPackUnit=_React$useState14[1];var _React$useState15=React.useState(0),_React$useState16=_slicedToArray(_React$useState15,2),price=_React$useState16[0],setPrice=_React$useState16[1];var _React$useState17=React.useState(''),_React$useState18=_slicedToArray(_React$useState17,2),hsbn=_React$useState18[0],setHSBN=_React$useState18[1];var _React$useState19=React.useState(''),_React$useState20=_slicedToArray(_React$useState19,2),serial_no=_React$useState20[0],setSerialNo=_React$useState20[1];React.useEffect(function(){function fetchCategory(){return _fetchCategory.apply(this,arguments);}function _fetchCategory(){_fetchCategory=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoad(true);_context.next=3;return fetch(url+'categorylist',{method:'GET',headers:{'Authorization':user===null||user===void 0?void 0:user.token}});case 3:response=_context.sent;if(!(response.ok===true)){_context.next=10;break;}_context.next=7;return response.json();case 7:data=_context.sent;setLoad(false);if(data.status===200){setAllCategories(data===null||data===void 0?void 0:data.category_list.map(function(item){return{value:item.id,label:item.name};}));}else{toast.error(data.message);}case 10:case\"end\":return _context.stop();}}},_callee);}));return _fetchCategory.apply(this,arguments);}fetchCategory();},[]);var handleSubmit=function handleSubmit(e){e.preventDefault();if(name&&price&&currentCategory&&unit&&type){var submitData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,data;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(url+'createproduct',{method:'POST',headers:{'Authorization':user===null||user===void 0?void 0:user.token},body:formData});case 2:response=_context2.sent;if(!(response.ok===true)){_context2.next=9;break;}setLoad(false);_context2.next=7;return response.json();case 7:data=_context2.sent;if(data.status===200){toast.success(data.message);setName('');setPrice(0);setUnit('');setType('');setHSBN('');setSerialNo('');setSalesUnit(1);setPackUnit(1);setCurrentCategory('');}else{toast.error(data.message);}case 9:case\"end\":return _context2.stop();}}},_callee2);}));return function submitData(){return _ref.apply(this,arguments);};}();setLoad(true);var formData=new FormData();formData.append('name',name);formData.append('category_id',currentCategory.value);formData.append('category_name',currentCategory.label);formData.append('unit',unit);formData.append('sales_unit',sales_unit);formData.append('pack_unit',pack_unit);formData.append('price',price);formData.append('type',type);formData.append('hsbn',hsbn);formData.append('serial_no',serial_no);submitData();}else{toast.error('Please fill the data with *');}};return/*#__PURE__*/_jsxs(\"div\",{className:\"container create-page-main-section\",children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:function onSubmit(e){return handleSubmit(e);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"p-sm-5 create-form-field\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:[\"Name:\",/*#__PURE__*/_jsx(\"span\",{className:\"required-label\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{value:name,onChange:function onChange(e){return setName(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputPassword\",required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:[\"Category:\",/*#__PURE__*/_jsx(\"span\",{className:\"required-label\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"col-sm-10\",children:/*#__PURE__*/_jsx(Select,{options:allcategories,value:currentCategory,onChange:setCurrentCategory,required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:[\"Type:\",/*#__PURE__*/_jsx(\"span\",{className:\"required-label\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsxs(\"select\",{value:type,onChange:function onChange(e){return setType(e.target.value);},class:\"form-control\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Type\"}),/*#__PURE__*/_jsx(\"option\",{value:\"product\",children:\"Product\"}),/*#__PURE__*/_jsx(\"option\",{value:\"service\",children:\"Service\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:[\"Unit:\",/*#__PURE__*/_jsx(\"span\",{className:\"required-label\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsxs(\"select\",{value:unit,onChange:function onChange(e){return setUnit(e.target.value);},class:\"form-control\",required:true,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Unit\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Sq.Ft\",children:\"Sq.Ft\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Pcs\",children:\"Pcs\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Kg\",children:\"Kg\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Nos\",children:\"Nos\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Gms\",children:\"Gms\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Litre\",children:\"Litre\"})]})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:[\"Price:\",/*#__PURE__*/_jsx(\"span\",{className:\"required-label\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{value:price,onChange:function onChange(e){return setPrice(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputPassword\",required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:\"HSN:\"}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{value:hsbn,onChange:function onChange(e){return setHSBN(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputPassword\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:\"Serial No:\"}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{value:serial_no,onChange:function onChange(e){return setSerialNo(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputPassword\"})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:[\"Sales Unit:\",/*#__PURE__*/_jsx(\"span\",{className:\"required-label\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{value:sales_unit,onChange:function onChange(e){return setSalesUnit(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputPassword\",required:true})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group row\",children:[/*#__PURE__*/_jsxs(\"label\",{for:\"inputPassword\",class:\"col-sm-2 col-form-label\",children:[\"Pack Unit:\",/*#__PURE__*/_jsx(\"span\",{className:\"required-label\",children:\"*\"})]}),/*#__PURE__*/_jsx(\"div\",{class:\"d-flex align-items-sm-center col-sm-10\",children:/*#__PURE__*/_jsx(\"input\",{value:pack_unit,onChange:function onChange(e){return setPackUnit(e.target.value);},type:\"text\",class:\"form-control\",id:\"inputPassword\",required:true})})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"d-flex justify-content-center create-catagory-btns\",children:[/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",class:\"font-weight-bold m-3 py-2 px-4 btn btn-danger\",children:[\"Cancel\",/*#__PURE__*/_jsx(\"i\",{class:\"px-2 fa fa-times\",\"aria-hidden\":\"true\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",class:\"font-weight-bold m-3 py-2 px-4 btn btn-success\",children:[\"Save\",/*#__PURE__*/_jsx(\"i\",{class:\"px-2 fa fa-floppy-o\",\"aria-hidden\":\"true\"})]})]})]})]});}","map":{"version":3,"sources":["/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/src/screens/Products/create.js"],"names":["React","Select","url","userContext","toast","ToastContainer","Create","useContext","user","setLoad","useState","name","setName","allcategories","setAllCategories","currentCategory","setCurrentCategory","unit","setUnit","sales_unit","setSalesUnit","type","setType","pack_unit","setPackUnit","price","setPrice","hsbn","setHSBN","serial_no","setSerialNo","useEffect","fetchCategory","fetch","method","headers","token","response","ok","json","data","status","category_list","map","item","value","id","label","error","message","handleSubmit","e","preventDefault","submitData","body","formData","success","FormData","append","target"],"mappings":"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","sourcesContent":["import React from 'react'\nimport Select from 'react-select';\nimport { url } from 'src/helpers/helpers';\nimport {userContext} from '../../context/UserContext'\nimport { toast,ToastContainer } from 'react-toastify';\n\nexport default function Create() {\n    const {user,setLoad} = React.useContext(userContext);\n    const [name,setName] = React.useState('');\n    const [allcategories, setAllCategories] = React.useState([]);\n    const [currentCategory, setCurrentCategory] = React.useState('');\n    const [unit, setUnit] = React.useState('');\n    const [sales_unit, setSalesUnit] = React.useState(1);\n    const [type, setType] = React.useState(\"\");\n    const [pack_unit, setPackUnit]  = React.useState(1);\n    const [price,setPrice] = React.useState(0);\n    const [hsbn, setHSBN] = React.useState('');\n    const [serial_no,setSerialNo] = React.useState('');\n\n    React.useEffect(()=>{\n       async function fetchCategory(){\n        setLoad(true);\n        const response = await fetch(url + 'categorylist', {\n            method: 'GET',\n            headers: {\n                'Authorization': user?.token\n            }\n        })\n\n        if (response.ok === true) {\n            const data = await response.json();\n            setLoad(false)\n            if (data.status === 200) {\n                setAllCategories(data?.category_list.map(item => {\n                    return {\n                        value: item.id,\n                        label: item.name\n                    }\n                }))\n            } else {\n                toast.error(data.message)\n            }\n        }\n    }\n       fetchCategory();\n    },[])\n\n    const handleSubmit = e => {\n        e.preventDefault();\n        if(name && price && currentCategory && unit && type)\n        {setLoad(true)\n         const formData = new FormData();\n\n        formData.append('name',name);        \n        formData.append('category_id',currentCategory.value);\n        formData.append('category_name', currentCategory.label);\n        formData.append('unit', unit);\n        formData.append('sales_unit',sales_unit);\n        formData.append('pack_unit',pack_unit);\n        formData.append('price', price);\n        formData.append('type', type);\n        formData.append('hsbn',hsbn);\n        formData.append('serial_no',serial_no);\n\n        async function submitData(){\n            const response = await fetch(url + 'createproduct',{\n                method : 'POST',\n                headers : {\n                    'Authorization' : user?.token\n                },\n                body : formData\n            })\n\n            if (response.ok === true){\n                setLoad(false);\n                const data = await response.json();\n                if (data.status === 200){\n                    toast.success(data.message);\n                    setName('');\n                    setPrice(0);\n                    setUnit('');\n                    setType('');\n                    setHSBN('');\n                    setSerialNo('');\n                    setSalesUnit(1);\n                    setPackUnit(1);\n                    setCurrentCategory('');\n                }else{\n                    toast.error(data.message);\n                }\n            }\n        }\n        submitData();\n      }else{\n           toast.error('Please fill the data with *');\n        }\n    }\n\n    return (\n        <div className=\"container create-page-main-section\">\n            <ToastContainer />\n            <form onSubmit={e=>handleSubmit(e)}>\n                <div className='p-sm-5 create-form-field'>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Name:<span className='required-label'>*</span></label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={name} onChange={e=>setName(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" required/>\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Category:<span className='required-label'>*</span></label>    \n                        <div class=\"col-sm-10\">\n                        <Select options={allcategories} value={currentCategory} onChange={setCurrentCategory} required/>\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Type:<span className='required-label'>*</span></label>    \n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                        <select value={type} onChange={e => setType(e.target.value)} class=\"form-control\" required>\n                            <option value=\"\">Select Type</option>\n                            <option value='product'>Product</option>\n                            <option value='service'>Service</option>\n                        </select>\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Unit:<span className='required-label'>*</span></label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                        <select value={unit} onChange={e => setUnit(e.target.value)} class=\"form-control\" required>\n                            <option value=\"\">Select Unit</option>\n                            <option value='Sq.Ft'>Sq.Ft</option>\n                            <option value='Pcs'>Pcs</option>\n                            <option value='Kg'>Kg</option>\n                            <option value='Nos'>Nos</option>\n                            <option value='Gms'>Gms</option>\n                            <option value='Litre'>Litre</option>\n                        </select>\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Price:<span className='required-label'>*</span></label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={price} onChange={e=>setPrice(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" required/>\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">HSN:</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={hsbn} onChange={e=>setHSBN(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Serial No:</label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={serial_no} onChange={e=>setSerialNo(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" />\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                        <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Sales Unit:<span className='required-label'>*</span></label>\n                        <div class=\"d-flex align-items-sm-center col-sm-10\">\n                            <input value={sales_unit} onChange={e=>setSalesUnit(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" required/>\n                        </div>\n                    </div>\n                    <div class=\"form-group row\">\n                    <label for=\"inputPassword\" class=\"col-sm-2 col-form-label\">Pack Unit:<span className='required-label'>*</span></label>\n                    <div class=\"d-flex align-items-sm-center col-sm-10\">\n                        <input value={pack_unit} onChange={e=>setPackUnit(e.target.value)} type=\"text\" class=\"form-control\" id=\"inputPassword\" required/>\n                    </div>\n                    </div>                   \n                </div>\n                <div class=\"d-flex justify-content-center create-catagory-btns\">\n                    <button type=\"submit\" class=\"font-weight-bold m-3 py-2 px-4 btn btn-danger\">Cancel<i\n                        class=\"px-2 fa fa-times\" aria-hidden=\"true\"></i></button>\n                    <button type=\"submit\" class=\"font-weight-bold m-3 py-2 px-4 btn btn-success\">Save<i\n                        class=\"px-2 fa fa-floppy-o\" aria-hidden=\"true\"></i></button>\n                </div>\n            </form>\n        </div>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}