{"ast":null,"code":"import _asyncToGenerator from\"/Volumes/Disk SSD/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Volumes/Disk SSD/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Volumes/Disk SSD/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React from'react';import{CWidgetDropdown,CRow,CCol,CDropdown,CDropdownMenu,CDropdownItem,CDropdownToggle}from'@coreui/react';import{userContext}from'../../context/UserContext';import{url}from'src/helpers/helpers';import CIcon from'@coreui/icons-react';import ChartLineSimple from'../charts/ChartLineSimple';import ChartBarSimple from'../charts/ChartBarSimple';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WidgetsDropdown=function WidgetsDropdown(){var _React$useContext=React.useContext(userContext),user=_React$useContext.user,setLoad=_React$useContext.setLoad;var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),customer_count=_React$useState2[0],setCustomerCount=_React$useState2[1];var _React$useState3=React.useState(0),_React$useState4=_slicedToArray(_React$useState3,2),party_count=_React$useState4[0],setPartyCount=_React$useState4[1];var _React$useState5=React.useState(0),_React$useState6=_slicedToArray(_React$useState5,2),category_count=_React$useState6[0],setCategoryCount=_React$useState6[1];var _React$useState7=React.useState(0),_React$useState8=_slicedToArray(_React$useState7,2),product_count=_React$useState8[0],setProductCount=_React$useState8[1];React.useEffect(function(){function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoad(true);_context.next=3;return fetch(url+'fetchTotalCount',{method:'GET',headers:{'Authorization':user===null||user===void 0?void 0:user.token}});case 3:response=_context.sent;if(!(response.ok===true)){_context.next=10;break;}_context.next=7;return response.json();case 7:data=_context.sent;setLoad(false);if(data.status===200){setCustomerCount(data.customer_count);setPartyCount(data.party_count);setCategoryCount(data.category_count);setProductCount(data.product_count);}else{alert(data.message);}case 10:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);return/*#__PURE__*/_jsxs(CRow,{children:[/*#__PURE__*/_jsx(CCol,{sm:\"6\",lg:\"6\",children:/*#__PURE__*/_jsx(CWidgetDropdown,{color:\"gradient-primary\",header:\"Customers\",text:customer_count.toString()})}),/*#__PURE__*/_jsx(CCol,{sm:\"6\",lg:\"6\",children:/*#__PURE__*/_jsx(CWidgetDropdown,{color:\"gradient-primary\",header:\"Products\",text:product_count.toString()})}),/*#__PURE__*/_jsx(CCol,{sm:\"6\",lg:\"6\",children:/*#__PURE__*/_jsx(CWidgetDropdown,{color:\"gradient-primary\",header:\"Parties\",text:party_count.toString()})}),/*#__PURE__*/_jsx(CCol,{sm:\"6\",lg:\"6\",children:/*#__PURE__*/_jsx(CWidgetDropdown,{color:\"gradient-primary\",header:\"Categories\",text:category_count.toString()})})]});};export default WidgetsDropdown;","map":{"version":3,"sources":["/Volumes/Disk SSD/erp2.0/erp-2.0/frontend/src/views/widgets/WidgetsDropdown.js"],"names":["React","CWidgetDropdown","CRow","CCol","CDropdown","CDropdownMenu","CDropdownItem","CDropdownToggle","userContext","url","CIcon","ChartLineSimple","ChartBarSimple","WidgetsDropdown","useContext","user","setLoad","useState","customer_count","setCustomerCount","party_count","setPartyCount","category_count","setCategoryCount","product_count","setProductCount","useEffect","fetchData","fetch","method","headers","token","response","ok","json","data","status","alert","message","toString"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {\n  CWidgetDropdown,\n  CRow,\n  CCol,\n  CDropdown,\n  CDropdownMenu,\n  CDropdownItem,\n  CDropdownToggle\n} from '@coreui/react'\nimport { userContext } from '../../context/UserContext';\nimport { url } from 'src/helpers/helpers';\nimport CIcon from '@coreui/icons-react'\nimport ChartLineSimple from '../charts/ChartLineSimple'\nimport ChartBarSimple from '../charts/ChartBarSimple'\n\nconst WidgetsDropdown = () => {\n  \n  const { user,setLoad } = React.useContext(userContext);\n  const [customer_count,setCustomerCount] = React.useState(0);\n  const [party_count, setPartyCount] = React.useState(0);\n  const [category_count, setCategoryCount] = React.useState(0);\n  const [product_count, setProductCount] = React.useState(0);\n  \n  React.useEffect(()=>{\n    async function fetchData() {\n      setLoad(true);\n      const response = await fetch(url + 'fetchTotalCount', {\n          method: 'GET',\n          headers: {\n              'Authorization': user?.token\n          }\n      })\n\n      if (response.ok === true) {\n          const data = await response.json();\n          setLoad(false);\n          if (data.status === 200) {\n              setCustomerCount(data.customer_count);\n              setPartyCount(data.party_count);\n              setCategoryCount(data.category_count);\n              setProductCount(data.product_count);\n          } else {\n              alert(data.message);\n          }\n      }\n  }\n  fetchData();\n  },[])\n\n  return (\n    <CRow>\n      <CCol sm=\"6\" lg=\"6\">\n        <CWidgetDropdown\n          color=\"gradient-primary\"\n          header=\"Customers\"\n          text= {customer_count.toString()}\n        >\n        </CWidgetDropdown>\n      </CCol>\n      <CCol sm=\"6\" lg=\"6\">\n        <CWidgetDropdown\n          color=\"gradient-primary\"\n          header=\"Products\"\n          text={product_count.toString()}\n        >\n        </CWidgetDropdown>\n      </CCol>\n      <CCol sm=\"6\" lg=\"6\">\n        <CWidgetDropdown\n          color=\"gradient-primary\"\n          header=\"Parties\"\n          text={party_count.toString()}\n        >\n        </CWidgetDropdown>\n      </CCol>\n      <CCol sm=\"6\" lg=\"6\">\n        <CWidgetDropdown\n          color=\"gradient-primary\"\n          header=\"Categories\"\n          text={category_count.toString()}\n        >\n        </CWidgetDropdown>\n      </CCol>\n    </CRow>\n  )\n}\n\nexport default WidgetsDropdown\n"]},"metadata":{},"sourceType":"module"}