{"ast":null,"code":"import _asyncToGenerator from\"/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{Fragment}from'react';import ReactDatatable from'@ashvin27/react-datatable';import{Link}from'react-router-dom';import{url}from'src/helpers/helpers';import{toast,ToastContainer}from'react-toastify';import{userContext}from'../../context/UserContext';import CustomModal from'../../components/CustomModal';import{formatDate}from'src/helpers/helpers';import PayModal from'../../components/PayModal';import converter from'number-to-words';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function SalesReport(){var _React$useContext=React.useContext(userContext),user=_React$useContext.user,setLoad=_React$useContext.setLoad;var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),salesList=_React$useState2[0],setSalesList=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),modal=_React$useState4[0],setModal=_React$useState4[1];var _React$useState5=React.useState(0),_React$useState6=_slicedToArray(_React$useState5,2),payAmount=_React$useState6[0],setPayAmount=_React$useState6[1];var _React$useState7=React.useState({label:\"cash\"}),_React$useState8=_slicedToArray(_React$useState7,2),paymentMode=_React$useState8[0],setPaymentMode=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),paymodal=_React$useState10[0],setPayModal=_React$useState10[1];var _React$useState11=React.useState(''),_React$useState12=_slicedToArray(_React$useState11,2),from_Date=_React$useState12[0],setFromDate=_React$useState12[1];var _React$useState13=React.useState(''),_React$useState14=_slicedToArray(_React$useState13,2),to_Date=_React$useState14[0],setToDate=_React$useState14[1];var _React$useState15=React.useState(''),_React$useState16=_slicedToArray(_React$useState15,2),id=_React$useState16[0],setId=_React$useState16[1];var _React$useState17=React.useState(0),_React$useState18=_slicedToArray(_React$useState17,2),total=_React$useState18[0],setTotal=_React$useState18[1];var _React$useState19=React.useState(\"\"),_React$useState20=_slicedToArray(_React$useState19,2),saleHeader=_React$useState20[0],setSaleHeader=_React$useState20[1];var _React$useState21=React.useState([]),_React$useState22=_slicedToArray(_React$useState21,2),saleItem=_React$useState22[0],setSaleItem=_React$useState22[1];var _React$useState23=React.useState(\"\"),_React$useState24=_slicedToArray(_React$useState23,2),customer=_React$useState24[0],setCustomer=_React$useState24[1];var _React$useState25=React.useState(\"\"),_React$useState26=_slicedToArray(_React$useState25,2),company=_React$useState26[0],setCompany=_React$useState26[1];var payBill=function payBill(){setLoad(true);function payBillServer(){return _payBillServer.apply(this,arguments);}function _payBillServer(){_payBillServer=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var formData,response,data,_fetchData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:formData=new FormData();formData.append('pay_amount',payAmount);formData.append('payment_mode',paymentMode.label);_context2.next=5;return fetch(url+'pay/sales/'+id,{method:'POST',headers:{'Authorization':user.token},body:formData});case 5:response=_context2.sent;if(!response){_context2.next=11;break;}_context2.next=9;return response.json();case 9:data=_context2.sent;if(data.status===200){_fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,_data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url+'fetchSalesList',{method:'GET',headers:{'Authorization':user===null||user===void 0?void 0:user.token}});case 2:response=_context.sent;if(!(response.ok===true)){_context.next=9;break;}_context.next=6;return response.json();case 6:_data=_context.sent;setLoad(false);if(_data.status===200){setSalesList(_data.list.map(function(item,index){return{'#':index+1,'id':item.id,'invoice_number':item.invoice_number,'customer_name':item.customer_name,'warehouse_name':item.warehouse_name,'sale_date':formatDate(item.sale_date.split(' ')[0]),'total_after_roundoff':item.total_after_roundoff,'remain_amount':item.remain_amount};}));setTotal(parseInt(_data.total_records));}else{toast.error(_data.message);}case 9:case\"end\":return _context.stop();}}},_callee);}));return function _fetchData(){return _ref.apply(this,arguments);};}();setPayModal(false);setId('');_fetchData();}else{toast.error(data.message);}case 11:case\"end\":return _context2.stop();}}},_callee2);}));return _payBillServer.apply(this,arguments);}payBillServer();};var payModal=function payModal(item,id){setPayAmount(parseFloat(item.remain_amount));setPayModal(true);setId(id);};var deleteEntry=function deleteEntry(){setLoad(true);function deleteData(){return _deleteData.apply(this,arguments);}function _deleteData(){_deleteData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var response,data,_fetchData2;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(url+'deleteSale/'+id,{method:'GET',headers:{'Authorization':user===null||user===void 0?void 0:user.token}});case 2:response=_context4.sent;_context4.next=5;return response.json();case 5:data=_context4.sent;if(data.status===200){_fetchData2=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response,_data2;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(url+'fetchSalesList',{method:'GET',headers:{'Authorization':user===null||user===void 0?void 0:user.token}});case 2:response=_context3.sent;if(!(response.ok===true)){_context3.next=9;break;}_context3.next=6;return response.json();case 6:_data2=_context3.sent;setLoad(false);if(_data2.status===200){setSalesList(_data2.list.map(function(item,index){return{'#':index+1,'id':item.id,'customer_name':item.customer_name,'warehouse_name':item.warehouse_name,'sale_date':formatDate(item.sale_date.split(' ')[0]),'discount_amount':parseFloat(item.bill_discount_percentage)?\"\".concat(item.bill_discount_percentage,\"%\"):item.bill_discount_amount,'total_after_roundoff':item.total_after_roundoff,'amount_paid':item.amount_paid,'remain_amount':item.remain_amount};}));setTotal(parseInt(_data2.total_records));}else{toast.error(_data2.message);}case 9:case\"end\":return _context3.stop();}}},_callee3);}));return function _fetchData2(){return _ref2.apply(this,arguments);};}();setModal(false);setId('');_fetchData2();}else{toast.error(data.message);}case 7:case\"end\":return _context4.stop();}}},_callee4);}));return _deleteData.apply(this,arguments);}deleteData();};React.useEffect(function(){setLoad(true);function fetchData(){return _fetchData3.apply(this,arguments);}function _fetchData3(){_fetchData3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var response,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(url+'fetchSalesList',{method:'GET',headers:{'Authorization':user===null||user===void 0?void 0:user.token}});case 2:response=_context5.sent;if(!(response.ok===true)){_context5.next=9;break;}_context5.next=6;return response.json();case 6:data=_context5.sent;setLoad(false);if(data.status===200){setSalesList(data.list.map(function(item,index){return{'#':index+1,'id':item.id,'invoice_number':item.invoice_number,'customer_name':item.customer_name,'warehouse_name':item.warehouse_name,'sale_date':formatDate(item.sale_date.split(' ')[0]),'total_after_roundoff':item.total_after_roundoff,'remain_amount':item.remain_amount};}));setTotal(parseInt(data.total_records));}else{toast.error(data.message);}case 9:case\"end\":return _context5.stop();}}},_callee5);}));return _fetchData3.apply(this,arguments);}fetchData();},[]);function printBillBig(id,condition){function fetchDetailSales(){return _fetchDetailSales.apply(this,arguments);}function _fetchDetailSales(){_fetchDetailSales=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var response,data,html,myWindow,_html;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:setLoad(true);_context6.next=3;return fetch(url+'getSaleById/'+id,{headers:{'Authorization':user.token}});case 3:response=_context6.sent;if(!(response.ok===true)){_context6.next=10;break;}_context6.next=7;return response.json();case 7:data=_context6.sent;setLoad(false);if(data.status===200){console.log(data);setSaleHeader(data.sale_header);setSaleItem(data.sale_items);setCustomer(data.customer_header);setCompany(data.company_data);console.log(data);if(condition==\"A4\"){html=\"\\n                        <style>\\n                        .text-secondary-d1 {\\n                            color: #728299!important;\\n                        }\\n                        \\n                        .page-content{\\n                            border: 1px solid black;\\n                        }\\n                        \\n                        .page-header {\\n                            margin: 0 0 1rem;\\n                            padding-bottom: 1rem;\\n                            padding-top: .5rem;\\n                            border-bottom: 1px dotted #e2e2e2;\\n                            display: -ms-flexbox;\\n                            display: flex;\\n                            -ms-flex-pack: justify;\\n                            justify-content: space-between;\\n                            -ms-flex-align: center;\\n                            align-items: center;\\n                        }\\n                        .page-title {\\n                            padding: 0;\\n                            margin: 0;\\n                            font-size: 1.75rem;\\n                            font-weight: 300;\\n                        }\\n                        .brc-default-l1 {\\n                            border-color: #dce9f0!important;\\n                        }\\n                        \\n                        .ml-n1, .mx-n1 {\\n                            margin-left: -.25rem!important;\\n                        }\\n                        .mr-n1, .mx-n1 {\\n                            margin-right: -.25rem!important;\\n                        }\\n                        .mb-4, .my-4 {\\n                            margin-bottom: 1.5rem!important;\\n                        }\\n                        \\n                        hr {\\n                            margin-top: 1rem;\\n                            margin-bottom: 1rem;\\n                            border: 0;\\n                            border-top: 1px solid rgba(0,0,0,.1);\\n                        }\\n                        \\n                        .text-grey-m2 {\\n                            color: #888a8d!important;\\n                        }\\n                        \\n                        .text-success-m2 {\\n                            color: #86bd68!important;\\n                        }\\n                        \\n                        .font-bolder, .text-600 {\\n                            font-weight: 600!important;\\n                        }\\n                        \\n                        .text-110 {\\n                            font-size: 110%!important;\\n                        }\\n                        .text-blue {\\n                            color: #478fcc!important;\\n                        }\\n                        .pb-25, .py-25 {\\n                            padding-bottom: .75rem!important;\\n                        }\\n                        \\n                        .pt-25, .py-25 {\\n                            padding-top: .75rem!important;\\n                        }\\n                        .bgc-default-tp1 {\\n                            background-color: rgba(121,169,197,.92)!important;\\n                        }\\n                        .bgc-default-l4, .bgc-h-default-l4:hover {\\n                            background-color: #f3f8fa!important;\\n                        }\\n                        .page-header .page-tools {\\n                            -ms-flex-item-align: end;\\n                            align-self: flex-end;\\n                        }\\n                        \\n                        .btn-light {\\n                            color: #757984;\\n                            background-color: #f5f6f9;\\n                            border-color: #dddfe4;\\n                        }\\n                        .w-2 {\\n                            width: 1rem;\\n                        }\\n                        \\n                        .text-120 {\\n                            font-size: 120%!important;\\n                        }\\n                        .text-primary-m1 {\\n                            color: #4087d4!important;\\n                        }\\n                        \\n                        .text-danger-m1 {\\n                            color: #dd4949!important;\\n                        }\\n                        .text-blue-m2 {\\n                            color: #68a3d5!important;\\n                        }\\n                        .text-150 {\\n                            font-size: 150%!important;\\n                        }\\n                        .text-60 {\\n                            font-size: 60%!important;\\n                        }\\n                        .text-grey-m1 {\\n                            color: #7b7d81!important;\\n                        }\\n                        .align-bottom {\\n                            vertical-align: bottom!important;\\n                        }\\n                        \\n                        \\n                        .table-div{\\n                            border: 1px solid black;\\n                        }\\n                        </style>\\n                    \";html=html+document.getElementById(\"a4-print\").innerHTML;myWindow=window.open('','Receipt','height=400,width=600');myWindow.document.write(\"<html><head><title>Reciepts</title><link rel=\\\"stylesheet\\\" href=\\\"https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css\\\"\\n                    integrity=\\\"sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn\\\" crossorigin=\\\"anonymous\\\">\");myWindow.document.write(\"</head><body>\");myWindow.document.write(html);myWindow.document.write('</body></html>');myWindow.document.close();myWindow.onload=function(){myWindow.focus();myWindow.print();};}else{// if thermal printer is here\n_html=\"\\n                        <style>\\n                        * {\\n                        margin: 0;\\n                        padding: 0;\\n                        box-sizing: border-box;\\n                    }\\n                    \\n                    .bill-main {\\n                        width: 360px;\\n                        padding: 15px 15px;\\n                    }\\n                    \\n                    small{\\n                        display: inline-block;\\n                        padding-bottom: 4px;\\n                    }\\n                    \\n                    .text-uppercase {\\n                        text-transform: uppercase\\n                    }\\n                    \\n                    .text-right{\\n                        text-align: right;\\n                    }\\n                    \\n                    .FB {\\n                        font-weight: bold;\\n                    }\\n                    \\n                    .DFlex {\\n                        display: flex;\\n                    }\\n                    \\n                    .JC-between{\\n                        justify-content: space-between;\\n                    }\\n                    \\n                    .mb-1{\\n                        margin-bottom: 4px !important;\\n                    }\\n                    \\n                    .mb-3{\\n                        margin-bottom: 1rem;\\n                    }\\n                    \\n                    .bill-main p {\\n                        color: darkslategrey;\\n                        font-family: sans-serif;\\n                        font-size: 14px;\\n                        margin-bottom: 8px;\\n                    }\\n                    \\n                    .bill-title.address {\\n                        width: 260px;\\n                        margin: 0 auto;\\n                    }\\n                    \\n                    .bill-main .bill-title {\\n                        text-align: center;\\n                        margin-bottom: 20px;\\n                    }\\n                    \\n                    .AlignItemsEnd {\\n                        align-items: flex-end;\\n                    }\\n                    \\n                    .upper-section-first-div {\\n                        flex-basis: 60%;\\n                    }\\n                    \\n                    .bill-upper-section {\\n                        margin: 12px 0;\\n                    }\\n                    \\n                    .bill-mid-section {\\n                        min-height: 105px;\\n                        border-bottom: 1.6px dashed darkslategrey;\\n                        margin-top: 1rem;\\n                    }\\n                    \\n                    .bill-mid-section table {\\n                        width: 100%;\\n                        border-collapse: collapse;\\n                    }\\n                    \\n                    .textRight {\\n                        text-align: right;\\n                    }\\n                    \\n                    .table-head {\\n                        border: 1.6px solid darkslategrey;\\n                        padding: 0 8px;\\n                    }\\n                    \\n                    .table-head td p {\\n                        margin: 4px 0;\\n                    }\\n                    \\n                    .bill-mid-section tr td:first-child {\\n                        padding-left: 8px;\\n                    }\\n                    \\n                    .bill-mid-section tbody tr:first-child td p{\\n                        padding-top: .5rem;\\n                    }\\n                    \\n                    .bill-mid-section tr td:nth-child(2) {\\n                        width: 170px;\\n                        padding-left: 8px;\\n                    }\\n                    \\n                    .bill-mid-section tr td:last-child {\\n                        padding-right: 8px;\\n                    }\\n                    \\n                    .bill-lower-section {\\n                        margin-top: 8px;\\n                    }\\n                    \\n                    .bill-lower-section .right-section {\\n                        flex-basis: 80%;\\n                    }\\n                    \\n                    .thanks {\\n                        text-align: center;\\n                        margin: 10px 0;\\n                    }\\n                        </style>\\n                        \";_html=_html+document.getElementById(\"thermal-print\").innerHTML;myWindow=window.open('','Receipt','height=400,width=600');myWindow.document.write(\"<html><head><title>Reciepts</title>\");myWindow.document.write(\"</head><body>\");myWindow.document.write(_html);myWindow.document.write('</body></html>');myWindow.document.close();myWindow.onload=function(){myWindow.focus();myWindow.print();};}}else{toast.error(data.message);}case 10:case\"end\":return _context6.stop();}}},_callee6);}));return _fetchDetailSales.apply(this,arguments);}fetchDetailSales();}var columns=[{key:\"#\",text:\"#\",className:\"#\",sortable:false},{key:\"invoice_number\",text:\"Invoice Number\",className:\"invoice_number\",sortable:true},{key:\"warehouse_name\",text:\"Warehouse Name\",className:\"warehouse_name\",sortable:true},{key:\"customer_name\",text:\"Customer Name\",className:\"customer_name\",sortable:true},{key:\"sale_date\",text:\"Sale Date\",className:\"sale_date\",sortable:true},{key:\"total_after_roundoff\",text:\"Bill Amount\",className:\"bill_amount\",sortable:true},{key:\"remain_amount\",text:\"Remain Amount\",className:\"remain_amount\",sortable:true},{key:\"action\",text:\"Action\",className:\"action\",width:100,sortable:false,cell:function cell(record){return/*#__PURE__*/_jsxs(Fragment,{children:[parseFloat(record.remain_amount)!==0&&/*#__PURE__*/_jsx(\"i\",{style:{cursor:'pointer'},onClick:function onClick(){return payModal(record,record.id);},className:\"fa fa-money mr-2\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsx(Link,{to:\"/edit/sales/\".concat(record.id),style:{marginRight:'5px'},children:/*#__PURE__*/_jsx(\"i\",{className:\"fa fa-pencil mr-2\"})}),/*#__PURE__*/_jsx(\"i\",{style:{cursor:\"pointer\"},onClick:function onClick(){return showModal(record.id);},class:\"fa fa-trash\",\"aria-hidden\":\"true\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{class:\"btn btn-secondary dropdown-toggle\",type:\"button\",id:\"dropdownMenuButton\",\"data-toggle\":\"dropdown\",\"aria-expanded\":\"false\",children:/*#__PURE__*/_jsx(\"i\",{className:\"ml-1 fa fa-print\"})}),/*#__PURE__*/_jsxs(\"div\",{class:\"dropdown-menu\",\"aria-labelledby\":\"dropdownMenuButton\",children:[/*#__PURE__*/_jsx(\"a\",{class:\"dropdown-item\",href:\"javascript:void(0);\",onClick:function onClick(){return printBillBig(record.id,\"A4\");},children:\"A4\"}),/*#__PURE__*/_jsx(\"a\",{class:\"dropdown-item\",href:\"javascript:void(0);\",onClick:function onClick(){return printBillBig(record.id,\"Thermal\");},children:\"Thermal\"})]})]})]});}}];var config={page_size:10,length_menu:[10,20,50],button:{excel:false,print:false,extra:false}};var showModal=function showModal(value){setId(value);setModal(true);};function fetchData(_x){return _fetchData4.apply(this,arguments);}function _fetchData4(){_fetchData4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee8(query){var response,data;return _regeneratorRuntime.wrap(function _callee8$(_context8){while(1){switch(_context8.prev=_context8.next){case 0:setLoad(true);_context8.next=3;return fetch(url+query,{method:'GET',headers:{'Authorization':user===null||user===void 0?void 0:user.token}});case 3:response=_context8.sent;if(!(response.ok===true)){_context8.next=10;break;}_context8.next=7;return response.json();case 7:data=_context8.sent;setLoad(false);if(data.status===200){setSalesList(data.list.map(function(item,index){return{'#':index+1,'id':item.id,'invoice_number':item.invoice_number,'customer_name':item.customer_name,'warehouse_name':item.warehouse_name,'sale_date':formatDate(item.sale_date.split(' ')[0]),'total_after_roundoff':item.total_after_roundoff,'remain_amount':item.remain_amount};}));setTotal(parseInt(data.total_records));}else{toast.error(data.message);}case 10:case\"end\":return _context8.stop();}}},_callee8);}));return _fetchData4.apply(this,arguments);}function handleSubmit(e){e.preventDefault();if(to_Date&&from_Date){var submit=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(){var response,data;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:_context7.next=2;return fetch(url+\"fetchSalesList?to=\".concat(to_Date,\"&from=\").concat(from_Date),{method:'GET',headers:{'Authorization':user===null||user===void 0?void 0:user.token}});case 2:response=_context7.sent;if(!(response.ok===true)){_context7.next=11;break;}_context7.next=6;return response.json();case 6:data=_context7.sent;setLoad(false);if(data.status===200){setSalesList(data.list.map(function(item,index){return{'#':index+1,'id':item.id,'invoice_number':item.invoice_number,'customer_name':item.customer_name,'warehouse_name':item.warehouse_name,'sale_date':formatDate(item.sale_date.split(' ')[0]),'total_after_roundoff':item.total_after_roundoff,'remain_amount':item.remain_amount};}));setTotal(parseInt(data.total_records));}else{toast.error(data.message);}_context7.next=12;break;case 11:toast.error('Oops something went wrong!');case 12:case\"end\":return _context7.stop();}}},_callee7);}));return function submit(){return _ref3.apply(this,arguments);};}();setLoad(true);submit().catch(function(err){return toast.error('Internal server error!. Please try again later');});}else{toast.error('Please fill the to and from date');}}var handleChange=function handleChange(e){var query=\"fetchSalesList?page_number=\".concat(e.page_number,\"&page_size=\").concat(e.page_size,\"&filter_value=\").concat(e.filter_value,\"&to=\").concat(to_Date,\"&from=\").concat(from_Date);if(e.sort_order){var sort=JSON.stringify(e.sort_order);query=\"fetchSalesList?page_number=\".concat(e.page_number,\"&page_size=\").concat(e.page_size,\"&filter_value=\").concat(e.filter_value,\"&sort_order=\").concat(sort,\"&to=\").concat(to_Date,\"&from=\").concat(from_Date);}fetchData(query);};return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(CustomModal,{modal:modal,setModal:setModal,deleteEntry:deleteEntry}),/*#__PURE__*/_jsx(PayModal,{paymodal:paymodal,setPayModal:setPayModal,payAmount:payAmount,setPayAmount:setPayAmount,paymentMode:paymentMode,payBill:payBill,setPaymentMode:setPaymentMode}),/*#__PURE__*/_jsx(\"form\",{onSubmit:function onSubmit(e){return handleSubmit(e);},children:/*#__PURE__*/_jsxs(\"div\",{class:\"form-row create-purchase-header\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group col-md-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"date\",children:\"From\"}),/*#__PURE__*/_jsx(\"input\",{value:from_Date,onChange:function onChange(e){return setFromDate(e.target.value);},type:\"date\",class:\"form-control\",id:\"date\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group col-md-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"date\",children:\"To\"}),/*#__PURE__*/_jsx(\"input\",{value:to_Date,onChange:function onChange(e){return setToDate(e.target.value);},type:\"date\",class:\"form-control\",id:\"date\",required:true})]}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group col-md-3\",children:/*#__PURE__*/_jsx(\"button\",{type:\"Submit\",class:\"font-weight-bold my-4 py-2 px-4 btn btn-success\",children:\"Filter\"})})]})}),/*#__PURE__*/_jsx(ReactDatatable,{config:config,records:salesList,columns:columns,total_record:total,onChange:function onChange(e){return handleChange(e);},dynamic:true}),saleItem.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{display:'none'},id:\"thermal-print\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"bill-main\",children:[/*#__PURE__*/_jsx(\"p\",{class:\"bill-title FB\",children:saleHeader.default_gst==\"true\"?\"Tax Invoice\":\"Estimation\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"DFlex JC-between\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"width: 70%;\",children:[/*#__PURE__*/_jsx(\"small\",{children:\"from\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:22},class:\"mb-1 text-uppercase FB\",children:saleHeader.company_name}),/*#__PURE__*/_jsxs(\"p\",{class:\"mb-1 address\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"FB\",children:\"Address:\"}),\" \",company.address]}),saleHeader.default_gst==\"true\"&&/*#__PURE__*/_jsxs(\"p\",{class:\"mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"FB\",children:\"GST :\"}),\" \",company.gst]}),/*#__PURE__*/_jsxs(\"p\",{class:\"mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"FB\",children:\"Mobile:\"}),\" \",company.mobile]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{class:\"mb-3\",style:{marginTop:\"1.4rem\"},children:[/*#__PURE__*/_jsx(\"p\",{class:\"text-right mb-1 FB\",children:\"Bill No:\"}),/*#__PURE__*/_jsxs(\"p\",{class:\"text-right mb-1\",children:[\"#\",saleHeader.invoice_number]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"p\",{class:\"text-right mb-1 FB\",children:\"Date:\"}),/*#__PURE__*/_jsx(\"p\",{class:\"text-right mb-1\",children:saleHeader.sale_date})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"width: 70%;\",children:[/*#__PURE__*/_jsx(\"small\",{children:\"to\"}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:22},class:\"mb-1 text-uppercase FB\",children:customer.name}),/*#__PURE__*/_jsxs(\"p\",{class:\"mb-1 address\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"FB\",children:\"Address:\"}),\" \",customer.address]}),saleHeader.default_gst==\"true\"&&/*#__PURE__*/_jsxs(\"p\",{class:\"mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"FB\",children:\"GST :\"}),\" \",customer.gst_number]}),/*#__PURE__*/_jsxs(\"p\",{class:\"mb-1\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"FB\",children:\"Mobile:\"}),\" \",customer.mobile]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{class:\"bill-mid-section\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{class:\"table-head\",children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"#\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{children:\"Product\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{class:\"textRight\",children:\"QTY\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{class:\"textRight\",children:\"Amount\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"p\",{class:\"textRight\",children:\"Total\"})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:saleItem.map(function(item,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:item.product_name}),/*#__PURE__*/_jsx(\"td\",{children:item.qty}),/*#__PURE__*/_jsx(\"td\",{children:item.sale_price}),/*#__PURE__*/_jsx(\"td\",{children:item.total})]},index);})})]})}),/*#__PURE__*/_jsxs(\"div\",{class:\"bill-lower-section\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"DFlex\",children:[/*#__PURE__*/_jsx(\"p\",{class:\"right-section\",children:\"Order Value\"}),/*#__PURE__*/_jsx(\"p\",{children:(parseFloat(saleHeader.total_after_roundoff)-parseFloat(saleHeader.taxable_amount)-parseFloat(saleHeader.item_discount_amount)).toFixed(2)})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"DFlex\",children:[/*#__PURE__*/_jsx(\"p\",{class:\"right-section\",children:\"total tax\"}),/*#__PURE__*/_jsx(\"p\",{children:saleHeader.taxable_amount})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"DFlex\",children:[/*#__PURE__*/_jsx(\"p\",{class:\"right-section\",children:\"discount(Amt.)\"}),/*#__PURE__*/_jsx(\"p\",{children:saleHeader.item_discount_amount})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"DFlex\",children:[/*#__PURE__*/_jsx(\"p\",{class:\"right-section FB\",children:\"Grand Total\"}),/*#__PURE__*/_jsx(\"p\",{children:saleHeader.total_after_roundoff})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"h2\",{class:\"thanks\",children:\"THANKS FOR YOUR BUSINESS\"})]})}),saleItem.length>0&&/*#__PURE__*/_jsxs(\"div\",{style:{display:'none'},id:\"a4-print\",class:\"page-content\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"page-header justify-content-center pt-3 text-blue-d2\",children:/*#__PURE__*/_jsx(\"h1\",{class:\"page-title text-secondary-d1\",children:saleHeader.default_gst==\"true\"?\"Tax Invoice\":\"Estimation\"})}),/*#__PURE__*/_jsx(\"div\",{class:\"container px-0\",children:/*#__PURE__*/_jsx(\"div\",{class:\"row mt-4\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"col-12 col-lg-12\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"invoice-header d-flex justify-content-between\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"invoice-from pr-4\",children:[/*#__PURE__*/_jsx(\"small\",{children:\"from\"}),/*#__PURE__*/_jsxs(\"address\",{class:\"m-t-5 m-b-5\",children:[/*#__PURE__*/_jsx(\"strong\",{class:\"text-inverse\",children:saleHeader.company_name}),/*#__PURE__*/_jsxs(\"p\",{class:\"my-1\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"text-600\",children:\"Address:\"}),\" \",company.address]}),/*#__PURE__*/_jsxs(\"p\",{class:\"my-1\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"text-600\",children:\"Phone:\"}),\" \",company.mobile]}),saleHeader.default_gst==\"true\"&&/*#__PURE__*/_jsxs(\"p\",{class:\"my-1\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"text-600\",children:\"GST:\"}),\" \",company.gst]})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"invoice-to px-4\",children:[/*#__PURE__*/_jsx(\"small\",{children:\"to\"}),/*#__PURE__*/_jsxs(\"address\",{class:\"m-t-5 m-b-5\",children:[/*#__PURE__*/_jsx(\"strong\",{class:\"text-inverse\",children:customer.name}),/*#__PURE__*/_jsxs(\"p\",{class:\"my-1\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"text-600\",children:\"Address:\"}),customer.address]}),/*#__PURE__*/_jsxs(\"p\",{class:\"my-1\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"text-600\",children:\"Phone:\"}),\" \",customer.mobile]}),saleHeader.default_gst==\"true\"&&/*#__PURE__*/_jsxs(\"p\",{class:\"my-1\",children:[/*#__PURE__*/_jsx(\"span\",{class:\"text-600\",children:\"GST:\"}),\" \",customer.gst_number]})]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"invoice-date pl-4\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"my-2\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-circle text-blue-m2 text-xs mr-1\"}),\" \",/*#__PURE__*/_jsx(\"span\",{class:\"text-600 text-90\",children:\"Invoice No:\"}),\" #\",saleHeader.invoice_number]}),/*#__PURE__*/_jsxs(\"div\",{class:\"my-2\",children:[/*#__PURE__*/_jsx(\"i\",{class:\"fa fa-circle text-blue-m2 text-xs mr-1\"}),\" \",/*#__PURE__*/_jsx(\"span\",{class:\"text-600 text-90\",children:\"Date:\"}),\" \",saleHeader.sale_date]})]})]}),/*#__PURE__*/_jsx(\"div\",{class:\"row border-b-2 brc-default-l2\"}),/*#__PURE__*/_jsx(\"div\",{class:\"table-responsive table-div\",children:/*#__PURE__*/_jsxs(\"table\",{class:\"table table-striped brc-default-l1\",children:[/*#__PURE__*/_jsx(\"thead\",{class:\"bg-none bgc-default-tp1\",children:/*#__PURE__*/_jsxs(\"tr\",{class:\"\",children:[/*#__PURE__*/_jsx(\"th\",{class:\"opacity-2\",children:\"#\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Goods\"}),/*#__PURE__*/_jsx(\"th\",{children:\"HSN Code\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Qty\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Unit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Rate\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Amount\"}),saleHeader.default_gst==\"true\"&&/*#__PURE__*/_jsx(\"th\",{children:\"Tax Value\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Discount\"}),/*#__PURE__*/_jsx(\"th\",{width:\"140\",children:\"Total\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{class:\"text-95 text-secondary-d3\",children:[/*#__PURE__*/_jsx(\"tr\",{}),saleItem.map(function(item,index){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:index+1}),/*#__PURE__*/_jsx(\"td\",{children:item.product_name}),/*#__PURE__*/_jsx(\"td\",{children:item.hsbn}),/*#__PURE__*/_jsx(\"td\",{children:item.qty}),/*#__PURE__*/_jsx(\"td\",{children:item.product_unit}),/*#__PURE__*/_jsx(\"td\",{children:item.sale_price}),/*#__PURE__*/_jsx(\"td\",{children:(parseFloat(item.qty)*parseFloat(item.sale_price)).toFixed(2)}),saleHeader.default_gst==\"true\"&&/*#__PURE__*/_jsx(\"td\",{children:item.tax_percent}),/*#__PURE__*/_jsx(\"td\",{children:item.discount_amount}),/*#__PURE__*/_jsx(\"td\",{children:item.total})]},index);})]})]})}),/*#__PURE__*/_jsxs(\"div\",{class:\"row mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"col-12 col-sm-7 text-grey-d2 text-95 mt-2 mt-lg-0\",children:[\"Extra note such as company or payment information...\",/*#__PURE__*/_jsxs(\"p\",{className:\"text-capitalize\",children:[\"Amount In Rupees : \",converter.toWords(parseInt(saleHeader.total_after_roundoff)),\" Only\"]})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"col-12 col-sm-5 text-grey text-90 order-first order-sm-last\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"row my-2\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-7 text-right\",children:\"SubTotal\"}),/*#__PURE__*/_jsx(\"div\",{class:\"col-5\",children:/*#__PURE__*/_jsx(\"span\",{class:\"text-120 text-secondary-d1\",children:(parseFloat(saleHeader.total_after_roundoff)-parseFloat(saleHeader.taxable_amount)-parseFloat(saleHeader.item_discount_amount)).toFixed(2)})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"row my-2\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-7 text-right\",children:\"Tax\"}),/*#__PURE__*/_jsx(\"div\",{class:\"col-5\",children:/*#__PURE__*/_jsx(\"span\",{class:\"text-110 text-secondary-d1\",children:saleHeader.taxable_amount})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"row my-2\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-7 text-right\",children:\"Discount\"}),/*#__PURE__*/_jsx(\"div\",{class:\"col-5\",children:/*#__PURE__*/_jsx(\"span\",{class:\"text-110 text-secondary-d1\",children:saleHeader.item_discount_amount})})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"row my-2 align-items-center bgc-primary-l3 p-2\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col-7 text-right\",children:\"Total Amount\"}),/*#__PURE__*/_jsx(\"div\",{class:\"col-5\",children:/*#__PURE__*/_jsx(\"span\",{class:\"text-150 text-success-d3 opacity-2\",children:saleHeader.total_after_roundoff})})]})]})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"span\",{class:\"text-secondary-d1 text-105\",children:\"Thank you for your business\"})})]})})})]})]});}","map":{"version":3,"sources":["/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/src/screens/Reports/SalesReport.js"],"names":["React","Fragment","ReactDatatable","Link","url","toast","ToastContainer","userContext","CustomModal","formatDate","PayModal","converter","SalesReport","useContext","user","setLoad","useState","salesList","setSalesList","modal","setModal","payAmount","setPayAmount","label","paymentMode","setPaymentMode","paymodal","setPayModal","from_Date","setFromDate","to_Date","setToDate","id","setId","total","setTotal","saleHeader","setSaleHeader","saleItem","setSaleItem","customer","setCustomer","company","setCompany","payBill","payBillServer","formData","FormData","append","fetch","method","headers","token","body","response","json","data","status","fetchData","ok","list","map","item","index","invoice_number","customer_name","warehouse_name","sale_date","split","total_after_roundoff","remain_amount","parseInt","total_records","error","message","payModal","parseFloat","deleteEntry","deleteData","bill_discount_percentage","bill_discount_amount","amount_paid","useEffect","printBillBig","condition","fetchDetailSales","console","log","sale_header","sale_items","customer_header","company_data","html","document","getElementById","innerHTML","myWindow","window","open","write","close","onload","focus","print","columns","key","text","className","sortable","width","cell","record","cursor","marginRight","showModal","config","page_size","length_menu","button","excel","extra","value","query","handleSubmit","e","preventDefault","submit","catch","err","handleChange","page_number","filter_value","sort_order","sort","JSON","stringify","target","length","display","default_gst","fontSize","company_name","address","gst","mobile","marginTop","name","gst_number","product_name","qty","sale_price","taxable_amount","item_discount_amount","toFixed","hsbn","product_unit","tax_percent","discount_amount","toWords"],"mappings":"+eAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAOC,CAAAA,cAAP,KAA2B,2BAA3B,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,OAASC,GAAT,KAAoB,qBAApB,CACA,OAASC,KAAT,CAAgBC,cAAhB,KAAsC,gBAAtC,CACA,OAASC,WAAT,KAA4B,2BAA5B,CACA,MAAOC,CAAAA,WAAP,KAAwB,8BAAxB,CACA,OAASC,UAAT,KAA2B,qBAA3B,CACA,MAAOC,CAAAA,QAAP,KAAqB,2BAArB,CACA,MAAOC,CAAAA,SAAP,KAAsB,iBAAtB,C,wFAEA,cAAe,SAASC,CAAAA,WAAT,EAAuB,CAClC,sBAA0BZ,KAAK,CAACa,UAAN,CAAiBN,WAAjB,CAA1B,CAAQO,IAAR,mBAAQA,IAAR,CAAcC,OAAd,mBAAcA,OAAd,CACA,oBAAkCf,KAAK,CAACgB,QAAN,CAAe,EAAf,CAAlC,oDAAOC,SAAP,qBAAkBC,YAAlB,qBACA,qBAA0BlB,KAAK,CAACgB,QAAN,CAAe,KAAf,CAA1B,qDAAOG,KAAP,qBAAcC,QAAd,qBACA,qBAAkCpB,KAAK,CAACgB,QAAN,CAAe,CAAf,CAAlC,qDAAOK,SAAP,qBAAkBC,YAAlB,qBACA,qBAAsCtB,KAAK,CAACgB,QAAN,CAAe,CACjDO,KAAK,CAAE,MAD0C,CAAf,CAAtC,qDAAOC,WAAP,qBAAoBC,cAApB,qBAGA,qBAAgCzB,KAAK,CAACgB,QAAN,CAAe,KAAf,CAAhC,sDAAOU,QAAP,sBAAiBC,WAAjB,sBACA,sBAAiC3B,KAAK,CAACgB,QAAN,CAAe,EAAf,CAAjC,uDAAOY,SAAP,sBAAkBC,WAAlB,sBACA,sBAA6B7B,KAAK,CAACgB,QAAN,CAAe,EAAf,CAA7B,uDAAOc,OAAP,sBAAgBC,SAAhB,sBACA,sBAAoB/B,KAAK,CAACgB,QAAN,CAAe,EAAf,CAApB,uDAAOgB,EAAP,sBAAWC,KAAX,sBACA,sBAA0BjC,KAAK,CAACgB,QAAN,CAAe,CAAf,CAA1B,uDAAOkB,KAAP,sBAAcC,QAAd,sBACA,sBAAoCnC,KAAK,CAACgB,QAAN,CAAe,EAAf,CAApC,uDAAOoB,UAAP,sBAAmBC,aAAnB,sBACA,sBAAgCrC,KAAK,CAACgB,QAAN,CAAe,EAAf,CAAhC,uDAAOsB,QAAP,sBAAiBC,WAAjB,sBACA,sBAAgCvC,KAAK,CAACgB,QAAN,CAAe,EAAf,CAAhC,uDAAOwB,QAAP,sBAAiBC,WAAjB,sBACA,sBAA6BzC,KAAK,CAACgB,QAAN,CAAe,EAAf,CAA7B,uDAAO0B,OAAP,sBAAeC,UAAf,sBAEA,GAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAAM,CAClB7B,OAAO,CAAC,IAAD,CAAP,CADkB,QAEH8B,CAAAA,aAFG,iJAElB,8KACUC,QADV,CACqB,GAAIC,CAAAA,QAAJ,EADrB,CAEID,QAAQ,CAACE,MAAT,CAAgB,YAAhB,CAA8B3B,SAA9B,EACAyB,QAAQ,CAACE,MAAT,CAAgB,cAAhB,CAAgCxB,WAAW,CAACD,KAA5C,EAHJ,uBAI2B0B,CAAAA,KAAK,CAAC7C,GAAG,CAAG,YAAN,CAAqB4B,EAAtB,CAA0B,CAClDkB,MAAM,CAAE,MAD0C,CAElDC,OAAO,CAAE,CACL,gBAAiBrC,IAAI,CAACsC,KADjB,CAFyC,CAKlDC,IAAI,CAAEP,QAL4C,CAA1B,CAJhC,QAIUQ,QAJV,oBAYQA,QAZR,kDAa2BA,CAAAA,QAAQ,CAACC,IAAT,EAb3B,QAacC,IAbd,gBAeQ,GAAIA,IAAI,CAACC,MAAL,GAAgB,GAApB,CAAyB,CAGNC,UAHM,0FAGrB,4KAC2BT,CAAAA,KAAK,CAAC7C,GAAG,CAAG,gBAAP,CAAyB,CACjD8C,MAAM,CAAE,KADyC,CAEjDC,OAAO,CAAE,CACL,gBAAiBrC,IAAjB,SAAiBA,IAAjB,iBAAiBA,IAAI,CAAEsC,KADlB,CAFwC,CAAzB,CADhC,QACUE,QADV,oBAOQA,QAAQ,CAACK,EAAT,GAAgB,IAPxB,gDAQ2BL,CAAAA,QAAQ,CAACC,IAAT,EAR3B,QAQcC,KARd,eASQzC,OAAO,CAAC,KAAD,CAAP,CACA,GAAIyC,KAAI,CAACC,MAAL,GAAgB,GAApB,CAAyB,CACrBvC,YAAY,CAACsC,KAAI,CAACI,IAAL,CAAUC,GAAV,CAAc,SAACC,IAAD,CAAOC,KAAP,CAAiB,CACxC,MAAO,CACH,IAAKA,KAAK,CAAG,CADV,CAEH,KAAMD,IAAI,CAAC9B,EAFR,CAGH,iBAAkB8B,IAAI,CAACE,cAHpB,CAIH,gBAAiBF,IAAI,CAACG,aAJnB,CAKH,iBAAkBH,IAAI,CAACI,cALpB,CAMH,YAAazD,UAAU,CAACqD,IAAI,CAACK,SAAL,CAAeC,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAAD,CANpB,CAOH,uBAAwBN,IAAI,CAACO,oBAP1B,CAQH,gBAAiBP,IAAI,CAACQ,aARnB,CAAP,CAUH,CAXY,CAAD,CAAZ,CAYAnC,QAAQ,CAACoC,QAAQ,CAACf,KAAI,CAACgB,aAAN,CAAT,CAAR,CACH,CAdD,IAcO,CACHnE,KAAK,CAACoE,KAAN,CAAYjB,KAAI,CAACkB,OAAjB,EACH,CA1BT,sDAHqB,kBAGNhB,CAAAA,UAHM,2CACrB/B,WAAW,CAAC,KAAD,CAAX,CACAM,KAAK,CAAC,EAAD,CAAL,CA8BAyB,UAAS,GACZ,CAjCD,IAiCO,CACHrD,KAAK,CAACoE,KAAN,CAAYjB,IAAI,CAACkB,OAAjB,EACH,CAlDT,yDAFkB,gDAuDlB7B,aAAa,GAChB,CAxDD,CA0DA,GAAM8B,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACb,IAAD,CAAO9B,EAAP,CAAc,CAC3BV,YAAY,CAACsD,UAAU,CAACd,IAAI,CAACQ,aAAN,CAAX,CAAZ,CACA3C,WAAW,CAAC,IAAD,CAAX,CACAM,KAAK,CAACD,EAAD,CAAL,CACH,CAJD,CAMA,GAAM6C,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtB9D,OAAO,CAAC,IAAD,CAAP,CADsB,QAEP+D,CAAAA,UAFO,wIAEtB,6LAC2B7B,CAAAA,KAAK,CAAC7C,GAAG,CAAG,aAAN,CAAsB4B,EAAvB,CAA2B,CACnDkB,MAAM,CAAE,KAD2C,CAEnDC,OAAO,CAAE,CACL,gBAAiBrC,IAAjB,SAAiBA,IAAjB,iBAAiBA,IAAI,CAAEsC,KADlB,CAF0C,CAA3B,CADhC,QACUE,QADV,uCAQuBA,CAAAA,QAAQ,CAACC,IAAT,EARvB,QAQUC,IARV,gBAUI,GAAIA,IAAI,CAACC,MAAL,GAAgB,GAApB,CAAyB,CAGNC,WAHM,2FAGrB,mLAC2BT,CAAAA,KAAK,CAAC7C,GAAG,CAAG,gBAAP,CAAyB,CACjD8C,MAAM,CAAE,KADyC,CAEjDC,OAAO,CAAE,CACL,gBAAiBrC,IAAjB,SAAiBA,IAAjB,iBAAiBA,IAAI,CAAEsC,KADlB,CAFwC,CAAzB,CADhC,QACUE,QADV,qBAQQA,QAAQ,CAACK,EAAT,GAAgB,IARxB,kDAS2BL,CAAAA,QAAQ,CAACC,IAAT,EAT3B,QAScC,MATd,gBAUQzC,OAAO,CAAC,KAAD,CAAP,CACA,GAAIyC,MAAI,CAACC,MAAL,GAAgB,GAApB,CAAyB,CACrBvC,YAAY,CAACsC,MAAI,CAACI,IAAL,CAAUC,GAAV,CAAc,SAACC,IAAD,CAAOC,KAAP,CAAiB,CACxC,MAAO,CACH,IAAKA,KAAK,CAAG,CADV,CAEH,KAAMD,IAAI,CAAC9B,EAFR,CAGH,gBAAiB8B,IAAI,CAACG,aAHnB,CAIH,iBAAkBH,IAAI,CAACI,cAJpB,CAKH,YAAazD,UAAU,CAACqD,IAAI,CAACK,SAAL,CAAeC,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAAD,CALpB,CAMH,kBAAmBQ,UAAU,CAACd,IAAI,CAACiB,wBAAN,CAAV,WAA+CjB,IAAI,CAACiB,wBAApD,MAAkFjB,IAAI,CAACkB,oBANvG,CAOH,uBAAwBlB,IAAI,CAACO,oBAP1B,CAQH,cAAeP,IAAI,CAACmB,WARjB,CASH,gBAAiBnB,IAAI,CAACQ,aATnB,CAAP,CAWH,CAZY,CAAD,CAAZ,CAaAnC,QAAQ,CAACoC,QAAQ,CAACf,MAAI,CAACgB,aAAN,CAAT,CAAR,CACH,CAfD,IAeO,CACHnE,KAAK,CAACoE,KAAN,CAAYjB,MAAI,CAACkB,OAAjB,EACH,CA5BT,wDAHqB,kBAGNhB,CAAAA,WAHM,4CACrBtC,QAAQ,CAAC,KAAD,CAAR,CACAa,KAAK,CAAC,EAAD,CAAL,CAgCAyB,WAAS,GACZ,CAnCD,IAmCO,CACHrD,KAAK,CAACoE,KAAN,CAAYjB,IAAI,CAACkB,OAAjB,EACH,CA/CL,wDAFsB,6CAmDtBI,UAAU,GACb,CApDD,CAqDA9E,KAAK,CAACkF,SAAN,CAAgB,UAAM,CAClBnE,OAAO,CAAC,IAAD,CAAP,CADkB,QAEH2C,CAAAA,SAFG,wIAElB,iLAC2BT,CAAAA,KAAK,CAAC7C,GAAG,CAAG,gBAAP,CAAyB,CACjD8C,MAAM,CAAE,KADyC,CAEjDC,OAAO,CAAE,CACL,gBAAiBrC,IAAjB,SAAiBA,IAAjB,iBAAiBA,IAAI,CAAEsC,KADlB,CAFwC,CAAzB,CADhC,QACUE,QADV,qBAQQA,QAAQ,CAACK,EAAT,GAAgB,IARxB,kDAS2BL,CAAAA,QAAQ,CAACC,IAAT,EAT3B,QAScC,IATd,gBAUQzC,OAAO,CAAC,KAAD,CAAP,CACA,GAAIyC,IAAI,CAACC,MAAL,GAAgB,GAApB,CAAyB,CACrBvC,YAAY,CAACsC,IAAI,CAACI,IAAL,CAAUC,GAAV,CAAc,SAACC,IAAD,CAAOC,KAAP,CAAiB,CACxC,MAAO,CACH,IAAKA,KAAK,CAAG,CADV,CAEH,KAAMD,IAAI,CAAC9B,EAFR,CAGH,iBAAkB8B,IAAI,CAACE,cAHpB,CAIH,gBAAiBF,IAAI,CAACG,aAJnB,CAKH,iBAAkBH,IAAI,CAACI,cALpB,CAMH,YAAazD,UAAU,CAACqD,IAAI,CAACK,SAAL,CAAeC,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAAD,CANpB,CAOH,uBAAwBN,IAAI,CAACO,oBAP1B,CAQH,gBAAiBP,IAAI,CAACQ,aARnB,CAAP,CAUH,CAXY,CAAD,CAAZ,CAYAnC,QAAQ,CAACoC,QAAQ,CAACf,IAAI,CAACgB,aAAN,CAAT,CAAR,CACH,CAdD,IAcO,CACHnE,KAAK,CAACoE,KAAN,CAAYjB,IAAI,CAACkB,OAAjB,EACH,CA3BT,wDAFkB,6CAiClBhB,SAAS,GACZ,CAlCD,CAkCG,EAlCH,EAoCA,QAASyB,CAAAA,YAAT,CAAsBnD,EAAtB,CAA0BoD,SAA1B,CAAqC,SAClBC,CAAAA,gBADkB,0JACjC,8KACItE,OAAO,CAAC,IAAD,CAAP,CADJ,uBAE2BkC,CAAAA,KAAK,CAAC7C,GAAG,CAAG,cAAN,CAAuB4B,EAAxB,CAA4B,CACpDmB,OAAO,CAAE,CACL,gBAAiBrC,IAAI,CAACsC,KADjB,CAD2C,CAA5B,CAFhC,QAEUE,QAFV,qBAQQA,QAAQ,CAACK,EAAT,GAAgB,IARxB,mDAS2BL,CAAAA,QAAQ,CAACC,IAAT,EAT3B,QAScC,IATd,gBAUQzC,OAAO,CAAC,KAAD,CAAP,CACA,GAAIyC,IAAI,CAACC,MAAL,GAAgB,GAApB,CAAyB,CACrB6B,OAAO,CAACC,GAAR,CAAY/B,IAAZ,EACAnB,aAAa,CAACmB,IAAI,CAACgC,WAAN,CAAb,CACAjD,WAAW,CAACiB,IAAI,CAACiC,UAAN,CAAX,CACAhD,WAAW,CAACe,IAAI,CAACkC,eAAN,CAAX,CACA/C,UAAU,CAACa,IAAI,CAACmC,YAAN,CAAV,CAEAL,OAAO,CAACC,GAAR,CAAY/B,IAAZ,EAEA,GAAI4B,SAAS,EAAI,IAAjB,CAAuB,CACfQ,IADe,ugKA+HnBA,IAAI,CAAGA,IAAI,CAAGC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,SAAlD,CAEIC,QAjIe,CAiIJC,MAAM,CAACC,IAAP,CAAY,EAAZ,CAAgB,SAAhB,CAA2B,sBAA3B,CAjII,CAkInBF,QAAQ,CAACH,QAAT,CAAkBM,KAAlB,uRAEAH,QAAQ,CAACH,QAAT,CAAkBM,KAAlB,CAAwB,eAAxB,EACAH,QAAQ,CAACH,QAAT,CAAkBM,KAAlB,CAAwBP,IAAxB,EACAI,QAAQ,CAACH,QAAT,CAAkBM,KAAlB,CAAwB,gBAAxB,EACAH,QAAQ,CAACH,QAAT,CAAkBO,KAAlB,GAEAJ,QAAQ,CAACK,MAAT,CAAkB,UAAY,CAC1BL,QAAQ,CAACM,KAAT,GACAN,QAAQ,CAACO,KAAT,GACH,CAHD,CAIH,CA7ID,IA6IO,CACH;AACIX,KAFD,6zIAoIHA,KAAI,CAAGA,KAAI,CAAGC,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyCC,SAAvD,CAEIC,QAtID,CAsIYC,MAAM,CAACC,IAAP,CAAY,EAAZ,CAAgB,SAAhB,CAA2B,sBAA3B,CAtIZ,CAuIHF,QAAQ,CAACH,QAAT,CAAkBM,KAAlB,wCACAH,QAAQ,CAACH,QAAT,CAAkBM,KAAlB,CAAwB,eAAxB,EACAH,QAAQ,CAACH,QAAT,CAAkBM,KAAlB,CAAwBP,KAAxB,EACAI,QAAQ,CAACH,QAAT,CAAkBM,KAAlB,CAAwB,gBAAxB,EACAH,QAAQ,CAACH,QAAT,CAAkBO,KAAlB,GAEAJ,QAAQ,CAACK,MAAT,CAAkB,UAAY,CAC1BL,QAAQ,CAACM,KAAT,GACAN,QAAQ,CAACO,KAAT,GACH,CAHD,CAIH,CACJ,CAxSD,IAwSO,CACHlG,KAAK,CAACoE,KAAN,CAAYjB,IAAI,CAACkB,OAAjB,EACH,CArTT,yDADiC,mDAyTjCW,gBAAgB,GACnB,CAED,GAAMmB,CAAAA,OAAO,CAAG,CACZ,CACIC,GAAG,CAAE,GADT,CAEIC,IAAI,CAAE,GAFV,CAGIC,SAAS,CAAE,GAHf,CAIIC,QAAQ,CAAE,KAJd,CADY,CAOZ,CACIH,GAAG,CAAE,gBADT,CAEIC,IAAI,CAAE,gBAFV,CAGIC,SAAS,CAAE,gBAHf,CAIIC,QAAQ,CAAE,IAJd,CAPY,CAaZ,CACIH,GAAG,CAAE,gBADT,CAEIC,IAAI,CAAE,gBAFV,CAGIC,SAAS,CAAE,gBAHf,CAIIC,QAAQ,CAAE,IAJd,CAbY,CAmBZ,CACIH,GAAG,CAAE,eADT,CAEIC,IAAI,CAAE,eAFV,CAGIC,SAAS,CAAE,eAHf,CAIIC,QAAQ,CAAE,IAJd,CAnBY,CAyBZ,CACIH,GAAG,CAAE,WADT,CAEIC,IAAI,CAAE,WAFV,CAGIC,SAAS,CAAE,WAHf,CAIIC,QAAQ,CAAE,IAJd,CAzBY,CA+BZ,CACIH,GAAG,CAAE,sBADT,CAEIC,IAAI,CAAE,aAFV,CAGIC,SAAS,CAAE,aAHf,CAIIC,QAAQ,CAAE,IAJd,CA/BY,CAqCZ,CACIH,GAAG,CAAE,eADT,CAEIC,IAAI,CAAE,eAFV,CAGIC,SAAS,CAAE,eAHf,CAIIC,QAAQ,CAAE,IAJd,CArCY,CA2CZ,CACIH,GAAG,CAAE,QADT,CAEIC,IAAI,CAAE,QAFV,CAGIC,SAAS,CAAE,QAHf,CAIIE,KAAK,CAAE,GAJX,CAKID,QAAQ,CAAE,KALd,CAMIE,IAAI,CAAE,cAAAC,MAAM,CAAI,CACZ,mBACI,MAAC,QAAD,YACKnC,UAAU,CAACmC,MAAM,CAACzC,aAAR,CAAV,GAAqC,CAArC,eAA0C,UACvC,KAAK,CAAE,CAAE0C,MAAM,CAAE,SAAV,CADgC,CAEvC,OAAO,CAAE,yBAAMrC,CAAAA,QAAQ,CAACoC,MAAD,CAASA,MAAM,CAAC/E,EAAhB,CAAd,EAF8B,CAGvC,SAAS,CAAC,kBAH6B,CAIvC,cAAY,MAJ2B,EAD/C,cAQI,KAAC,IAAD,EACI,EAAE,uBAAiB+E,MAAM,CAAC/E,EAAxB,CADN,CAEI,KAAK,CAAE,CAAEiF,WAAW,CAAE,KAAf,CAFX,uBAGI,UAAG,SAAS,CAAC,mBAAb,EAHJ,EARJ,cAaI,UACI,KAAK,CAAE,CAAED,MAAM,CAAE,SAAV,CADX,CAEI,OAAO,CAAE,yBAAME,CAAAA,SAAS,CAACH,MAAM,CAAC/E,EAAR,CAAf,EAFb,CAGI,KAAK,CAAC,aAHV,CAII,cAAY,MAJhB,EAbJ,cAmBI,aAAK,KAAK,CAAC,UAAX,wBACI,eAAQ,KAAK,CAAC,mCAAd,CAAkD,IAAI,CAAC,QAAvD,CAAgE,EAAE,CAAC,oBAAnE,CAAwF,cAAY,UAApG,CAA+G,gBAAc,OAA7H,uBACI,UAAG,SAAS,CAAC,kBAAb,EADJ,EADJ,cAII,aAAK,KAAK,CAAC,eAAX,CAA2B,kBAAgB,oBAA3C,wBACI,UAAG,KAAK,CAAC,eAAT,CAAyB,IAAI,CAAC,qBAA9B,CAAoD,OAAO,CAAE,yBAAMmD,CAAAA,YAAY,CAAC4B,MAAM,CAAC/E,EAAR,CAAY,IAAZ,CAAlB,EAA7D,gBADJ,cAEI,UAAG,KAAK,CAAC,eAAT,CAAyB,IAAI,CAAC,qBAA9B,CAAoD,OAAO,CAAE,yBAAMmD,CAAAA,YAAY,CAAC4B,MAAM,CAAC/E,EAAR,CAAY,SAAZ,CAAlB,EAA7D,qBAFJ,GAJJ,GAnBJ,GADJ,CA+BH,CAtCL,CA3CY,CAAhB,CAoFA,GAAMmF,CAAAA,MAAM,CAAG,CACXC,SAAS,CAAE,EADA,CAEXC,WAAW,CAAE,CAAC,EAAD,CAAK,EAAL,CAAS,EAAT,CAFF,CAGXC,MAAM,CAAE,CACJC,KAAK,CAAE,KADH,CAEJhB,KAAK,CAAE,KAFH,CAGJiB,KAAK,CAAE,KAHH,CAHG,CAAf,CAUA,GAAMN,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAAAO,KAAK,CAAI,CACvBxF,KAAK,CAACwF,KAAD,CAAL,CACArG,QAAQ,CAAC,IAAD,CAAR,CACH,CAHD,CArkBkC,QA0kBnBsC,CAAAA,SA1kBmB,0IA0kBlC,kBAAyBgE,KAAzB,wIACI3G,OAAO,CAAC,IAAD,CAAP,CADJ,uBAE2BkC,CAAAA,KAAK,CAAC7C,GAAG,CAAGsH,KAAP,CAAc,CACtCxE,MAAM,CAAE,KAD8B,CAEtCC,OAAO,CAAE,CACL,gBAAiBrC,IAAjB,SAAiBA,IAAjB,iBAAiBA,IAAI,CAAEsC,KADlB,CAF6B,CAAd,CAFhC,QAEUE,QAFV,qBAQQA,QAAQ,CAACK,EAAT,GAAgB,IARxB,mDAS2BL,CAAAA,QAAQ,CAACC,IAAT,EAT3B,QAScC,IATd,gBAUQzC,OAAO,CAAC,KAAD,CAAP,CACA,GAAIyC,IAAI,CAACC,MAAL,GAAgB,GAApB,CAAyB,CACrBvC,YAAY,CAACsC,IAAI,CAACI,IAAL,CAAUC,GAAV,CAAc,SAACC,IAAD,CAAOC,KAAP,CAAiB,CACxC,MAAO,CACH,IAAKA,KAAK,CAAG,CADV,CAEH,KAAMD,IAAI,CAAC9B,EAFR,CAGH,iBAAkB8B,IAAI,CAACE,cAHpB,CAIH,gBAAiBF,IAAI,CAACG,aAJnB,CAKH,iBAAkBH,IAAI,CAACI,cALpB,CAMH,YAAazD,UAAU,CAACqD,IAAI,CAACK,SAAL,CAAeC,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAAD,CANpB,CAOH,uBAAwBN,IAAI,CAACO,oBAP1B,CAQH,gBAAiBP,IAAI,CAACQ,aARnB,CAAP,CAUH,CAXY,CAAD,CAAZ,CAYAnC,QAAQ,CAACoC,QAAQ,CAACf,IAAI,CAACgB,aAAN,CAAT,CAAR,CACH,CAdD,IAcO,CACHnE,KAAK,CAACoE,KAAN,CAAYjB,IAAI,CAACkB,OAAjB,EACH,CA3BT,yDA1kBkC,6CAymBlC,QAASiD,CAAAA,YAAT,CAAsBC,CAAtB,CAAyB,CACrBA,CAAC,CAACC,cAAF,GACA,GAAI/F,OAAO,EAAIF,SAAf,CAA0B,IAEPkG,CAAAA,MAFO,2FAEtB,iLAC2B7E,CAAAA,KAAK,CAAC7C,GAAG,6BAAwB0B,OAAxB,kBAAwCF,SAAxC,CAAJ,CAAyD,CACjFsB,MAAM,CAAE,KADyE,CAEjFC,OAAO,CAAE,CACL,gBAAiBrC,IAAjB,SAAiBA,IAAjB,iBAAiBA,IAAI,CAAEsC,KADlB,CAFwE,CAAzD,CADhC,QACUE,QADV,qBAOQA,QAAQ,CAACK,EAAT,GAAgB,IAPxB,mDAQ2BL,CAAAA,QAAQ,CAACC,IAAT,EAR3B,QAQcC,IARd,gBASQzC,OAAO,CAAC,KAAD,CAAP,CACA,GAAIyC,IAAI,CAACC,MAAL,GAAgB,GAApB,CAAyB,CACrBvC,YAAY,CAACsC,IAAI,CAACI,IAAL,CAAUC,GAAV,CAAc,SAACC,IAAD,CAAOC,KAAP,CAAiB,CACxC,MAAO,CACH,IAAKA,KAAK,CAAG,CADV,CAEH,KAAMD,IAAI,CAAC9B,EAFR,CAGH,iBAAkB8B,IAAI,CAACE,cAHpB,CAIH,gBAAiBF,IAAI,CAACG,aAJnB,CAKH,iBAAkBH,IAAI,CAACI,cALpB,CAMH,YAAazD,UAAU,CAACqD,IAAI,CAACK,SAAL,CAAeC,KAAf,CAAqB,GAArB,EAA0B,CAA1B,CAAD,CANpB,CAOH,uBAAwBN,IAAI,CAACO,oBAP1B,CAQH,gBAAiBP,IAAI,CAACQ,aARnB,CAAP,CAUH,CAXY,CAAD,CAAZ,CAYAnC,QAAQ,CAACoC,QAAQ,CAACf,IAAI,CAACgB,aAAN,CAAT,CAAR,CACH,CAdD,IAcO,CACHnE,KAAK,CAACoE,KAAN,CAAYjB,IAAI,CAACkB,OAAjB,EACH,CA1BT,gCA4BQrE,KAAK,CAACoE,KAAN,CAAY,4BAAZ,EA5BR,yDAFsB,kBAEPqD,CAAAA,MAFO,4CACtB/G,OAAO,CAAC,IAAD,CAAP,CAgCA+G,MAAM,GAAGC,KAAT,CAAe,SAAAC,GAAG,QAAI3H,CAAAA,KAAK,CAACoE,KAAN,CAAY,gDAAZ,CAAJ,EAAlB,EACH,CAlCD,IAkCO,CACHpE,KAAK,CAACoE,KAAN,CAAY,kCAAZ,EACH,CACJ,CACD,GAAMwD,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACL,CAAD,CAAO,CACxB,GAAIF,CAAAA,KAAK,sCAAiCE,CAAC,CAACM,WAAnC,uBAA4DN,CAAC,CAACR,SAA9D,0BAAwFQ,CAAC,CAACO,YAA1F,gBAA6GrG,OAA7G,kBAA6HF,SAA7H,CAAT,CACA,GAAIgG,CAAC,CAACQ,UAAN,CAAkB,CACd,GAAIC,CAAAA,IAAI,CAAGC,IAAI,CAACC,SAAL,CAAeX,CAAC,CAACQ,UAAjB,CAAX,CACAV,KAAK,sCAAiCE,CAAC,CAACM,WAAnC,uBAA4DN,CAAC,CAACR,SAA9D,0BAAwFQ,CAAC,CAACO,YAA1F,wBAAqHE,IAArH,gBAAgIvG,OAAhI,kBAAgJF,SAAhJ,CAAL,CACH,CACD8B,SAAS,CAACgE,KAAD,CAAT,CACH,CAPD,CAQA,mBACI,wCACI,KAAC,cAAD,IADJ,cAEI,KAAC,WAAD,EAAa,KAAK,CAAEvG,KAApB,CAA2B,QAAQ,CAAEC,QAArC,CAA+C,WAAW,CAAEyD,WAA5D,EAFJ,cAGI,KAAC,QAAD,EAAU,QAAQ,CAAEnD,QAApB,CAA8B,WAAW,CAAEC,WAA3C,CAAwD,SAAS,CAAEN,SAAnE,CAA8E,YAAY,CAAEC,YAA5F,CAA0G,WAAW,CAAEE,WAAvH,CAAoI,OAAO,CAAEoB,OAA7I,CAAsJ,cAAc,CAAEnB,cAAtK,EAHJ,cAII,aAAM,QAAQ,CAAE,kBAACmG,CAAD,QAAOD,CAAAA,YAAY,CAACC,CAAD,CAAnB,EAAhB,uBACI,aAAK,KAAK,CAAC,iCAAX,wBACI,aAAK,KAAK,CAAC,qBAAX,wBACI,cAAO,GAAG,CAAC,MAAX,kBADJ,cAEI,cAAO,KAAK,CAAEhG,SAAd,CAAyB,QAAQ,CAAE,kBAAAgG,CAAC,QAAI/F,CAAAA,WAAW,CAAC+F,CAAC,CAACY,MAAF,CAASf,KAAV,CAAf,EAApC,CAAqE,IAAI,CAAC,MAA1E,CAAiF,KAAK,CAAC,cAAvF,CAAsG,EAAE,CAAC,MAAzG,CAAgH,QAAQ,KAAxH,EAFJ,GADJ,cAKI,aAAK,KAAK,CAAC,qBAAX,wBACI,cAAO,GAAG,CAAC,MAAX,gBADJ,cAEI,cAAO,KAAK,CAAE3F,OAAd,CAAuB,QAAQ,CAAE,kBAAA8F,CAAC,QAAI7F,CAAAA,SAAS,CAAC6F,CAAC,CAACY,MAAF,CAASf,KAAV,CAAb,EAAlC,CAAiE,IAAI,CAAC,MAAtE,CAA6E,KAAK,CAAC,cAAnF,CAAkG,EAAE,CAAC,MAArG,CAA4G,QAAQ,KAApH,EAFJ,GALJ,cASI,YAAK,KAAK,CAAC,qBAAX,uBACI,eAAQ,IAAI,CAAC,QAAb,CAAsB,KAAK,CAAC,iDAA5B,oBADJ,EATJ,GADJ,EAJJ,cAmBI,KAAC,cAAD,EACI,MAAM,CAAEN,MADZ,CAEI,OAAO,CAAElG,SAFb,CAGI,OAAO,CAAEuF,OAHb,CAII,YAAY,CAAEtE,KAJlB,CAKI,QAAQ,CAAE,kBAAC0F,CAAD,QAAOK,CAAAA,YAAY,CAACL,CAAD,CAAnB,EALd,CAMI,OAAO,CAAE,IANb,EAnBJ,CA4BKtF,QAAQ,CAACmG,MAAT,CAAkB,CAAlB,eACG,YAAK,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAX,CAAZ,CAAiC,EAAE,CAAC,eAApC,uBACI,aAAK,KAAK,CAAC,WAAX,wBACI,UAAG,KAAK,CAAC,eAAT,UAA0BtG,UAAU,CAACuG,WAAX,EAA0B,MAA1B,CAAmC,aAAnC,CAAmD,YAA7E,EADJ,cAEI,aAAK,KAAK,CAAC,kBAAX,wBACI,aAAK,KAAK,CAAC,aAAX,wBACI,+BADJ,cAEI,UAAG,KAAK,CAAE,CAAEC,QAAQ,CAAE,EAAZ,CAAV,CAA4B,KAAK,CAAC,wBAAlC,UAA4DxG,UAAU,CAACyG,YAAvE,EAFJ,cAGI,WAAG,KAAK,CAAC,cAAT,wBAAwB,aAAM,KAAK,CAAC,IAAZ,sBAAxB,KAA0DnG,OAAO,CAACoG,OAAlE,GAHJ,CAIK1G,UAAU,CAACuG,WAAX,EAA0B,MAA1B,eAAoC,WAAG,KAAK,CAAC,MAAT,wBAAgB,aAAM,KAAK,CAAC,IAAZ,mBAAhB,KAA+CjG,OAAO,CAACqG,GAAvD,GAJzC,cAKI,WAAG,KAAK,CAAC,MAAT,wBAAgB,aAAM,KAAK,CAAC,IAAZ,qBAAhB,KAAiDrG,OAAO,CAACsG,MAAzD,GALJ,GADJ,cAQI,oCACI,aAAK,KAAK,CAAC,MAAX,CAAkB,KAAK,CAAE,CAAEC,SAAS,CAAE,QAAb,CAAzB,wBACI,UAAG,KAAK,CAAC,oBAAT,sBADJ,cAEI,WAAG,KAAK,CAAC,iBAAT,eAA6B7G,UAAU,CAAC4B,cAAxC,GAFJ,GADJ,cAKI,oCACI,UAAG,KAAK,CAAC,oBAAT,mBADJ,cAEI,UAAG,KAAK,CAAC,iBAAT,UAA4B5B,UAAU,CAAC+B,SAAvC,EAFJ,GALJ,GARJ,GAFJ,cAsBI,aAAK,KAAK,CAAC,aAAX,wBACI,6BADJ,cAEI,UAAG,KAAK,CAAE,CAAEyE,QAAQ,CAAE,EAAZ,CAAV,CAA4B,KAAK,CAAC,wBAAlC,UAA4DpG,QAAQ,CAAC0G,IAArE,EAFJ,cAGI,WAAG,KAAK,CAAC,cAAT,wBAAwB,aAAM,KAAK,CAAC,IAAZ,sBAAxB,KAA0D1G,QAAQ,CAACsG,OAAnE,GAHJ,CAIK1G,UAAU,CAACuG,WAAX,EAA0B,MAA1B,eAAoC,WAAG,KAAK,CAAC,MAAT,wBAAgB,aAAM,KAAK,CAAC,IAAZ,mBAAhB,KAA+CnG,QAAQ,CAAC2G,UAAxD,GAJzC,cAKI,WAAG,KAAK,CAAC,MAAT,wBAAgB,aAAM,KAAK,CAAC,IAAZ,qBAAhB,KAAiD3G,QAAQ,CAACwG,MAA1D,GALJ,GAtBJ,cA8BI,aA9BJ,cAgCI,YAAK,KAAK,CAAC,kBAAX,uBACI,sCACI,oCACI,YAAI,KAAK,CAAC,YAAV,wBACI,iCACI,wBADJ,EADJ,cAII,iCACI,8BADJ,EAJJ,cAOI,iCACI,UAAG,KAAK,CAAC,WAAT,iBADJ,EAPJ,cAUI,iCACI,UAAG,KAAK,CAAC,WAAT,oBADJ,EAVJ,cAaI,iCACI,UAAG,KAAK,CAAC,WAAT,mBADJ,EAbJ,GADJ,EADJ,cAqBI,uBACK1G,QAAQ,CAACuB,GAAT,CAAa,SAACC,IAAD,CAAOC,KAAP,qBACV,mCACI,oBAAKA,KAAK,CAAG,CAAb,EADJ,cAEI,oBACKD,IAAI,CAACsF,YADV,EAFJ,cAKI,oBAAKtF,IAAI,CAACuF,GAAV,EALJ,cAMI,oBAAKvF,IAAI,CAACwF,UAAV,EANJ,cAOI,oBAAKxF,IAAI,CAAC5B,KAAV,EAPJ,GAAS6B,KAAT,CADU,EAAb,CADL,EArBJ,GADJ,EAhCJ,cAsEI,aAAK,KAAK,CAAC,oBAAX,wBACI,aAAK,KAAK,CAAC,OAAX,wBACI,UAAG,KAAK,CAAC,eAAT,yBADJ,cAEI,mBAAI,CAACa,UAAU,CAACxC,UAAU,CAACiC,oBAAZ,CAAV,CAA8CO,UAAU,CAACxC,UAAU,CAACmH,cAAZ,CAAxD,CAAsF3E,UAAU,CAACxC,UAAU,CAACoH,oBAAZ,CAAjG,EAAoIC,OAApI,CAA4I,CAA5I,CAAJ,EAFJ,GADJ,cAKI,aAAK,KAAK,CAAC,OAAX,wBACI,UAAG,KAAK,CAAC,eAAT,uBADJ,cAEI,mBAAIrH,UAAU,CAACmH,cAAf,EAFJ,GALJ,cASI,aAAK,KAAK,CAAC,OAAX,wBACI,UAAG,KAAK,CAAC,eAAT,4BADJ,cAEI,mBAAInH,UAAU,CAACoH,oBAAf,EAFJ,GATJ,cAaI,aAAK,KAAK,CAAC,OAAX,wBACI,UAAG,KAAK,CAAC,kBAAT,yBADJ,cAEI,mBAAIpH,UAAU,CAACiC,oBAAf,EAFJ,GAbJ,GAtEJ,cAwFI,aAxFJ,cAyFI,WAAI,KAAK,CAAC,QAAV,sCAzFJ,GADJ,EA7BR,CA6HK/B,QAAQ,CAACmG,MAAT,CAAkB,CAAlB,eACG,aAAK,KAAK,CAAE,CAAEC,OAAO,CAAE,MAAX,CAAZ,CAAiC,EAAE,CAAC,UAApC,CAA+C,KAAK,CAAC,cAArD,wBACI,YAAK,KAAK,CAAC,sDAAX,uBACI,WAAI,KAAK,CAAC,8BAAV,UAA0CtG,UAAU,CAACuG,WAAX,EAA0B,MAA1B,CAAmC,aAAnC,CAAmD,YAA7F,EADJ,EADJ,cAKI,YAAK,KAAK,CAAC,gBAAX,uBACI,YAAK,KAAK,CAAC,UAAX,uBACI,aAAK,KAAK,CAAC,kBAAX,wBACI,aAAK,KAAK,CAAC,+CAAX,wBACI,aAAK,KAAK,CAAC,mBAAX,wBACI,+BADJ,cAEI,iBAAS,KAAK,CAAC,aAAf,wBACI,eAAQ,KAAK,CAAC,cAAd,UAA8BvG,UAAU,CAACyG,YAAzC,EADJ,cAEI,WAAG,KAAK,CAAC,MAAT,wBAAgB,aAAM,KAAK,CAAC,UAAZ,sBAAhB,KAAwDnG,OAAO,CAACoG,OAAhE,GAFJ,cAGI,WAAG,KAAK,CAAC,MAAT,wBAAgB,aAAM,KAAK,CAAC,UAAZ,oBAAhB,KAAsDpG,OAAO,CAACsG,MAA9D,GAHJ,CAIK5G,UAAU,CAACuG,WAAX,EAA0B,MAA1B,eAAoC,WAAG,KAAK,CAAC,MAAT,wBAAgB,aAAM,KAAK,CAAC,UAAZ,kBAAhB,KAAoDjG,OAAO,CAACqG,GAA5D,GAJzC,GAFJ,GADJ,cAUI,aAAK,KAAK,CAAC,iBAAX,wBACI,6BADJ,cAEI,iBAAS,KAAK,CAAC,aAAf,wBACI,eAAQ,KAAK,CAAC,cAAd,UAA8BvG,QAAQ,CAAC0G,IAAvC,EADJ,cAEI,WAAG,KAAK,CAAC,MAAT,wBAAgB,aAAM,KAAK,CAAC,UAAZ,sBAAhB,CACK1G,QAAQ,CAACsG,OADd,GAFJ,cAKI,WAAG,KAAK,CAAC,MAAT,wBAAgB,aAAM,KAAK,CAAC,UAAZ,oBAAhB,KAAsDtG,QAAQ,CAACwG,MAA/D,GALJ,CAMK5G,UAAU,CAACuG,WAAX,EAA0B,MAA1B,eAAoC,WAAG,KAAK,CAAC,MAAT,wBAAgB,aAAM,KAAK,CAAC,UAAZ,kBAAhB,KAAoDnG,QAAQ,CAAC2G,UAA7D,GANzC,GAFJ,GAVJ,cAsBI,aAAK,KAAK,CAAC,mBAAX,wBAEI,aAAK,KAAK,CAAC,MAAX,wBAAkB,UAAG,KAAK,CAAC,wCAAT,EAAlB,kBAAyE,aACrE,KAAK,CAAC,kBAD+D,yBAAzE,MACkD/G,UAAU,CAAC4B,cAD7D,GAFJ,cAKI,aAAK,KAAK,CAAC,MAAX,wBAAkB,UAAG,KAAK,CAAC,wCAAT,EAAlB,kBAAyE,aACrE,KAAK,CAAC,kBAD+D,mBAAzE,KAC2C5B,UAAU,CAAC+B,SADtD,GALJ,GAtBJ,GADJ,cAgCI,YAAK,KAAK,CAAC,+BAAX,EAhCJ,cAkCI,YAAK,KAAK,CAAC,4BAAX,uBACI,eAAO,KAAK,CAAC,oCAAb,wBACI,cAAO,KAAK,CAAC,yBAAb,uBACI,YAAI,KAAK,CAAC,EAAV,wBACI,WAAI,KAAK,CAAC,WAAV,eADJ,cAEI,6BAFJ,cAGI,gCAHJ,cAII,2BAJJ,cAKI,4BALJ,cAMI,4BANJ,cAOI,8BAPJ,CAQK/B,UAAU,CAACuG,WAAX,EAA0B,MAA1B,eAAoC,iCARzC,cASI,gCATJ,cAUI,WAAI,KAAK,CAAC,KAAV,mBAVJ,GADJ,EADJ,cAgBI,eAAO,KAAK,CAAC,2BAAb,wBACI,aADJ,CAEKrG,QAAQ,CAACuB,GAAT,CAAa,SAACC,IAAD,CAAOC,KAAP,qBACV,mCACI,oBAAKA,KAAK,CAAG,CAAb,EADJ,cAEI,oBACKD,IAAI,CAACsF,YADV,EAFJ,cAKI,oBAAKtF,IAAI,CAAC4F,IAAV,EALJ,cAMI,oBAAK5F,IAAI,CAACuF,GAAV,EANJ,cAOI,oBAAKvF,IAAI,CAAC6F,YAAV,EAPJ,cAQI,oBAAK7F,IAAI,CAACwF,UAAV,EARJ,cASI,oBAAK,CAAC1E,UAAU,CAACd,IAAI,CAACuF,GAAN,CAAV,CAAuBzE,UAAU,CAACd,IAAI,CAACwF,UAAN,CAAlC,EAAqDG,OAArD,CAA6D,CAA7D,CAAL,EATJ,CAUKrH,UAAU,CAACuG,WAAX,EAA0B,MAA1B,eAAoC,oBAAK7E,IAAI,CAAC8F,WAAV,EAVzC,cAWI,oBAAK9F,IAAI,CAAC+F,eAAV,EAXJ,cAYI,oBAAK/F,IAAI,CAAC5B,KAAV,EAZJ,GAAS6B,KAAT,CADU,EAAb,CAFL,GAhBJ,GADJ,EAlCJ,cA2EI,aAAK,KAAK,CAAC,UAAX,wBACI,aAAK,KAAK,CAAC,mDAAX,+EAEI,WAAG,SAAS,CAAC,iBAAb,iCAAmDpD,SAAS,CAACmJ,OAAV,CAAkBvF,QAAQ,CAACnC,UAAU,CAACiC,oBAAZ,CAA1B,CAAnD,WAFJ,GADJ,cAMI,aAAK,KAAK,CAAC,6DAAX,wBACI,aAAK,KAAK,CAAC,UAAX,wBACI,YAAK,KAAK,CAAC,kBAAX,sBADJ,cAII,YAAK,KAAK,CAAC,OAAX,uBACI,aAAM,KAAK,CAAC,4BAAZ,UACK,CAACO,UAAU,CAACxC,UAAU,CAACiC,oBAAZ,CAAV,CAA8CO,UAAU,CAACxC,UAAU,CAACmH,cAAZ,CAAxD,CAAsF3E,UAAU,CAACxC,UAAU,CAACoH,oBAAZ,CAAjG,EAAoIC,OAApI,CAA4I,CAA5I,CADL,EADJ,EAJJ,GADJ,cAYI,aAAK,KAAK,CAAC,UAAX,wBACI,YAAK,KAAK,CAAC,kBAAX,iBADJ,cAII,YAAK,KAAK,CAAC,OAAX,uBACI,aAAM,KAAK,CAAC,4BAAZ,UACKrH,UAAU,CAACmH,cADhB,EADJ,EAJJ,GAZJ,cAuBI,aAAK,KAAK,CAAC,UAAX,wBACI,YAAK,KAAK,CAAC,kBAAX,sBADJ,cAII,YAAK,KAAK,CAAC,OAAX,uBACI,aAAM,KAAK,CAAC,4BAAZ,UACKnH,UAAU,CAACoH,oBADhB,EADJ,EAJJ,GAvBJ,cAkCI,aAAK,KAAK,CAAC,gDAAX,wBACI,YAAK,KAAK,CAAC,kBAAX,0BADJ,cAII,YAAK,KAAK,CAAC,OAAX,uBACI,aAAM,KAAK,CAAC,oCAAZ,UACKpH,UAAU,CAACiC,oBADhB,EADJ,EAJJ,GAlCJ,GANJ,GA3EJ,cAgII,aAhIJ,cAkII,kCACI,aAAM,KAAK,CAAC,4BAAZ,yCADJ,EAlIJ,GADJ,EADJ,EALJ,GA9HR,GADJ,CAqRH","sourcesContent":["import React, { Fragment } from 'react';\nimport ReactDatatable from '@ashvin27/react-datatable';\nimport { Link } from 'react-router-dom';\nimport { url } from 'src/helpers/helpers';\nimport { toast, ToastContainer } from 'react-toastify'\nimport { userContext } from '../../context/UserContext'\nimport CustomModal from '../../components/CustomModal';\nimport { formatDate } from 'src/helpers/helpers';\nimport PayModal from '../../components/PayModal';\nimport converter from 'number-to-words'\n\nexport default function SalesReport() {\n    const { user, setLoad } = React.useContext(userContext);\n    const [salesList, setSalesList] = React.useState([]);\n    const [modal, setModal] = React.useState(false);\n    const [payAmount, setPayAmount] = React.useState(0);\n    const [paymentMode, setPaymentMode] = React.useState({\n        label: \"cash\"\n    });\n    const [paymodal, setPayModal] = React.useState(false);\n    const [from_Date, setFromDate] = React.useState('');\n    const [to_Date, setToDate] = React.useState('');\n    const [id, setId] = React.useState('');\n    const [total, setTotal] = React.useState(0);\n    const [saleHeader, setSaleHeader] = React.useState(\"\");\n    const [saleItem, setSaleItem] = React.useState([]);\n    const [customer, setCustomer] = React.useState(\"\");\n    const [company,setCompany] = React.useState(\"\");\n\n    const payBill = () => {\n        setLoad(true)\n        async function payBillServer() {\n            const formData = new FormData();\n            formData.append('pay_amount', payAmount);\n            formData.append('payment_mode', paymentMode.label);\n            const response = await fetch(url + 'pay/sales/' + id, {\n                method: 'POST',\n                headers: {\n                    'Authorization': user.token\n                },\n                body: formData\n            })\n\n            if (response) {\n                const data = await response.json();\n\n                if (data.status === 200) {\n                    setPayModal(false);\n                    setId('');\n                    async function fetchData() {\n                        const response = await fetch(url + 'fetchSalesList', {\n                            method: 'GET',\n                            headers: {\n                                'Authorization': user?.token\n                            }\n                        })\n                        if (response.ok === true) {\n                            const data = await response.json();\n                            setLoad(false)\n                            if (data.status === 200) {\n                                setSalesList(data.list.map((item, index) => {\n                                    return {\n                                        '#': index + 1,\n                                        'id': item.id,\n                                        'invoice_number': item.invoice_number,\n                                        'customer_name': item.customer_name,\n                                        'warehouse_name': item.warehouse_name,\n                                        'sale_date': formatDate(item.sale_date.split(' ')[0]),\n                                        'total_after_roundoff': item.total_after_roundoff,\n                                        'remain_amount': item.remain_amount\n                                    }\n                                }));\n                                setTotal(parseInt(data.total_records));\n                            } else {\n                                toast.error(data.message);\n                            }\n                        }\n                    }\n                    fetchData();\n                } else {\n                    toast.error(data.message);\n                }\n            }\n        }\n        payBillServer();\n    }\n\n    const payModal = (item, id) => {\n        setPayAmount(parseFloat(item.remain_amount))\n        setPayModal(true);\n        setId(id);\n    }\n\n    const deleteEntry = () => {\n        setLoad(true)\n        async function deleteData() {\n            const response = await fetch(url + 'deleteSale/' + id, {\n                method: 'GET',\n                headers: {\n                    'Authorization': user?.token\n                }\n            })\n\n            const data = await response.json();\n\n            if (data.status === 200) {\n                setModal(false);\n                setId('');\n                async function fetchData() {\n                    const response = await fetch(url + 'fetchSalesList', {\n                        method: 'GET',\n                        headers: {\n                            'Authorization': user?.token\n                        }\n                    })\n\n                    if (response.ok === true) {\n                        const data = await response.json();\n                        setLoad(false)\n                        if (data.status === 200) {\n                            setSalesList(data.list.map((item, index) => {\n                                return {\n                                    '#': index + 1,\n                                    'id': item.id,\n                                    'customer_name': item.customer_name,\n                                    'warehouse_name': item.warehouse_name,\n                                    'sale_date': formatDate(item.sale_date.split(' ')[0]),\n                                    'discount_amount': parseFloat(item.bill_discount_percentage) ? `${item.bill_discount_percentage}%` : item.bill_discount_amount,\n                                    'total_after_roundoff': item.total_after_roundoff,\n                                    'amount_paid': item.amount_paid,\n                                    'remain_amount': item.remain_amount\n                                }\n                            }));\n                            setTotal(parseInt(data.total_records));\n                        } else {\n                            toast.error(data.message);\n                        }\n                    }\n                }\n                fetchData();\n            } else {\n                toast.error(data.message)\n            }\n        }\n        deleteData();\n    }\n    React.useEffect(() => {\n        setLoad(true)\n        async function fetchData() {\n            const response = await fetch(url + 'fetchSalesList', {\n                method: 'GET',\n                headers: {\n                    'Authorization': user?.token\n                }\n            })\n\n            if (response.ok === true) {\n                const data = await response.json();\n                setLoad(false)\n                if (data.status === 200) {\n                    setSalesList(data.list.map((item, index) => {\n                        return {\n                            '#': index + 1,\n                            'id': item.id,\n                            'invoice_number': item.invoice_number,\n                            'customer_name': item.customer_name,\n                            'warehouse_name': item.warehouse_name,\n                            'sale_date': formatDate(item.sale_date.split(' ')[0]),\n                            'total_after_roundoff': item.total_after_roundoff,\n                            'remain_amount': item.remain_amount\n                        }\n                    }));\n                    setTotal(parseInt(data.total_records));\n                } else {\n                    toast.error(data.message);\n                }\n            }\n        }\n\n        fetchData();\n    }, [])\n\n    function printBillBig(id, condition) {\n        async function fetchDetailSales() {\n            setLoad(true);\n            const response = await fetch(url + 'getSaleById/' + id, {\n                headers: {\n                    'Authorization': user.token\n                }\n            });\n\n            if (response.ok === true) {\n                const data = await response.json();\n                setLoad(false)\n                if (data.status === 200) {\n                    console.log(data)\n                    setSaleHeader(data.sale_header)\n                    setSaleItem(data.sale_items)\n                    setCustomer(data.customer_header);\n                    setCompany(data.company_data)\n\n                    console.log(data)\n\n                    if (condition == \"A4\") {\n                        let html = `\n                        <style>\n                        .text-secondary-d1 {\n                            color: #728299!important;\n                        }\n                        \n                        .page-content{\n                            border: 1px solid black;\n                        }\n                        \n                        .page-header {\n                            margin: 0 0 1rem;\n                            padding-bottom: 1rem;\n                            padding-top: .5rem;\n                            border-bottom: 1px dotted #e2e2e2;\n                            display: -ms-flexbox;\n                            display: flex;\n                            -ms-flex-pack: justify;\n                            justify-content: space-between;\n                            -ms-flex-align: center;\n                            align-items: center;\n                        }\n                        .page-title {\n                            padding: 0;\n                            margin: 0;\n                            font-size: 1.75rem;\n                            font-weight: 300;\n                        }\n                        .brc-default-l1 {\n                            border-color: #dce9f0!important;\n                        }\n                        \n                        .ml-n1, .mx-n1 {\n                            margin-left: -.25rem!important;\n                        }\n                        .mr-n1, .mx-n1 {\n                            margin-right: -.25rem!important;\n                        }\n                        .mb-4, .my-4 {\n                            margin-bottom: 1.5rem!important;\n                        }\n                        \n                        hr {\n                            margin-top: 1rem;\n                            margin-bottom: 1rem;\n                            border: 0;\n                            border-top: 1px solid rgba(0,0,0,.1);\n                        }\n                        \n                        .text-grey-m2 {\n                            color: #888a8d!important;\n                        }\n                        \n                        .text-success-m2 {\n                            color: #86bd68!important;\n                        }\n                        \n                        .font-bolder, .text-600 {\n                            font-weight: 600!important;\n                        }\n                        \n                        .text-110 {\n                            font-size: 110%!important;\n                        }\n                        .text-blue {\n                            color: #478fcc!important;\n                        }\n                        .pb-25, .py-25 {\n                            padding-bottom: .75rem!important;\n                        }\n                        \n                        .pt-25, .py-25 {\n                            padding-top: .75rem!important;\n                        }\n                        .bgc-default-tp1 {\n                            background-color: rgba(121,169,197,.92)!important;\n                        }\n                        .bgc-default-l4, .bgc-h-default-l4:hover {\n                            background-color: #f3f8fa!important;\n                        }\n                        .page-header .page-tools {\n                            -ms-flex-item-align: end;\n                            align-self: flex-end;\n                        }\n                        \n                        .btn-light {\n                            color: #757984;\n                            background-color: #f5f6f9;\n                            border-color: #dddfe4;\n                        }\n                        .w-2 {\n                            width: 1rem;\n                        }\n                        \n                        .text-120 {\n                            font-size: 120%!important;\n                        }\n                        .text-primary-m1 {\n                            color: #4087d4!important;\n                        }\n                        \n                        .text-danger-m1 {\n                            color: #dd4949!important;\n                        }\n                        .text-blue-m2 {\n                            color: #68a3d5!important;\n                        }\n                        .text-150 {\n                            font-size: 150%!important;\n                        }\n                        .text-60 {\n                            font-size: 60%!important;\n                        }\n                        .text-grey-m1 {\n                            color: #7b7d81!important;\n                        }\n                        .align-bottom {\n                            vertical-align: bottom!important;\n                        }\n                        \n                        \n                        .table-div{\n                            border: 1px solid black;\n                        }\n                        </style>\n                    `\n                        html = html + document.getElementById(\"a4-print\").innerHTML;\n\n                        var myWindow = window.open('', 'Receipt', 'height=400,width=600');\n                        myWindow.document.write(`<html><head><title>Reciepts</title><link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css\"\n                    integrity=\"sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn\" crossorigin=\"anonymous\">`);\n                        myWindow.document.write(\"</head><body>\");\n                        myWindow.document.write(html);\n                        myWindow.document.write('</body></html>');\n                        myWindow.document.close();\n\n                        myWindow.onload = function () {\n                            myWindow.focus();\n                            myWindow.print();\n                        }\n                    } else {\n                        // if thermal printer is here\n                        let html = `\n                        <style>\n                        * {\n                        margin: 0;\n                        padding: 0;\n                        box-sizing: border-box;\n                    }\n                    \n                    .bill-main {\n                        width: 360px;\n                        padding: 15px 15px;\n                    }\n                    \n                    small{\n                        display: inline-block;\n                        padding-bottom: 4px;\n                    }\n                    \n                    .text-uppercase {\n                        text-transform: uppercase\n                    }\n                    \n                    .text-right{\n                        text-align: right;\n                    }\n                    \n                    .FB {\n                        font-weight: bold;\n                    }\n                    \n                    .DFlex {\n                        display: flex;\n                    }\n                    \n                    .JC-between{\n                        justify-content: space-between;\n                    }\n                    \n                    .mb-1{\n                        margin-bottom: 4px !important;\n                    }\n                    \n                    .mb-3{\n                        margin-bottom: 1rem;\n                    }\n                    \n                    .bill-main p {\n                        color: darkslategrey;\n                        font-family: sans-serif;\n                        font-size: 14px;\n                        margin-bottom: 8px;\n                    }\n                    \n                    .bill-title.address {\n                        width: 260px;\n                        margin: 0 auto;\n                    }\n                    \n                    .bill-main .bill-title {\n                        text-align: center;\n                        margin-bottom: 20px;\n                    }\n                    \n                    .AlignItemsEnd {\n                        align-items: flex-end;\n                    }\n                    \n                    .upper-section-first-div {\n                        flex-basis: 60%;\n                    }\n                    \n                    .bill-upper-section {\n                        margin: 12px 0;\n                    }\n                    \n                    .bill-mid-section {\n                        min-height: 105px;\n                        border-bottom: 1.6px dashed darkslategrey;\n                        margin-top: 1rem;\n                    }\n                    \n                    .bill-mid-section table {\n                        width: 100%;\n                        border-collapse: collapse;\n                    }\n                    \n                    .textRight {\n                        text-align: right;\n                    }\n                    \n                    .table-head {\n                        border: 1.6px solid darkslategrey;\n                        padding: 0 8px;\n                    }\n                    \n                    .table-head td p {\n                        margin: 4px 0;\n                    }\n                    \n                    .bill-mid-section tr td:first-child {\n                        padding-left: 8px;\n                    }\n                    \n                    .bill-mid-section tbody tr:first-child td p{\n                        padding-top: .5rem;\n                    }\n                    \n                    .bill-mid-section tr td:nth-child(2) {\n                        width: 170px;\n                        padding-left: 8px;\n                    }\n                    \n                    .bill-mid-section tr td:last-child {\n                        padding-right: 8px;\n                    }\n                    \n                    .bill-lower-section {\n                        margin-top: 8px;\n                    }\n                    \n                    .bill-lower-section .right-section {\n                        flex-basis: 80%;\n                    }\n                    \n                    .thanks {\n                        text-align: center;\n                        margin: 10px 0;\n                    }\n                        </style>\n                        `\n                        html = html + document.getElementById(\"thermal-print\").innerHTML;\n\n                        var myWindow = window.open('', 'Receipt', 'height=400,width=600');\n                        myWindow.document.write(`<html><head><title>Reciepts</title>`);\n                        myWindow.document.write(\"</head><body>\");\n                        myWindow.document.write(html);\n                        myWindow.document.write('</body></html>');\n                        myWindow.document.close();\n\n                        myWindow.onload = function () {\n                            myWindow.focus();\n                            myWindow.print();\n                        }\n                    }\n                } else {\n                    toast.error(data.message);\n                }\n            }\n        }\n        fetchDetailSales()\n    }\n\n    const columns = [\n        {\n            key: \"#\",\n            text: \"#\",\n            className: \"#\",\n            sortable: false,\n        },\n        {\n            key: \"invoice_number\",\n            text: \"Invoice Number\",\n            className: \"invoice_number\",\n            sortable: true\n        },\n        {\n            key: \"warehouse_name\",\n            text: \"Warehouse Name\",\n            className: \"warehouse_name\",\n            sortable: true\n        },\n        {\n            key: \"customer_name\",\n            text: \"Customer Name\",\n            className: \"customer_name\",\n            sortable: true\n        },\n        {\n            key: \"sale_date\",\n            text: \"Sale Date\",\n            className: \"sale_date\",\n            sortable: true\n        },\n        {\n            key: \"total_after_roundoff\",\n            text: \"Bill Amount\",\n            className: \"bill_amount\",\n            sortable: true\n        },\n        {\n            key: \"remain_amount\",\n            text: \"Remain Amount\",\n            className: \"remain_amount\",\n            sortable: true\n        },\n        {\n            key: \"action\",\n            text: \"Action\",\n            className: \"action\",\n            width: 100,\n            sortable: false,\n            cell: record => {\n                return (\n                    <Fragment>\n                        {parseFloat(record.remain_amount) !== 0 && <i\n                            style={{ cursor: 'pointer' }}\n                            onClick={() => payModal(record, record.id)}\n                            className=\"fa fa-money mr-2\"\n                            aria-hidden=\"true\">\n                        </i>\n                        }\n                        <Link\n                            to={`/edit/sales/${record.id}`}\n                            style={{ marginRight: '5px' }}>\n                            <i className=\"fa fa-pencil mr-2\"></i>\n                        </Link>\n                        <i\n                            style={{ cursor: \"pointer\" }}\n                            onClick={() => showModal(record.id)}\n                            class=\"fa fa-trash\"\n                            aria-hidden=\"true\">\n                        </i>\n                        <div class=\"dropdown\">\n                            <button class=\"btn btn-secondary dropdown-toggle\" type=\"button\" id=\"dropdownMenuButton\" data-toggle=\"dropdown\" aria-expanded=\"false\">\n                                <i className='ml-1 fa fa-print'></i>\n                            </button>\n                            <div class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton\">\n                                <a class=\"dropdown-item\" href=\"javascript:void(0);\" onClick={() => printBillBig(record.id, \"A4\")}>A4</a>\n                                <a class=\"dropdown-item\" href=\"javascript:void(0);\" onClick={() => printBillBig(record.id, \"Thermal\")}>Thermal</a>\n                            </div>\n                        </div>\n                    </Fragment>\n                );\n            }\n        }\n    ];\n    const config = {\n        page_size: 10,\n        length_menu: [10, 20, 50],\n        button: {\n            excel: false,\n            print: false,\n            extra: false,\n        }\n    }\n\n    const showModal = value => {\n        setId(value);\n        setModal(true)\n    }\n\n    async function fetchData(query) {\n        setLoad(true);\n        const response = await fetch(url + query, {\n            method: 'GET',\n            headers: {\n                'Authorization': user?.token\n            }\n        })\n        if (response.ok === true) {\n            const data = await response.json();\n            setLoad(false)\n            if (data.status === 200) {\n                setSalesList(data.list.map((item, index) => {\n                    return {\n                        '#': index + 1,\n                        'id': item.id,\n                        'invoice_number': item.invoice_number,\n                        'customer_name': item.customer_name,\n                        'warehouse_name': item.warehouse_name,\n                        'sale_date': formatDate(item.sale_date.split(' ')[0]),\n                        'total_after_roundoff': item.total_after_roundoff,\n                        'remain_amount': item.remain_amount\n                    }\n                }));\n                setTotal(parseInt(data.total_records));\n            } else {\n                toast.error(data.message);\n            }\n        }\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        if (to_Date && from_Date) {\n            setLoad(true);\n            async function submit() {\n                const response = await fetch(url + `fetchSalesList?to=${to_Date}&from=${from_Date}`, {\n                    method: 'GET',\n                    headers: {\n                        'Authorization': user?.token\n                    },\n                });\n                if (response.ok === true) {\n                    const data = await response.json();\n                    setLoad(false)\n                    if (data.status === 200) {\n                        setSalesList(data.list.map((item, index) => {\n                            return {\n                                '#': index + 1,\n                                'id': item.id,\n                                'invoice_number': item.invoice_number,\n                                'customer_name': item.customer_name,\n                                'warehouse_name': item.warehouse_name,\n                                'sale_date': formatDate(item.sale_date.split(' ')[0]),\n                                'total_after_roundoff': item.total_after_roundoff,\n                                'remain_amount': item.remain_amount\n                            }\n                        }));\n                        setTotal(parseInt(data.total_records));\n                    } else {\n                        toast.error(data.message)\n                    }\n                } else {\n                    toast.error('Oops something went wrong!')\n                }\n            }\n            submit().catch(err => toast.error('Internal server error!. Please try again later'))\n        } else {\n            toast.error('Please fill the to and from date')\n        }\n    }\n    const handleChange = (e) => {\n        let query = `fetchSalesList?page_number=${e.page_number}&page_size=${e.page_size}&filter_value=${e.filter_value}&to=${to_Date}&from=${from_Date}`;\n        if (e.sort_order) {\n            let sort = JSON.stringify(e.sort_order);\n            query = `fetchSalesList?page_number=${e.page_number}&page_size=${e.page_size}&filter_value=${e.filter_value}&sort_order=${sort}&to=${to_Date}&from=${from_Date}`;\n        }\n        fetchData(query);\n    }\n    return (\n        <section>\n            <ToastContainer />\n            <CustomModal modal={modal} setModal={setModal} deleteEntry={deleteEntry} />\n            <PayModal paymodal={paymodal} setPayModal={setPayModal} payAmount={payAmount} setPayAmount={setPayAmount} paymentMode={paymentMode} payBill={payBill} setPaymentMode={setPaymentMode} />\n            <form onSubmit={(e) => handleSubmit(e)}>\n                <div class=\"form-row create-purchase-header\">\n                    <div class=\"form-group col-md-3\">\n                        <label for=\"date\">From</label>\n                        <input value={from_Date} onChange={e => setFromDate(e.target.value)} type=\"date\" class=\"form-control\" id=\"date\" required />\n                    </div>\n                    <div class=\"form-group col-md-3\">\n                        <label for=\"date\">To</label>\n                        <input value={to_Date} onChange={e => setToDate(e.target.value)} type=\"date\" class=\"form-control\" id=\"date\" required />\n                    </div>\n                    <div class=\"form-group col-md-3\">\n                        <button type=\"Submit\" class=\"font-weight-bold my-4 py-2 px-4 btn btn-success\">Filter</button>\n                    </div>\n                </div>\n            </form>\n            <ReactDatatable\n                config={config}\n                records={salesList}\n                columns={columns}\n                total_record={total}\n                onChange={(e) => handleChange(e)}\n                dynamic={true}\n            />\n            {/* thermal bill structure */}\n            {saleItem.length > 0 && (\n                <div style={{ display: 'none' }} id=\"thermal-print\">\n                    <div class=\"bill-main\">\n                        <p class=\"bill-title FB\">{saleHeader.default_gst == \"true\" ? \"Tax Invoice\" : \"Estimation\"}</p>\n                        <div class=\"DFlex JC-between\">\n                            <div class=\"width: 70%;\">\n                                <small>from</small>\n                                <p style={{ fontSize: 22 }} class=\"mb-1 text-uppercase FB\">{saleHeader.company_name}</p>\n                                <p class=\"mb-1 address\"><span class=\"FB\">Address:</span> {company.address}</p>\n                                {saleHeader.default_gst == \"true\" && <p class=\"mb-1\"><span class=\"FB\">GST :</span> {company.gst}</p>}\n                                <p class=\"mb-1\"><span class=\"FB\">Mobile:</span> {company.mobile}</p>\n                            </div>\n                            <div>\n                                <div class=\"mb-3\" style={{ marginTop: \"1.4rem\" }}>\n                                    <p class=\"text-right mb-1 FB\">Bill No:</p>\n                                    <p class=\"text-right mb-1\">#{saleHeader.invoice_number}</p>\n                                </div>\n                                <div>\n                                    <p class=\"text-right mb-1 FB\">Date:</p>\n                                    <p class=\"text-right mb-1\">{saleHeader.sale_date}</p>\n                                </div>\n                            </div>\n                        </div>\n\n                        <div class=\"width: 70%;\">\n                            <small>to</small>\n                            <p style={{ fontSize: 22 }} class=\"mb-1 text-uppercase FB\">{customer.name}</p>\n                            <p class=\"mb-1 address\"><span class=\"FB\">Address:</span> {customer.address}</p>\n                            {saleHeader.default_gst == \"true\" && <p class=\"mb-1\"><span class=\"FB\">GST :</span> {customer.gst_number}</p>}\n                            <p class=\"mb-1\"><span class=\"FB\">Mobile:</span> {customer.mobile}</p>\n                        </div>\n\n                        <hr />\n\n                        <div class=\"bill-mid-section\">\n                            <table>\n                                <thead>\n                                    <tr class=\"table-head\">\n                                        <td>\n                                            <p>#</p>\n                                        </td>\n                                        <td>\n                                            <p>Product</p>\n                                        </td>\n                                        <td>\n                                            <p class=\"textRight\">QTY</p>\n                                        </td>\n                                        <td>\n                                            <p class=\"textRight\">Amount</p>\n                                        </td>\n                                        <td>\n                                            <p class=\"textRight\">Total</p>\n                                        </td>\n                                    </tr>\n                                </thead>\n\n                                <tbody>\n                                    {saleItem.map((item, index) => (\n                                        <tr key={index}>\n                                            <td>{index + 1}</td>\n                                            <td>\n                                                {item.product_name}\n                                            </td>\n                                            <td>{item.qty}</td>\n                                            <td>{item.sale_price}</td>\n                                            <td>{item.total}</td>\n                                        </tr>\n                                    ))}\n                                </tbody>\n                            </table>\n                        </div>\n\n                        <div class=\"bill-lower-section\">\n                            <div class=\"DFlex\">\n                                <p class=\"right-section\">Order Value</p>\n                                <p>{(parseFloat(saleHeader.total_after_roundoff) - parseFloat(saleHeader.taxable_amount) - parseFloat(saleHeader.item_discount_amount)).toFixed(2)}</p>\n                            </div>\n                            <div class=\"DFlex\">\n                                <p class=\"right-section\">total tax</p>\n                                <p>{saleHeader.taxable_amount}</p>\n                            </div>\n                            <div class=\"DFlex\">\n                                <p class=\"right-section\">discount(Amt.)</p>\n                                <p>{saleHeader.item_discount_amount}</p>\n                            </div>\n                            <div class=\"DFlex\">\n                                <p class=\"right-section FB\">Grand Total</p>\n                                <p>{saleHeader.total_after_roundoff}</p>\n                            </div>\n                        </div>\n                        <hr />\n                        <h2 class=\"thanks\">THANKS FOR YOUR BUSINESS</h2>\n\n                    </div>\n                </div>\n            )}\n            {/* a4 bill structure */}\n            {saleItem.length > 0 && (\n                <div style={{ display: 'none' }} id='a4-print' class=\"page-content\">\n                    <div class=\"page-header justify-content-center pt-3 text-blue-d2\">\n                        <h1 class=\"page-title text-secondary-d1\">{saleHeader.default_gst == \"true\" ? \"Tax Invoice\" : \"Estimation\"}</h1>\n                    </div>\n\n                    <div class=\"container px-0\">\n                        <div class=\"row mt-4\">\n                            <div class=\"col-12 col-lg-12\">\n                                <div class=\"invoice-header d-flex justify-content-between\">\n                                    <div class=\"invoice-from pr-4\">\n                                        <small>from</small>\n                                        <address class=\"m-t-5 m-b-5\">\n                                            <strong class=\"text-inverse\">{saleHeader.company_name}</strong>\n                                            <p class=\"my-1\"><span class=\"text-600\">Address:</span> {company.address}</p>\n                                            <p class=\"my-1\"><span class=\"text-600\">Phone:</span> {company.mobile}</p>\n                                            {saleHeader.default_gst == \"true\" && <p class=\"my-1\"><span class=\"text-600\">GST:</span> {company.gst}</p>}\n                                        </address>\n                                    </div>\n                                    <div class=\"invoice-to px-4\">\n                                        <small>to</small>\n                                        <address class=\"m-t-5 m-b-5\">\n                                            <strong class=\"text-inverse\">{customer.name}</strong>\n                                            <p class=\"my-1\"><span class=\"text-600\">Address:</span>\n                                                {customer.address}\n                                            </p>\n                                            <p class=\"my-1\"><span class=\"text-600\">Phone:</span> {customer.mobile}</p>\n                                            {saleHeader.default_gst == \"true\" && <p class=\"my-1\"><span class=\"text-600\">GST:</span> {customer.gst_number}</p>}\n\n                                        </address>\n                                    </div>\n                                    <div class=\"invoice-date pl-4\">\n\n                                        <div class=\"my-2\"><i class=\"fa fa-circle text-blue-m2 text-xs mr-1\"></i> <span\n                                            class=\"text-600 text-90\">Invoice No:</span> #{saleHeader.invoice_number}</div>\n\n                                        <div class=\"my-2\"><i class=\"fa fa-circle text-blue-m2 text-xs mr-1\"></i> <span\n                                            class=\"text-600 text-90\">Date:</span> {saleHeader.sale_date}</div>\n                                    </div>\n                                </div>\n                                <div class=\"row border-b-2 brc-default-l2\"></div>\n\n                                <div class=\"table-responsive table-div\">\n                                    <table class=\"table table-striped brc-default-l1\">\n                                        <thead class=\"bg-none bgc-default-tp1\">\n                                            <tr class=\"\">\n                                                <th class=\"opacity-2\">#</th>\n                                                <th>Goods</th>\n                                                <th>HSN Code</th>\n                                                <th>Qty</th>\n                                                <th>Unit</th>\n                                                <th>Rate</th>\n                                                <th>Amount</th>\n                                                {saleHeader.default_gst == \"true\" && <th>Tax Value</th>}\n                                                <th>Discount</th>\n                                                <th width=\"140\">Total</th>\n                                            </tr>\n                                        </thead>\n\n                                        <tbody class=\"text-95 text-secondary-d3\">\n                                            <tr></tr>\n                                            {saleItem.map((item, index) => (\n                                                <tr key={index}>\n                                                    <td>{index + 1}</td>\n                                                    <td>\n                                                        {item.product_name}\n                                                    </td>\n                                                    <td>{item.hsbn}</td>\n                                                    <td>{item.qty}</td>\n                                                    <td>{item.product_unit}</td>\n                                                    <td>{item.sale_price}</td>\n                                                    <td>{(parseFloat(item.qty) * parseFloat(item.sale_price)).toFixed(2)}</td>\n                                                    {saleHeader.default_gst == \"true\" && <td>{item.tax_percent}</td>}\n                                                    <td>{item.discount_amount}</td>\n                                                    <td>{item.total}</td>\n                                                </tr>\n                                            ))}\n\n                                        </tbody>\n                                    </table>\n                                </div>\n\n\n                                <div class=\"row mt-3\">\n                                    <div class=\"col-12 col-sm-7 text-grey-d2 text-95 mt-2 mt-lg-0\">\n                                        Extra note such as company or payment information...\n                                        <p className='text-capitalize'>Amount In Rupees : {converter.toWords(parseInt(saleHeader.total_after_roundoff))} Only</p>\n                                    </div>\n\n                                    <div class=\"col-12 col-sm-5 text-grey text-90 order-first order-sm-last\">\n                                        <div class=\"row my-2\">\n                                            <div class=\"col-7 text-right\">\n                                                SubTotal\n                                            </div>\n                                            <div class=\"col-5\">\n                                                <span class=\"text-120 text-secondary-d1\">\n                                                    {(parseFloat(saleHeader.total_after_roundoff) - parseFloat(saleHeader.taxable_amount) - parseFloat(saleHeader.item_discount_amount)).toFixed(2)}\n                                                </span>\n                                            </div>\n                                        </div>\n\n                                        <div class=\"row my-2\">\n                                            <div class=\"col-7 text-right\">\n                                                Tax\n                                            </div>\n                                            <div class=\"col-5\">\n                                                <span class=\"text-110 text-secondary-d1\">\n                                                    {saleHeader.taxable_amount}\n                                                </span>\n                                            </div>\n                                        </div>\n\n                                        <div class=\"row my-2\">\n                                            <div class=\"col-7 text-right\">\n                                                Discount\n                                            </div>\n                                            <div class=\"col-5\">\n                                                <span class=\"text-110 text-secondary-d1\">\n                                                    {saleHeader.item_discount_amount}\n                                                </span>\n                                            </div>\n                                        </div>\n\n                                        <div class=\"row my-2 align-items-center bgc-primary-l3 p-2\">\n                                            <div class=\"col-7 text-right\">\n                                                Total Amount\n                                            </div>\n                                            <div class=\"col-5\">\n                                                <span class=\"text-150 text-success-d3 opacity-2\">\n                                                    {saleHeader.total_after_roundoff}\n                                                </span>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n\n                                <hr />\n\n                                <div>\n                                    <span class=\"text-secondary-d1 text-105\">Thank you for your business</span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* end print sales bill */}\n\n        </section>\n    )\n}"]},"metadata":{},"sourceType":"module"}