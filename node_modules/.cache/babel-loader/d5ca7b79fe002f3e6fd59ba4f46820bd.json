{"ast":null,"code":"import _asyncToGenerator from \"/Users/alihussainkabri/Downloads/projects/mwbbazar/stock-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\n\nvar _jsxFileName = \"/Users/alihussainkabri/Downloads/projects/mwbbazar/stock-app/src/containers/TheHeaderDropdown.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport _regeneratorRuntime from \"/Users/alihussainkabri/Downloads/projects/mwbbazar/stock-app/node_modules/@babel/runtime/regenerator/index.js\";\nimport React from 'react';\nimport { CDropdown, CDropdownItem, CDropdownMenu, CDropdownToggle, CImg } from '@coreui/react';\nimport CIcon from '@coreui/icons-react';\nimport { userContext } from '../context/UserContext';\nimport { url } from 'src/helpers/helpers';\nimport { toast } from 'react-toastify';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar TheHeaderDropdown = function TheHeaderDropdown() {\n  _s();\n\n  var _React$useContext = React.useContext(userContext),\n      setUser = _React$useContext.setUser,\n      user = _React$useContext.user;\n\n  var logout = function logout() {\n    setUser(null);\n    return window.location = window.location.origin + '/#/login';\n  };\n\n  return /*#__PURE__*/_jsxDEV(CDropdown, {\n    inNav: true,\n    className: \"c-header-nav-items mx-2\",\n    direction: \"down\",\n    children: [/*#__PURE__*/_jsxDEV(CDropdownToggle, {\n      className: \"c-header-nav-link\",\n      caret: false,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"c-avatar\",\n        children: /*#__PURE__*/_jsxDEV(CImg, {\n          src: 'avatars/6.jpg',\n          className: \"c-avatar-img\",\n          alt: \"admin@bootstrapmaster.com\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 29,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(CDropdownMenu, {\n      className: \"pt-0\",\n      placement: \"bottom-end\",\n      children: [/*#__PURE__*/_jsxDEV(CDropdownItem, {\n        header: true,\n        tag: \"div\",\n        color: \"light\",\n        className: \"text-center\",\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Settings\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(CDropdownItem, {\n        onClick: /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n          var res, formData, response, data;\n          return _regeneratorRuntime.wrap(function _callee$(_context) {\n            while (1) {\n              switch (_context.prev = _context.next) {\n                case 0:\n                  res = window.prompt(\"Enter New Password\");\n\n                  if (!(res.length > 0)) {\n                    _context.next = 14;\n                    break;\n                  }\n\n                  formData = new FormData();\n                  formData.append(\"password\", res);\n                  _context.next = 6;\n                  return fetch(url + 'update-user-password', {\n                    method: \"POST\",\n                    headers: {\n                      \"Authorization\": user === null || user === void 0 ? void 0 : user.token\n                    },\n                    body: formData\n                  });\n\n                case 6:\n                  response = _context.sent;\n\n                  if (!(response.ok === true)) {\n                    _context.next = 12;\n                    break;\n                  }\n\n                  _context.next = 10;\n                  return response.json();\n\n                case 10:\n                  data = _context.sent;\n\n                  if (data.status == 200) {\n                    toast.success(data.message);\n                  } else {\n                    toast.error(data.message);\n                  }\n\n                case 12:\n                  _context.next = 14;\n                  break;\n\n                case 14:\n                case \"end\":\n                  return _context.stop();\n              }\n            }\n          }, _callee);\n        })),\n        children: [/*#__PURE__*/_jsxDEV(CIcon, {\n          name: \"cil-user\",\n          className: \"mfe-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, _this), \"Change Password\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(CDropdownItem, {\n        onClick: function onClick() {\n          return logout();\n        },\n        children: [/*#__PURE__*/_jsxDEV(CIcon, {\n          name: \"cil-lock-locked\",\n          className: \"mfe-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, _this), \"Logout\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(TheHeaderDropdown, \"fjT/bNPsJCAuwNIcHzBqaRoSquU=\");\n\n_c = TheHeaderDropdown;\nexport default TheHeaderDropdown;\n\nvar _c;\n\n$RefreshReg$(_c, \"TheHeaderDropdown\");","map":{"version":3,"sources":["/Users/alihussainkabri/Downloads/projects/mwbbazar/stock-app/src/containers/TheHeaderDropdown.js"],"names":["React","CDropdown","CDropdownItem","CDropdownMenu","CDropdownToggle","CImg","CIcon","userContext","url","toast","TheHeaderDropdown","useContext","setUser","user","logout","window","location","origin","res","prompt","length","formData","FormData","append","fetch","method","headers","token","body","response","ok","json","data","status","success","message","error"],"mappings":"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","sourcesContent":["import React from 'react'\nimport {\n  CDropdown,\n  CDropdownItem,\n  CDropdownMenu,\n  CDropdownToggle,\n  CImg\n} from '@coreui/react'\nimport CIcon from '@coreui/icons-react'\nimport {userContext} from '../context/UserContext'\nimport { url } from 'src/helpers/helpers'\nimport { toast } from 'react-toastify'\n\nconst TheHeaderDropdown = () => {\n  const {setUser,user} = React.useContext(userContext);\n  const logout = () => {\n    setUser(null);\n    return window.location = window.location.origin + '/#/login'\n  }\n\n  return (\n    <CDropdown\n      inNav\n      className=\"c-header-nav-items mx-2\"\n      direction=\"down\"\n    >\n      <CDropdownToggle className=\"c-header-nav-link\" caret={false}>\n        <div className=\"c-avatar\">\n          <CImg\n            src={'avatars/6.jpg'}\n            className=\"c-avatar-img\"\n            alt=\"admin@bootstrapmaster.com\"\n          />\n        </div>\n      </CDropdownToggle>\n      <CDropdownMenu className=\"pt-0\" placement=\"bottom-end\">\n        <CDropdownItem\n          header\n          tag=\"div\"\n          color=\"light\"\n          className=\"text-center\"\n        >\n          <strong>Settings</strong>\n        </CDropdownItem>\n        <CDropdownItem onClick={async ()=>{\n          const res = window.prompt(\"Enter New Password\");\n          if (res.length > 0){\n            const formData = new FormData();\n            formData.append(\"password\",res);\n            const response = await fetch(url + 'update-user-password',{\n              method : \"POST\",\n              headers : {\n                \"Authorization\" : user?.token\n              },\n              body : formData\n            });\n\n            if (response.ok === true){\n              const data = await response.json();\n              if (data.status == 200){\n                toast.success(data.message)\n              }else{\n                toast.error(data.message)\n              }\n            }\n          }else{\n            // \n          }\n        }}>\n          <CIcon name=\"cil-user\" className=\"mfe-2\" />Change Password\n        </CDropdownItem>\n        <CDropdownItem onClick={()=>logout()}>\n          <CIcon name=\"cil-lock-locked\" className=\"mfe-2\" />\n          Logout\n        </CDropdownItem>\n      </CDropdownMenu>\n    </CDropdown>\n  )\n}\n\nexport default TheHeaderDropdown\n"]},"metadata":{},"sourceType":"module"}