{"ast":null,"code":"import _toConsumableArray from\"/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _asyncToGenerator from\"/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/regenerator/index.js\";import{CModal,CModalBody,CModalHeader}from'@coreui/react';import React from'react';import{url}from'src/helpers/helpers';import{userContext}from'../context/UserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function PartyModal(props){var _React$useContext=React.useContext(userContext),user=_React$useContext.user,setLoad=_React$useContext.setLoad;var partymodal=props.partymodal,setPartyModal=props.setPartyModal,allParty=props.allParty,setAllParty=props.setAllParty,setCurrentParty=props.setCurrentParty;var _React$useState=React.useState(''),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setName=_React$useState2[1];var _React$useState3=React.useState(''),_React$useState4=_slicedToArray(_React$useState3,2),gst=_React$useState4[0],setGST=_React$useState4[1];var _React$useState5=React.useState(0),_React$useState6=_slicedToArray(_React$useState5,2),due_amount=_React$useState6[0],setDueAmount=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),mobile=_React$useState8[0],setMobile=_React$useState8[1];var _React$useState9=React.useState(''),_React$useState10=_slicedToArray(_React$useState9,2),address=_React$useState10[0],setAddress=_React$useState10[1];var _React$useState11=React.useState(''),_React$useState12=_slicedToArray(_React$useState11,2),email=_React$useState12[0],setEmail=_React$useState12[1];var handleSubmit=function handleSubmit(e){e.preventDefault();setLoad(true);function submitData(){return _submitData.apply(this,arguments);}function _submitData(){_submitData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var formData,response,data,parties;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:formData=new FormData();formData.append('name',name);formData.append('email',email);formData.append('mobile',mobile);formData.append('address',address);formData.append('gst',gst);formData.append('due_amount',due_amount);_context.next=9;return fetch(url+'createmodalParty',{method:'POST',headers:{'Authorization':user===null||user===void 0?void 0:user.token},body:formData});case 9:response=_context.sent;if(!(response.ok===true)){_context.next=16;break;}_context.next=13;return response.json();case 13:data=_context.sent;setLoad(false);if(data.status===200){parties=[];if(data.party){parties.push.apply(parties,_toConsumableArray(allParty).concat([data.party]));setAllParty(parties);setCurrentParty(data.party);}setName('');setEmail('');setMobile('');setAddress('');setGST('');setDueAmount(0);}else{console.log(data.message);}case 16:case\"end\":return _context.stop();}}},_callee);}));return _submitData.apply(this,arguments);}submitData();setPartyModal(false);};return/*#__PURE__*/_jsx(\"div\",{className:\"container full-size-create-page-main-section\",children:/*#__PURE__*/_jsxs(CModal,{show:partymodal,onClose:setPartyModal,children:[/*#__PURE__*/_jsx(CModalHeader,{closeButton:true,children:\"Create Party\"}),/*#__PURE__*/_jsxs(CModalBody,{className:\"delete-modal-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"\",className:\"text-center\",children:[\"Name\",/*#__PURE__*/_jsx(\"span\",{className:\"required-label\",children:\"*\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:name,onChange:function onChange(e){return setName(e.target.value);},className:\"form-control\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Email\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:email,onChange:function onChange(e){return setEmail(e.target.value);},className:\"form-control\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"\",children:[\"Mobile\",/*#__PURE__*/_jsx(\"span\",{className:\"required-label\",children:\"*\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:mobile,onChange:function onChange(e){return setMobile(e.target.value);},className:\"form-control\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Due_Amount\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:due_amount,onChange:function onChange(e){return setDueAmount(e.target.value);},className:\"form-control\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"GST\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:gst,onChange:function onChange(e){return setGST(e.target.value);},className:\"form-control\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-3\",children:/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Address\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:address,onChange:function onChange(e){return setAddress(e.target.value);},className:\"form-control\"})})]})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:function onClick(e){return handleSubmit(e);},className:\"col-12 btn btn-secondary\",children:\"Submit\"})]})]})});}","map":{"version":3,"sources":["/Users/alihussainkabri/Downloads/projects/old projects/erp2.0/erp-2.0/frontend/src/components/CreatePartyModal.js"],"names":["CModal","CModalBody","CModalHeader","React","url","userContext","PartyModal","props","useContext","user","setLoad","partymodal","setPartyModal","allParty","setAllParty","setCurrentParty","useState","name","setName","gst","setGST","due_amount","setDueAmount","mobile","setMobile","address","setAddress","email","setEmail","handleSubmit","e","preventDefault","submitData","formData","FormData","append","fetch","method","headers","token","body","response","ok","json","data","status","parties","party","push","console","log","message","target","value"],"mappings":"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","sourcesContent":["import { CModal, CModalBody, CModalHeader } from '@coreui/react'\nimport React from 'react';\nimport { url } from 'src/helpers/helpers';\nimport { userContext } from '../context/UserContext'\n\nexport default function PartyModal(props) {\n    const { user, setLoad } = React.useContext(userContext);\n    const { partymodal, setPartyModal, allParty, setAllParty, setCurrentParty } = props;\n    const [name, setName] = React.useState('');\n    const [gst,setGST] = React.useState('');\n    const [due_amount, setDueAmount] = React.useState(0);\n    const [mobile,setMobile] = React.useState('');\n    const [address, setAddress] = React.useState(''); \n    const [email, setEmail] = React.useState('');\n    \n    const handleSubmit=(e)=>{\n        e.preventDefault();\n        setLoad(true);\n        async function submitData() {\n            const formData = new FormData();\n            formData.append('name', name);\n            formData.append('email', email);\n            formData.append('mobile', mobile);\n            formData.append('address', address);\n            formData.append('gst', gst);\n            formData.append('due_amount',due_amount);\n    \n            const response = await fetch(url + 'createmodalParty', {\n                method: 'POST',\n                headers: {\n                    'Authorization': user?.token\n                },\n                body: formData\n            })\n\n            if (response.ok === true) {\n                const data = await response.json();\n                setLoad(false);\n                if (data.status === 200) {\n                    let parties=[];\n                    if(data.party){\n                    parties.push(...allParty,data.party);\n                    setAllParty(parties);\n                    setCurrentParty(data.party);\n                    }\n                    setName('');\n                    setEmail('');\n                    setMobile('');\n                    setAddress('');\n                    setGST('');\n                    setDueAmount(0);\n                } else {\n                    console.log(data.message);\n                }\n            }\n        }\n        submitData();\n        setPartyModal(false);\n    }\n\n    return (\n        <div className='container full-size-create-page-main-section'>\n            <CModal\n                show={partymodal}\n                onClose={setPartyModal}\n            >\n                <CModalHeader closeButton>\n                    Create Party\n                </CModalHeader>\n                <CModalBody className=\"delete-modal-box\">\n                        <div className=\"container\">\n                            <div className=\"form-group row\">\n                                <div className=\"col-3\">\n                                <label htmlFor=\"\" className=\"text-center\">Name<span className='required-label'>*</span></label>\n                                </div>\n                                <div className=\"col-6\">\n                                <input type=\"text\" value={name} onChange={e => setName(e.target.value)} className='form-control' />\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <div className=\"col-3\">\n                                <label htmlFor=\"\">Email</label>\n                                </div>\n                                <div className=\"col-6\">\n                                <input type=\"text\" value={email} onChange={e => setEmail(e.target.value)} className='form-control' />\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <div className=\"col-3\">\n                                <label htmlFor=\"\">Mobile<span className='required-label'>*</span></label>\n                                </div>\n                                <div className=\"col-6\">\n                                <input type=\"text\" value={mobile} onChange={e => setMobile(e.target.value)} className='form-control' />\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <div className=\"col-3\">\n                                <label htmlFor=\"\">Due_Amount</label>\n                                </div>\n                                <div className=\"col-6\">\n                                <input type=\"text\" value={due_amount} onChange={e => setDueAmount(e.target.value)} className='form-control' />\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <div className=\"col-3\">\n                                <label htmlFor=\"\">GST</label>\n                                </div>\n                                <div className=\"col-6\">\n                                <input type=\"text\" value={gst} onChange={e => setGST(e.target.value)} className='form-control' />\n                                </div>\n                            </div>\n                            <div className=\"form-group row\">\n                                <div className=\"col-3\">\n                                <label htmlFor=\"\">Address</label>\n                                </div>\n                                <div className=\"col-6\">\n                                <input type=\"text\" value={address} onChange={e => setAddress(e.target.value)} className='form-control' />\n                                </div>\n                            </div>\n                    </div>\n                    <button type='submit' onClick={(e) => handleSubmit(e)} className='col-12 btn btn-secondary'>Submit</button>\n                </CModalBody>\n            </CModal>\n        </div>\n\n    )\n}\n"]},"metadata":{},"sourceType":"module"}