{"ast":null,"code":"import _asyncToGenerator from\"/Volumes/Disk SSD/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Volumes/Disk SSD/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Volumes/Disk SSD/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/regenerator/index.js\";import React,{Fragment}from'react';import ReactDatatable from'@ashvin27/react-datatable';import{formatDate}from'src/helpers/helpers';import{url}from'src/helpers/helpers';import{toast,ToastContainer}from'react-toastify';import{userContext}from'../../context/UserContext';import CustomModal from'../../components/CustomModal';import InventoryAdjustModal from'../../components/InventoryAdjustModal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Index(){var _React$useContext=React.useContext(userContext),user=_React$useContext.user,setLoad=_React$useContext.setLoad;var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),recieptList=_React$useState2[0],setRecieptList=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),showModal=_React$useState4[0],setShowModal=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),modal=_React$useState6[0],setModal=_React$useState6[1];var _React$useState7=React.useState(''),_React$useState8=_slicedToArray(_React$useState7,2),type=_React$useState8[0],setType=_React$useState8[1];var _React$useState9=React.useState(''),_React$useState10=_slicedToArray(_React$useState9,2),id=_React$useState10[0],setId=_React$useState10[1];var _React$useState11=React.useState(''),_React$useState12=_slicedToArray(_React$useState11,2),from_Date=_React$useState12[0],setFromDate=_React$useState12[1];var _React$useState13=React.useState(''),_React$useState14=_slicedToArray(_React$useState13,2),to_Date=_React$useState14[0],setToDate=_React$useState14[1];var _React$useState15=React.useState(0),_React$useState16=_slicedToArray(_React$useState15,2),total=_React$useState16[0],setTotal=_React$useState16[1];var _React$useState17=React.useState(''),_React$useState18=_slicedToArray(_React$useState17,2),adjutAmount=_React$useState18[0],setAdjustAmount=_React$useState18[1];var deleteEntry=function deleteEntry(){setLoad(true);function deleteData(){return _deleteData.apply(this,arguments);}function _deleteData(){_deleteData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var response,data,_fetchData;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(url+'deleteReciept/'+id,{method:'GET',headers:{'Authorization':user===null||user===void 0?void 0:user.token}});case 2:response=_context2.sent;_context2.next=5;return response.json();case 5:data=_context2.sent;if(data.status===200){_fetchData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,_data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url+'fetchRecieptList',{method:'GET',headers:{'Authorization':user===null||user===void 0?void 0:user.token}});case 2:response=_context.sent;if(!(response.ok===true)){_context.next=9;break;}_context.next=6;return response.json();case 6:_data=_context.sent;setLoad(false);if(_data.status===200){setRecieptList(_data.list.map(function(item){return{'id':item.id,'payment_type':item.payment_type,'date':formatDate(item.date.split(' ')[0]),'type':item.type,'amount':item.amount,'condition':item.condition,'created_by_name':item.created_by_name};}));setTotal(parseInt(_data.total_records));}else{toast.error(_data.message);}case 9:case\"end\":return _context.stop();}}},_callee);}));return function _fetchData(){return _ref.apply(this,arguments);};}();setModal(false);setId('');_fetchData();}else{setModal(false);setId('');setLoad(false);toast.error(data.message);}case 7:case\"end\":return _context2.stop();}}},_callee2);}));return _deleteData.apply(this,arguments);}deleteData();};var submitAdjust=function submitAdjust(){setLoad(true);setLoad(true);var formData=new FormData();formData.append('new_amount',adjutAmount);function editData(){return _editData.apply(this,arguments);}function _editData(){_editData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee4(){var respone,data,_fetchData2;return _regeneratorRuntime.wrap(function _callee4$(_context4){while(1){switch(_context4.prev=_context4.next){case 0:_context4.next=2;return fetch(url+'updateReciept/'+id,{method:'POST',headers:{'Authorization':user.token},body:formData});case 2:respone=_context4.sent;if(!(respone.ok===true)){_context4.next=9;break;}_context4.next=6;return respone.json();case 6:data=_context4.sent;setLoad(false);if(data.status===200){_fetchData2=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(){var response,_data2;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return fetch(url+'fetchRecieptList',{method:'GET',headers:{'Authorization':user===null||user===void 0?void 0:user.token}});case 2:response=_context3.sent;if(!(response.ok===true)){_context3.next=8;break;}_context3.next=6;return response.json();case 6:_data2=_context3.sent;if(_data2.status===200){setRecieptList(_data2.list.map(function(item){return{'id':item.id,'payment_type':item.payment_type,'date':formatDate(item.date.split(' ')[0]),'type':item.type,'amount':item.amount,'condition':item.condition,'created_by_name':item.created_by_name};}));setTotal(parseInt(_data2.total_records));}else{toast.error(_data2.message);}case 8:case\"end\":return _context3.stop();}}},_callee3);}));return function _fetchData2(){return _ref2.apply(this,arguments);};}();setId('');setAdjustAmount('');setShowModal(false);_fetchData2();}else{toast.error(data.message);}case 9:case\"end\":return _context4.stop();}}},_callee4);}));return _editData.apply(this,arguments);}editData();};React.useEffect(function(){setLoad(true);function fetchData(){return _fetchData3.apply(this,arguments);}function _fetchData3(){_fetchData3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee5(){var response,data;return _regeneratorRuntime.wrap(function _callee5$(_context5){while(1){switch(_context5.prev=_context5.next){case 0:_context5.next=2;return fetch(url+'fetchRecieptList',{method:'GET',headers:{'Authorization':user===null||user===void 0?void 0:user.token}});case 2:response=_context5.sent;if(!(response.ok===true)){_context5.next=9;break;}_context5.next=6;return response.json();case 6:data=_context5.sent;setLoad(false);if(data.status===200){setRecieptList(data.list.map(function(item){return{'id':item.id,'payment_type':item.payment_type,'date':formatDate(item.date.split(' ')[0]),'type':item.type,'amount':item.amount,'condition':item.condition,'created_by_name':item.created_by_name};}));setTotal(parseInt(data.total_records));}else{toast.error(data.message);}case 9:case\"end\":return _context5.stop();}}},_callee5);}));return _fetchData3.apply(this,arguments);}fetchData();},[]);function handleSubmit(e){e.preventDefault();var string=\"\";if(to_Date&&from_Date&&type){string=\"to=\".concat(to_Date,\"&from=\").concat(from_Date,\"&type=\").concat(type);}else if(to_Date&&from_Date){string=\"to=\".concat(to_Date,\"&from=\").concat(from_Date);}else if(type){string=\"type=\".concat(type);}setLoad(true);function submit(){return _submit.apply(this,arguments);}function _submit(){_submit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee6(){var response,data;return _regeneratorRuntime.wrap(function _callee6$(_context6){while(1){switch(_context6.prev=_context6.next){case 0:_context6.next=2;return fetch(url+\"fetchRecieptList?\".concat(string),{method:'GET',headers:{'Authorization':user===null||user===void 0?void 0:user.token}});case 2:response=_context6.sent;if(!(response.ok===true)){_context6.next=11;break;}_context6.next=6;return response.json();case 6:data=_context6.sent;setLoad(false);if(data.status===200){setRecieptList(data.list.map(function(item){return{'id':item.id,'payment_type':item.payment_type,'date':formatDate(item.date.split(' ')[0]),'type':item.type,'amount':item.amount,'condition':item.condition,'created_by_name':item.created_by_name};}));setTotal(parseInt(data.total_records));}else{toast.error(data.message);}_context6.next=12;break;case 11:toast.error('Oops something went wrong!');case 12:case\"end\":return _context6.stop();}}},_callee6);}));return _submit.apply(this,arguments);}submit().catch(function(err){return toast.error('Internal server error!. Please try again later');});}var columns=[{key:\"id\",text:\"Reciept Id\",className:\"id\",sortable:true},{key:\"type\",text:\"Type\",className:\"type\",sortable:true},{key:\"amount\",text:\"Amount\",className:\"amount\",sortable:true},{key:\"date\",text:\"Date\",className:\"date\",sortable:true},{key:\"condition\",text:\"Condition\",className:\"condition\",sortable:true},{key:\"payment_type\",text:\"Payment Type\",className:\"payment_type\",sortable:true},{key:\"created_by_name\",text:\"Created By\",className:\"created_by_name\",sortable:true},{key:\"action\",text:\"Action\",className:\"action\",width:100,sortable:false,cell:function cell(record){return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"i\",{style:{cursor:'pointer'},onClick:function onClick(){return showModalFunc(record.id);},class:\"fa fa-pencil\",\"aria-hidden\":\"true\"})});}}];var config={page_size:10,length_menu:[10,20,50],button:{excel:false,print:false,extra:false}};var showModalFunc=function showModalFunc(id){setId(id);setShowModal(true);};var showModalDel=function showModalDel(id){setId(id);setModal(true);};function fetchData(_x){return _fetchData4.apply(this,arguments);}function _fetchData4(){_fetchData4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee7(query){var response,data;return _regeneratorRuntime.wrap(function _callee7$(_context7){while(1){switch(_context7.prev=_context7.next){case 0:setLoad(true);_context7.next=3;return fetch(url+query,{method:'GET',headers:{'Authorization':user===null||user===void 0?void 0:user.token}});case 3:response=_context7.sent;if(!(response.ok===true)){_context7.next=10;break;}_context7.next=7;return response.json();case 7:data=_context7.sent;setLoad(false);if(data.status===200){setRecieptList(data.list.map(function(item){return{'id':item.id,'payment_type':item.payment_type,'date':formatDate(item.date.split(' ')[0]),'type':item.type,'amount':item.amount,'condition':item.condition,'created_by_name':item.created_by_name};}));setTotal(parseInt(data.total_records));}else{toast.error(data.message);}case 10:case\"end\":return _context7.stop();}}},_callee7);}));return _fetchData4.apply(this,arguments);}var handleChange=function handleChange(e){var string=\"\";if(to_Date&&from_Date&&type){string=\"&to=\".concat(to_Date,\"&from=\").concat(from_Date,\"&type=\").concat(type);}else if(to_Date&&from_Date){string=\"&to=\".concat(to_Date,\"&from=\").concat(from_Date);}else if(type){string=\"&type=\".concat(type);}var query=\"fetchRecieptList?page_number=\".concat(e.page_number,\"&page_size=\").concat(e.page_size,\"&filter_value=\").concat(e.filter_value).concat(string);if(e.sort_order){var sort=JSON.stringify(e.sort_order);query=\"fetchRecieptList?page_number=\".concat(e.page_number,\"&page_size=\").concat(e.page_size,\"&filter_value=\").concat(e.filter_value,\"&sort_order=\").concat(sort).concat(string);}fetchData(query);};return/*#__PURE__*/_jsxs(\"section\",{children:[/*#__PURE__*/_jsx(ToastContainer,{}),/*#__PURE__*/_jsx(CustomModal,{modal:modal,setModal:setModal,deleteEntry:deleteEntry}),/*#__PURE__*/_jsx(InventoryAdjustModal,{header:\"Adjust Reciept\",Label:\"Amount\",showModal:showModal,setShowModal:setShowModal,adjutAmount:adjutAmount,setAdjustAmount:setAdjustAmount,submitAdjust:submitAdjust}),/*#__PURE__*/_jsx(\"form\",{onSubmit:function onSubmit(e){return handleSubmit(e);},children:/*#__PURE__*/_jsxs(\"div\",{class:\"form-row create-purchase-header\",children:[/*#__PURE__*/_jsxs(\"div\",{class:\"form-group col-md-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"date\",children:\"From\"}),/*#__PURE__*/_jsx(\"input\",{value:from_Date,onChange:function onChange(e){return setFromDate(e.target.value);},type:\"date\",class:\"form-control\",id:\"date\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group col-md-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"date\",children:\"To\"}),/*#__PURE__*/_jsx(\"input\",{value:to_Date,onChange:function onChange(e){return setToDate(e.target.value);},type:\"date\",class:\"form-control\",id:\"date\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-group col-md-3\",children:[/*#__PURE__*/_jsx(\"label\",{for:\"input-type\",class:\"col-md-4 col-form-label\",children:\"Type\"}),/*#__PURE__*/_jsxs(\"select\",{value:type,onChange:function onChange(e){return setType(e.target.value);},id:\"input-type\",class:\"form-control\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All\"}),/*#__PURE__*/_jsx(\"option\",{value:\"purchase\",children:\"Purchase\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sales\",children:\"Sales\"}),/*#__PURE__*/_jsx(\"option\",{value:\"expense\",children:\"Expenses\"}),/*#__PURE__*/_jsx(\"option\",{value:\"customer\",children:\"Customer\"}),/*#__PURE__*/_jsx(\"option\",{value:\"party\",children:\"Party\"}),/*#__PURE__*/_jsx(\"option\",{value:\"purchase_return\",children:\"Purchase Return\"}),/*#__PURE__*/_jsx(\"option\",{value:\"sales_retrn\",children:\"Sales Return\"})]})]}),/*#__PURE__*/_jsx(\"div\",{class:\"form-group col-md-3\",children:/*#__PURE__*/_jsx(\"button\",{type:\"Submit\",class:\"font-weight-bold my-4 py-2 px-4 btn btn-success\",children:\"Filter\"})})]})}),/*#__PURE__*/_jsx(ReactDatatable,{config:config,records:recieptList,columns:columns,total_record:total,onChange:function onChange(e){return handleChange(e);},dynamic:true})]});}","map":{"version":3,"sources":["/Volumes/Disk SSD/erp2.0/erp-2.0/frontend/src/screens/Reciept/index.js"],"names":["React","Fragment","ReactDatatable","formatDate","url","toast","ToastContainer","userContext","CustomModal","InventoryAdjustModal","Index","useContext","user","setLoad","useState","recieptList","setRecieptList","showModal","setShowModal","modal","setModal","type","setType","id","setId","from_Date","setFromDate","to_Date","setToDate","total","setTotal","adjutAmount","setAdjustAmount","deleteEntry","deleteData","fetch","method","headers","token","response","json","data","status","fetchData","ok","list","map","item","payment_type","date","split","amount","condition","created_by_name","parseInt","total_records","error","message","submitAdjust","formData","FormData","append","editData","body","respone","useEffect","handleSubmit","e","preventDefault","string","submit","catch","err","columns","key","text","className","sortable","width","cell","record","cursor","showModalFunc","config","page_size","length_menu","button","excel","print","extra","showModalDel","query","handleChange","page_number","filter_value","sort_order","sort","JSON","stringify","target","value"],"mappings":"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","sourcesContent":["import React,{Fragment} from 'react';\nimport ReactDatatable from '@ashvin27/react-datatable';\nimport { formatDate } from 'src/helpers/helpers';\nimport { url } from 'src/helpers/helpers';\nimport { toast, ToastContainer } from 'react-toastify'\nimport { userContext } from '../../context/UserContext'\nimport CustomModal from '../../components/CustomModal';\nimport InventoryAdjustModal from '../../components/InventoryAdjustModal';\n\nexport default function Index() {\n    const { user, setLoad } = React.useContext(userContext);\n    const [recieptList, setRecieptList] = React.useState([]);\n    const [showModal, setShowModal] = React.useState(false);\n    const [modal, setModal] = React.useState(false);\n    const [type,setType] = React.useState('');\n    const [id, setId] = React.useState('');\n    const [from_Date, setFromDate] = React.useState('');\n    const [to_Date, setToDate] = React.useState('');\n    const [total,setTotal] = React.useState(0);\n    const [adjutAmount, setAdjustAmount] = React.useState('');\n\n    const deleteEntry = () => {\n        setLoad(true)\n        async function deleteData() {\n            const response = await fetch(url + 'deleteReciept/' + id, {\n                method: 'GET',\n                headers: {\n                    'Authorization': user?.token\n                }\n            })\n            const data = await response.json();\n            if (data.status === 200) {\n                setModal(false);\n                setId('');\n                async function fetchData() {\n                    const response = await fetch(url + 'fetchRecieptList', {\n                        method: 'GET',\n                        headers: {\n                            'Authorization': user?.token\n                        }\n                    })\n                    if (response.ok === true) {\n                        const data = await response.json();\n                        setLoad(false)\n                        if (data.status === 200) {\n                            setRecieptList(data.list.map((item)=>{\n                                return{\n                                   'id': item.id,\n                                   'payment_type': item.payment_type,\n                                   'date': formatDate(item.date.split(' ')[0]),\n                                   'type': item.type,\n                                   'amount': item.amount,\n                                   'condition': item.condition,\n                                   'created_by_name': item.created_by_name\n                                }\n                            }));\n                            setTotal(parseInt(data.total_records));\n                        } else {\n                            toast.error(data.message);\n                        }\n                    }\n                }\n                fetchData();\n            } else {\n                setModal(false);\n                setId('');\n                setLoad(false);\n                toast.error(data.message);\n            }\n        }\n        deleteData();\n    }\n    const submitAdjust = () => {\n        setLoad(true)\n            setLoad(true)\n            const formData = new FormData();\n            formData.append('new_amount', adjutAmount);\n            async function editData() {\n                const respone = await fetch(url + 'updateReciept/' + id, {\n                    method: 'POST',\n                    headers: {\n                        'Authorization': user.token,\n                    },\n                    body: formData\n                })\n\n                if (respone.ok === true) {\n                    const data = await respone.json();\n                    setLoad(false)\n                    if (data.status === 200) {\n                        setId('');\n                        setAdjustAmount('');\n                        setShowModal(false);\n                        async function fetchData() {\n                            const response = await fetch(url + 'fetchRecieptList', {\n                                method: 'GET',\n                                headers: {\n                                    'Authorization': user?.token\n                                }\n                            })\n\n                            if (response.ok === true) {\n                                const data = await response.json();\n\n                                if (data.status === 200) {\n                                    setRecieptList(data.list.map((item)=>{\n                                        return{\n                                           'id': item.id,\n                                           'payment_type': item.payment_type,\n                                           'date': formatDate(item.date.split(' ')[0]),\n                                           'type': item.type,\n                                           'amount': item.amount,\n                                           'condition': item.condition,\n                                           'created_by_name': item.created_by_name\n                                        }\n                                    }));\n                                    setTotal(parseInt(data.total_records));\n                                } else {\n                                    toast.error(data.message);\n                                }\n                            }\n                        }\n                        fetchData();\n                    } else {\n                        toast.error(data.message)\n                    }\n                }\n            }\n            editData();\n        }\n    React.useEffect(() => {\n        setLoad(true)\n        async function fetchData() {\n            const response = await fetch(url + 'fetchRecieptList', {\n                method: 'GET',\n                headers: {\n                    'Authorization': user?.token\n                }\n            })\n            if (response.ok === true) {\n                const data = await response.json();\n                setLoad(false)\n                if (data.status === 200) {\n                    setRecieptList(data.list.map((item)=>{\n                        return{\n                           'id': item.id,\n                           'payment_type': item.payment_type,\n                           'date': formatDate(item.date.split(' ')[0]),\n                           'type': item.type,\n                           'amount': item.amount,\n                           'condition': item.condition,\n                           'created_by_name': item.created_by_name\n                        }\n                    }));\n                    setTotal(parseInt(data.total_records));\n                } else {\n                    toast.error(data.message);\n                }\n            }\n        }\n        fetchData();\n    }, [])\n\n    function handleSubmit(e){\n        e.preventDefault();\n        let string=\"\";\n        if(to_Date && from_Date && type){\n           string=`to=${to_Date}&from=${from_Date}&type=${type}`;   \n        }\n        else if(to_Date && from_Date){\n            string=`to=${to_Date}&from=${from_Date}`;\n        }\n        else if(type){\n            string=`type=${type}`\n        }\n            setLoad(true)\n            async function submit(){\n                const response = await fetch(url + `fetchRecieptList?${string}`,{\n                    method : 'GET',\n                    headers : {\n                        'Authorization' : user?.token\n                    }\n                });\n                 \n                if (response.ok === true){\n                    const data = await response.json();\n                    setLoad(false)\n                    if (data.status === 200){\n                        setRecieptList(data.list.map((item)=>{\n                            return{\n                               'id': item.id,\n                               'payment_type': item.payment_type,\n                               'date': formatDate(item.date.split(' ')[0]),\n                               'type': item.type,\n                               'amount': item.amount,\n                               'condition': item.condition,\n                               'created_by_name': item.created_by_name\n                            }\n                        }));\n                        setTotal(parseInt(data.total_records));\n                    }else{\n                        toast.error(data.message)\n                    }\n                }else{\n                    toast.error('Oops something went wrong!')\n                }\n            }\n            submit().catch(err=>toast.error('Internal server error!. Please try again later'))\n    }\n    \n    const columns = [\n        {\n            key: \"id\",\n            text: \"Reciept Id\",\n            className: \"id\",\n            sortable: true,\n        },\n        {\n            key: \"type\",\n            text: \"Type\",\n            className: \"type\",\n            sortable: true\n        },\n        {\n            key: \"amount\",\n            text: \"Amount\",\n            className: \"amount\",\n            sortable: true\n        },\n        {\n            key: \"date\",\n            text: \"Date\",\n            className: \"date\",\n            sortable: true\n        },\n        {\n            key: \"condition\",\n            text: \"Condition\",\n            className: \"condition\",\n            sortable: true\n        },\n        {\n            key: \"payment_type\",\n            text: \"Payment Type\",\n            className: \"payment_type\",\n            sortable: true\n        },\n        {\n            key: \"created_by_name\",\n            text: \"Created By\",\n            className: \"created_by_name\",\n            sortable: true\n        },\n        {\n            key: \"action\",\n            text: \"Action\",\n            className: \"action\",\n            width: 100,\n            sortable: false,\n            cell: record => { \n                return (\n                    <Fragment>\n                        <i style={{ cursor: 'pointer' }} \n                           onClick={() => showModalFunc(record.id)} \n                           class=\"fa fa-pencil\" \n                           aria-hidden=\"true\">    \n                        </i>\n                        {/* <i \n                        style={{ cursor: \"pointer\" }} \n                        onClick={() => showModalDel(record.id)} \n                        class=\"fa fa-trash\" \n                        aria-hidden=\"true\">   \n                        </i> */}\n                    </Fragment>\n                );\n            }\n        }\n    ];\n    const config = {\n        page_size: 10,\n        length_menu: [ 10, 20, 50 ],\n        button: {\n            excel: false,\n            print: false,\n            extra: false,\n        }\n    }\n    const showModalFunc = (id) => {\n        setId(id);\n        setShowModal(true);\n    }\n    const showModalDel = (id) => {\n        setId(id);\n        setModal(true);\n    }\n    async function fetchData(query) {\n        setLoad(true);\n        const response = await fetch(url + query, {\n            method: 'GET',\n            headers: {\n                'Authorization': user?.token\n            }\n        })\n        if (response.ok === true) {\n            const data = await response.json();\n            setLoad(false)\n            if (data.status === 200) {\n                setRecieptList(data.list.map((item)=>{\n                    return{\n                       'id': item.id,\n                       'payment_type': item.payment_type,\n                       'date': formatDate(item.date.split(' ')[0]),\n                       'type': item.type,\n                       'amount': item.amount,\n                       'condition': item.condition,\n                       'created_by_name': item.created_by_name\n                    }\n                }));\n                setTotal(parseInt(data.total_records));\n            } else {\n                toast.error(data.message);\n            }\n        }\n    }\n    const handleChange=(e)=>{\n        let string=\"\";\n        if(to_Date && from_Date && type){\n           string=`&to=${to_Date}&from=${from_Date}&type=${type}`;   \n        }\n        else if(to_Date && from_Date){\n            string=`&to=${to_Date}&from=${from_Date}`;\n        }\n        else if(type){\n            string=`&type=${type}`\n        }\n        let query=`fetchRecieptList?page_number=${e.page_number}&page_size=${e.page_size}&filter_value=${e.filter_value}${string}`;\n        if(e.sort_order){\n            let sort = JSON.stringify(e.sort_order);\n            query=`fetchRecieptList?page_number=${e.page_number}&page_size=${e.page_size}&filter_value=${e.filter_value}&sort_order=${sort}${string}`;\n        }\n        fetchData(query);\n    }\n\n    return (\n        <section>\n            <ToastContainer />\n            <CustomModal modal={modal} setModal={setModal} deleteEntry={deleteEntry} />\n            <InventoryAdjustModal header=\"Adjust Reciept\" Label=\"Amount\" showModal={showModal} setShowModal={setShowModal} adjutAmount={adjutAmount} setAdjustAmount={setAdjustAmount} submitAdjust={submitAdjust}/>\n            <form onSubmit={(e)=>handleSubmit(e)}>\n            <div class=\"form-row create-purchase-header\">\n            <div class=\"form-group col-md-3\">\n            <label for=\"date\">From</label>\n            <input value={from_Date} onChange={e => setFromDate(e.target.value)} type=\"date\" class=\"form-control\" id=\"date\" />\n            </div>\n            <div class=\"form-group col-md-3\">\n            <label for=\"date\">To</label>\n            <input value={to_Date} onChange={e => setToDate(e.target.value)} type=\"date\" class=\"form-control\" id=\"date\" />\n            </div>\n            <div class=\"form-group col-md-3\">\n            <label for=\"input-type\" class=\"col-md-4 col-form-label\">Type</label>\n            <select value={type} onChange={e => setType(e.target.value)} id=\"input-type\" class=\"form-control\" >\n            <option value=\"\">All</option>\n            <option value=\"purchase\">Purchase</option>\n            <option value=\"sales\">Sales</option>\n            <option value=\"expense\">Expenses</option>\n            <option value=\"customer\">Customer</option>\n            <option value=\"party\">Party</option>\n            <option value=\"purchase_return\">Purchase Return</option>\n            <option value=\"sales_retrn\">Sales Return</option>\n            </select>\n            </div>\n            <div class=\"form-group col-md-3\">\n            <button type=\"Submit\" class=\"font-weight-bold my-4 py-2 px-4 btn btn-success\">Filter</button>\n            </div>\n            </div>\n            </form>\n            <ReactDatatable\n                    config={config}\n                    records={recieptList}\n                    columns={columns}\n                    total_record={total}\n                    onChange={(e)=>handleChange(e)}\n                    dynamic={true}\n                />\n        </section>\n    )\n}"]},"metadata":{},"sourceType":"module"}