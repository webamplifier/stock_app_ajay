{"ast":null,"code":"import _asyncToGenerator from\"/Volumes/Disk SSD/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Volumes/Disk SSD/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Volumes/Disk SSD/erp2.0/erp-2.0/frontend/node_modules/@babel/runtime/regenerator/index.js\";import{CButton,CModal,CModalBody,CModalFooter,CModalHeader}from'@coreui/react';import React from'react';import Select from'react-select';import{url}from'src/helpers/helpers';import{userContext}from'../context/UserContext';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function PayModal(props){var _React$useContext=React.useContext(userContext),user=_React$useContext.user,setLoad=_React$useContext.setLoad;var paymodal=props.paymodal,setPayModal=props.setPayModal,payBill=props.payBill,payAmount=props.payAmount,setPayAmount=props.setPayAmount,paymentMode=props.paymentMode,setPaymentMode=props.setPaymentMode;var _React$useState=React.useState([]),_React$useState2=_slicedToArray(_React$useState,2),allPaymentMethods=_React$useState2[0],setAllPaymentMethods=_React$useState2[1];React.useEffect(function(){function fetchPaymentMethods(){return _fetchPaymentMethods.apply(this,arguments);}function _fetchPaymentMethods(){_fetchPaymentMethods=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setLoad(true);_context.next=3;return fetch(url+'getPaymentMethods',{method:'GET',headers:{'Authorization':user===null||user===void 0?void 0:user.token}});case 3:response=_context.sent;_context.next=6;return response.json();case 6:data=_context.sent;setLoad(false);setAllPaymentMethods(data===null||data===void 0?void 0:data.payment_methods.map(function(item){return{label:item};}));setPaymentMode({label:\"cash\"});case 10:case\"end\":return _context.stop();}}},_callee);}));return _fetchPaymentMethods.apply(this,arguments);}fetchPaymentMethods();},[]);return/*#__PURE__*/_jsx(\"div\",{className:\"delete_modal_box\",children:/*#__PURE__*/_jsxs(CModal,{show:paymodal,onClose:setPayModal,children:[/*#__PURE__*/_jsx(CModalHeader,{closeButton:true,children:\"Pay Bill\"}),/*#__PURE__*/_jsxs(CModalBody,{className:\"delete_modal_body\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Paid Amount\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:payAmount,onChange:function onChange(e){return setPayAmount(e.target.value);},className:\"form-control\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"\",children:\"Payment Method\"}),/*#__PURE__*/_jsx(Select,{options:allPaymentMethods,value:paymentMode,onChange:setPaymentMode})]})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:function onClick(){return payBill();},className:\"col-12 btn btn-secondary mb-5\",children:\"Submit\"})]})]})});}","map":{"version":3,"sources":["/Volumes/Disk SSD/erp2.0/erp-2.0/frontend/src/components/PayModal.js"],"names":["CButton","CModal","CModalBody","CModalFooter","CModalHeader","React","Select","url","userContext","PayModal","props","useContext","user","setLoad","paymodal","setPayModal","payBill","payAmount","setPayAmount","paymentMode","setPaymentMode","useState","allPaymentMethods","setAllPaymentMethods","useEffect","fetchPaymentMethods","fetch","method","headers","token","response","json","data","payment_methods","map","item","label","e","target","value"],"mappings":"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","sourcesContent":["import { CButton, CModal, CModalBody, CModalFooter, CModalHeader } from '@coreui/react'\nimport React from 'react'\nimport Select from 'react-select';\nimport { url } from 'src/helpers/helpers';\nimport { userContext } from '../context/UserContext'\n\nexport default function PayModal(props) {\n    const { user,setLoad } = React.useContext(userContext);\n    const { paymodal, setPayModal, payBill, payAmount, setPayAmount, paymentMode, setPaymentMode } = props;\n    const [allPaymentMethods, setAllPaymentMethods] = React.useState([]);\n    \n    React.useEffect(()=>{\n        async function fetchPaymentMethods() {\n            setLoad(true);\n            const response = await fetch(url + 'getPaymentMethods', {\n                method: 'GET',\n                headers: {\n                    'Authorization': user?.token\n                }\n            })\n            const data = await response.json();\n            setLoad(false);\n            setAllPaymentMethods(data?.payment_methods.map(item => {\n                return {\n                    label: item\n                }\n            }))\n            setPaymentMode({\n                label: \"cash\"\n            });\n        }\n        fetchPaymentMethods(); \n    },[]);\n\n    return (\n        \n        <div className='delete_modal_box'>\n            <CModal\n                show={paymodal}\n                onClose={setPayModal} \n            >\n                <CModalHeader closeButton>\n                    Pay Bill\n                </CModalHeader>\n                <CModalBody className='delete_modal_body'>\n                    <div className=\"row\">\n                        <div className=\"col-6\">\n                            <div className=\"form-group\">\n                                <label htmlFor=\"\">Paid Amount</label>\n                                <input type=\"text\" value={payAmount} onChange={e => setPayAmount(e.target.value)} className='form-control' />\n                            </div>\n                        </div>\n                        <div className=\"col-6\">\n                            <div className=\"form-group\">\n                                <label htmlFor=\"\">Payment Method</label>\n                                <Select options={allPaymentMethods} value={paymentMode} onChange={setPaymentMode}/>\n                            </div>\n                        </div>\n                    </div>\n                    <button type='submit' onClick={()=>payBill()} className='col-12 btn btn-secondary mb-5'>Submit</button>\n                </CModalBody>\n            </CModal>\n        </div>\n    \n    )\n}\n"]},"metadata":{},"sourceType":"module"}